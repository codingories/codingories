<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"codingories.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="这个博客用来记录自己的生活">
<meta property="og:type" content="website">
<meta property="og:title" content="OriesノBlog">
<meta property="og:url" content="codingories.github.io/page/10/index.html">
<meta property="og:site_name" content="OriesノBlog">
<meta property="og:description" content="这个博客用来记录自己的生活">
<meta property="article:author" content="Ories">
<meta property="article:tag" content="编程 吉他 rap">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="codingories.github.io/page/10/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-Hans'
  };
</script>

  <title>OriesノBlog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">OriesノBlog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">朱骏杰的私人博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2020/02/08/%E6%97%BA%E8%B4%A2%E8%AE%B0%E4%BA%8B%E6%9C%AC-%E6%95%B0%E6%8D%AE%E4%BF%9D%E5%AD%98%E8%87%B3LocalStorage/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/08/%E6%97%BA%E8%B4%A2%E8%AE%B0%E4%BA%8B%E6%9C%AC-%E6%95%B0%E6%8D%AE%E4%BF%9D%E5%AD%98%E8%87%B3LocalStorage/" class="post-title-link" itemprop="url">旺财记事本(数据保存至LocalStorage)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-02-08 10:09:21 / Modified: 16:07:57" itemprop="dateCreated datePublished" datetime="2020-02-08T10:09:21+08:00">2020-02-08</time>
            </span>

          
            <span id="/2020/02/08/%E6%97%BA%E8%B4%A2%E8%AE%B0%E4%BA%8B%E6%9C%AC-%E6%95%B0%E6%8D%AE%E4%BF%9D%E5%AD%98%E8%87%B3LocalStorage/" class="post-meta-item leancloud_visitors" data-flag-title="旺财记事本(数据保存至LocalStorage)" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/02/08/%E6%97%BA%E8%B4%A2%E8%AE%B0%E4%BA%8B%E6%9C%AC-%E6%95%B0%E6%8D%AE%E4%BF%9D%E5%AD%98%E8%87%B3LocalStorage/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/08/%E6%97%BA%E8%B4%A2%E8%AE%B0%E4%BA%8B%E6%9C%AC-%E6%95%B0%E6%8D%AE%E4%BF%9D%E5%AD%98%E8%87%B3LocalStorage/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="1-获取用户最新选择的-Tags"><a href="#1-获取用户最新选择的-Tags" class="headerlink" title="1. 获取用户最新选择的 Tags"></a>1. 获取用户最新选择的 Tags</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Tags.Vue</span><br><span class="line">this.$emit(&#39;xxx&#39;, this.selectedTags)</span><br><span class="line">&#x2F;&#x2F;Money.Vue</span><br><span class="line">&lt;Tags :data-source.sync&#x3D;&quot;tags&quot; @xxx&#x3D;&quot;yyy&quot;&#x2F;&gt;</span><br><span class="line">yyy(zzz:string[])&#123;</span><br><span class="line">  console.log(zzz);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>改名:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Tags.Vue</span><br><span class="line">this.$emit(&#39;update:selected&#39;, this.selectedTags)</span><br><span class="line">&#x2F;&#x2F;Money.Vue</span><br><span class="line">&lt;Tags :data-source.sync&#x3D;&quot;tags&quot; @update:selected&#x3D;&quot;onUpdateTags&quot;&#x2F;&gt;</span><br><span class="line">onUpdateTags(tags:string[])&#123;</span><br><span class="line">  console.log(tags);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-同理获取用户最新输入的-Notes-Types-NumberPad"><a href="#2-同理获取用户最新输入的-Notes-Types-NumberPad" class="headerlink" title="2. 同理获取用户最新输入的 Notes,Types,NumberPad"></a>2. 同理获取用户最新输入的 Notes,Types,NumberPad</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Money.vue</span><br><span class="line">&lt;Layout class-prefix&#x3D;&quot;layout&quot;&gt;</span><br><span class="line">  &lt;NumberPad @update:value&#x3D;&quot;onUpdateAmout&quot;&#x2F;&gt;</span><br><span class="line">  &lt;Types @update:value&#x3D;&quot;onUpdateType&quot;&#x2F;&gt;</span><br><span class="line">  &lt;Notes @update:value&#x3D;&quot;onUpdateNotes&quot;&#x2F;&gt;</span><br><span class="line">  &lt;Tags :data-source.sync&#x3D;&quot;tags&quot; @update:value&#x3D;&quot;onUpdateTags&quot;&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;Layout&gt;</span><br><span class="line">export default class Money extends Vue&#123;</span><br><span class="line">    tags &#x3D; [&quot;衣&quot;,&quot;食&quot;,&quot;住&quot;,&quot;行&quot;]</span><br><span class="line"></span><br><span class="line">    onUpdateTags(value:string[])&#123;</span><br><span class="line">      console.log(value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    onUpdateNotes(value:string)&#123;</span><br><span class="line">      console.log(value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    onUpdateType(value:string)&#123;</span><br><span class="line">      console.log(value)</span><br><span class="line">    &#125;</span><br><span class="line">    onUpdateAmout(value:string)&#123;</span><br><span class="line">      console.log(value)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-TS-中如何使用-Watch"><a href="#3-TS-中如何使用-Watch" class="headerlink" title="3. TS 中如何使用 Watch"></a>3. TS 中如何使用 Watch</h4><ul>
<li>Notes.vue 的 input 中每次用户输入都要向 Money.vue 更新数据</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Tag.vue</span><br><span class="line">export default class Notes extends Vue&#123;</span><br><span class="line">  value &#x3D; &#39;&#39;;</span><br><span class="line">  @Watch(&#39;value&#39;)</span><br><span class="line">  onValueChanged(value:string )&#123;</span><br><span class="line">    this.$emit(&#39;update:value&#39;,value)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-TS-中的类型声明-将所有数据记录"><a href="#4-TS-中的类型声明-将所有数据记录" class="headerlink" title="4. TS 中的类型声明-将所有数据记录"></a>4. TS 中的类型声明-将所有数据记录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">type Record &#x3D; &#123;</span><br><span class="line">  tags!: string[] &#x2F;&#x2F; ！表示可以没有这个属性</span><br><span class="line">  notes: string</span><br><span class="line">  type: string</span><br><span class="line">  amount: number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">record: Record &#x3D; &#123;</span><br><span class="line">  tags: [],notes:&#39;&#39;,type:&#39;-&#39;,amount:0</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="5-把值重新传回-types-方便维护"><a href="#5-把值重新传回-types-方便维护" class="headerlink" title="5. 把值重新传回 types,方便维护"></a>5. 把值重新传回 types,方便维护</h4><ul>
<li>如果你想给组件一个初始值，然后更新的时候时候，又要拿到最新的值，就用.sync</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;Types.Vue</span><br><span class="line">&#x2F;&#x2F; 这样就不需要之前的watch</span><br><span class="line"> export default class Types extends Vue &#123;</span><br><span class="line">  @Prop() readonly value!: string;</span><br><span class="line">  selectType(value: string) &#123;</span><br><span class="line">    if (value !&#x3D;&#x3D; &quot;-&quot; &amp;&amp; value !&#x3D;&#x3D; &quot;+&quot;) &#123;</span><br><span class="line">      throw new Error(&quot;type is unknown&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">    this.$emit(&#39;update:value&#39;, value)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; Money.Vue</span><br><span class="line">  &lt;Types :value&#x3D;&quot;record.type&quot; @update:value&#x3D;&quot;onUpdateType&quot;&#x2F;&gt;</span><br><span class="line">&#x2F;&#x2F; 可以简写成</span><br><span class="line">&lt;Types :value.sync&#x3D;&quot;record.type&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure>

<h4 id="6-解决-push-进数组数据一样的-bug"><a href="#6-解决-push-进数组数据一样的-bug" class="headerlink" title="6. 解决 push 进数组数据一样的 bug"></a>6. 解决 push 进数组数据一样的 bug</h4><ul>
<li>此 bug 产生的原因,push 进去的实际上是一个内存地址
<img src="https://i.loli.net/2020/02/08/pCXaFxKYPRirDvE.png" alt="push的bug.png"></li>
<li>解决的办法:深拷贝</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">saveRecord()&#123;</span><br><span class="line">  const record2  &#x3D; JSON.parse(JSON.stringify(this.record));</span><br><span class="line">  this.recordList.push(record2)</span><br><span class="line">  console.log(this.recordList)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="7-解决增加时间引起的数据库版本的问题"><a href="#7-解决增加时间引起的数据库版本的问题" class="headerlink" title="7. 解决增加时间引起的数据库版本的问题"></a>7. 解决增加时间引起的数据库版本的问题</h4><ul>
<li>不要一下子升级到最新版，要一个个版本的升级。
<img src="https://i.loli.net/2020/02/08/5Q6acL3RgNnbuWD.png" alt="数据迁移.png"></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if (version &#x3D;&#x3D;&#x3D; &quot;0.0.1&quot;) &#123;</span><br><span class="line">  &#x2F;&#x2F; 数据库升级, 数据迁移</span><br><span class="line">  recordList.forEach(record &#x3D;&gt; &#123;</span><br><span class="line">    record.createdAt &#x3D; new Date(2020, 0, 1);</span><br><span class="line">  &#125;)</span><br><span class="line">  &#x2F;&#x2F; 保存数据</span><br><span class="line">  window.localStorage.setItem(&quot;recordList&quot;, JSON.stringify(recordList))</span><br><span class="line">&#125;</span><br><span class="line">window.localStorage.setItem(&quot;version&quot;, &quot;0.0.2&quot;)</span><br></pre></td></tr></table></figure>

<h4 id="最后-个人微信-欢迎交流！"><a href="#最后-个人微信-欢迎交流！" class="headerlink" title="最后,个人微信,欢迎交流！"></a>最后,个人微信,欢迎交流！</h4><p><img src="https://i.loli.net/2020/01/30/mbV7Q3XqxedsJKP.jpg" alt="wechat0.jpg"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2020/02/06/%E6%97%BA%E8%B4%A2%E8%AE%B0%E8%B4%A6%E9%A1%B9%E7%9B%AE-Money-vue%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0-%E4%B8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/06/%E6%97%BA%E8%B4%A2%E8%AE%B0%E8%B4%A6%E9%A1%B9%E7%9B%AE-Money-vue%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0-%E4%B8%8B/" class="post-title-link" itemprop="url">旺财记账项目-Money.vue组件实现(下)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-06 19:23:49" itemprop="dateCreated datePublished" datetime="2020-02-06T19:23:49+08:00">2020-02-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-02-07 19:19:35" itemprop="dateModified" datetime="2020-02-07T19:19:35+08:00">2020-02-07</time>
              </span>

          
            <span id="/2020/02/06/%E6%97%BA%E8%B4%A2%E8%AE%B0%E8%B4%A6%E9%A1%B9%E7%9B%AE-Money-vue%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0-%E4%B8%8B/" class="post-meta-item leancloud_visitors" data-flag-title="旺财记账项目-Money.vue组件实现(下)" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/02/06/%E6%97%BA%E8%B4%A2%E8%AE%B0%E8%B4%A6%E9%A1%B9%E7%9B%AE-Money-vue%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0-%E4%B8%8B/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/06/%E6%97%BA%E8%B4%A2%E8%AE%B0%E8%B4%A6%E9%A1%B9%E7%9B%AE-Money-vue%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0-%E4%B8%8B/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="1-实现TypeScript的Vue组件。"><a href="#1-实现TypeScript的Vue组件。" class="headerlink" title="1. 实现TypeScript的Vue组件。"></a>1. 实现TypeScript的Vue组件。</h4><ul>
<li>以Types组件为例改写<ul>
<li>JS写法<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;ul class&#x3D;&quot;types&quot;&gt;</span><br><span class="line">      &lt;li :class&#x3D;&quot;type &#x3D;&#x3D;&#x3D; &#39;-&#39; &amp;&amp; &#39;selected&#39;&quot;</span><br><span class="line">      @click&#x3D;&quot;selectType(&#39;-&#39;)&quot;&gt;支出&lt;&#x2F;li&gt;</span><br><span class="line">      &lt;li :class&#x3D;&quot;type &#x3D;&#x3D;&#x3D; &#39;+&#39; &amp;&amp; &#39;selected&#39;&quot;</span><br><span class="line">      @click&#x3D;&quot;selectType(&#39;+&#39;)&quot;&gt;收入&lt;&#x2F;li&gt;</span><br><span class="line">    &lt;&#x2F;ul&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang&#x3D;&quot;js&quot;&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &quot;Types&quot;,</span><br><span class="line">    props: [&#39;xxx&#39;],</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        type: &#39;-&#39; &#x2F;&#x2F; &#39;-&#39;表示支出.&#39;+&#39;表示收入</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">      console.log(this.xxx)</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      selectType(type) &#123; &#x2F;&#x2F; type 只能是 &#39;-&#39; 和 &#39;+&#39; 中的一个</span><br><span class="line">        if(type !&#x3D;&#x3D; &#39;-&#39; &amp;&amp; type !&#x3D;&#x3D; &#39;+&#39;)&#123;</span><br><span class="line">          throw new Error(&#39;type is unknown&#39;)</span><br><span class="line">        &#125;</span><br><span class="line">        this.type &#x3D; type</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure></li>
<li>TS写法，用class组件写data methods 和生命周期<ol>
<li>起手<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export default class Types extends Vue &#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Component修饰符，在最上面加@Compo按下tab键，选择从vue-property-decorator引入<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import &#123;Component&#125; from &quot;vue-property-decorator&quot;</span><br><span class="line">@Component</span><br><span class="line">export default class Types extends Vue &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>必需制定参数type的类型<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">selectType(type: string) &#123; &#x2F;&#x2F; type 只能是 &#39;-&#39; 和 &#39;+&#39; 中的一个</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>代码总结<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import &#123;Component&#125; from &quot;vue-property-decorator&quot;</span><br><span class="line">  @Component</span><br><span class="line">  export default class Types extends Vue &#123;</span><br><span class="line">    type &#x3D; &#39;-&#39;  &#x2F;&#x2F; &#39;-&#39;表示支出.&#39;+&#39;表示收入</span><br><span class="line">    selectType(type: string) &#123; &#x2F;&#x2F; type 只能是 &#39;-&#39; 和 &#39;+&#39; 中的一个</span><br><span class="line">      if(type !&#x3D;&#x3D; &#39;-&#39; &amp;&amp; type !&#x3D;&#x3D; &#39;+&#39;)&#123;</span><br><span class="line">        throw new Error(&#39;type is unknown&#39;)</span><br><span class="line">      &#125;</span><br><span class="line">      this.type &#x3D; type</span><br><span class="line">    &#125;</span><br><span class="line">    created()&#123;&#125;</span><br><span class="line">    mounted()&#123;&#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li>props用法
1 查看一个包的最新版本，在终端输入<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm info typescript version</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="2-TS-组件-Prop装饰器"><a href="#2-TS-组件-Prop装饰器" class="headerlink" title="2. TS 组件 @Prop装饰器"></a>2. TS 组件 @Prop装饰器</h4><ul>
<li>用法<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 左边Number是运行时的检查，右边number是编译时的检查,编译时的检查会在写代码的时候就给提示</span><br><span class="line">@Prop(Number) xxx: number | undefined;</span><br><span class="line">&#x2F;&#x2F; Prop 告诉 Vue xxx 不是 data 是 prop</span><br><span class="line">&#x2F;&#x2F; Number 告诉 Vue xxx 运行时类型 是个 Number</span><br><span class="line">&#x2F;&#x2F; xxx 属性名</span><br><span class="line">&#x2F;&#x2F; number | undefined 就是 告诉 TS xxx 的编译时类型</span><br><span class="line">&#x2F;&#x2F; 为什么前面的Number是大些后面是小写，见3.编译时和运行时的区别</span><br></pre></td></tr></table></figure></li>
<li>TS的好处<ol>
<li>html直接空格告诉你有哪些参数</li>
<li>如果声明了类型，代码写错了会提前告诉,编译报错,无法编程js</li>
<li>检查调用的方法到底能不能调用,你不能写.tostring</li>
</ol>
</li>
</ul>
<h4 id="3-编译时和运行时的区别"><a href="#3-编译时和运行时的区别" class="headerlink" title="3. 编译时和运行时的区别"></a>3. 编译时和运行时的区别</h4><p><img src="https://i.loli.net/2020/02/07/GUtaQXr6RgIvo2s.png" alt="运行时和编译时区别.png"></p>
<h4 id="4-TS的本质"><a href="#4-TS的本质" class="headerlink" title="4. TS的本质"></a>4. TS的本质</h4><p><img src="https://i.loli.net/2020/02/07/liy68SWPOnDgAQB.png" alt="TS的本质.png"></p>
<h4 id="5-Vue但文件组件的三种写法"><a href="#5-Vue但文件组件的三种写法" class="headerlink" title="5. Vue但文件组件的三种写法"></a>5. Vue但文件组件的三种写法</h4><ol>
<li>用JS对象<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export default &#123; data,props,methods,created,... &#125;</span><br></pre></td></tr></table></figure></li>
<li>用 TS 类 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script lang&#x3D;&quot;ts&quot;&gt;</span><br><span class="line">@Component</span><br><span class="line">export default class XXX extends Vue&#123;</span><br><span class="line">  xxx: string &#x3D; &#39;hi&#39;;</span><br><span class="line">  @Prop(Number) xxx: number|undefined;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>用 JS 类 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Component</span><br><span class="line">&lt;script lang&#x3D;&quot;js&quot;&gt;</span><br><span class="line">export default class XXX extends Vue&#123;</span><br><span class="line">  xxx &#x3D; &#39;hi&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="6-开始实现NumberPad组件"><a href="#6-开始实现NumberPad组件" class="headerlink" title="6. 开始实现NumberPad组件"></a>6. 开始实现NumberPad组件</h4></li>
</ol>
<ul>
<li>在按钮上绑定事件,不加参数会默认传入事件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click&#x3D;&quot;inputContent&quot;&gt;1&lt;&#x2F;button&gt;</span><br><span class="line">inputContent(event: MouseEvent)&#123;</span><br><span class="line">  if(event.target)&#123;</span><br><span class="line">    console.log(event.target.textContent);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>强制指定类型,需要这么做的原因是Vue和Typescript不够好<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">inputContent(event: MouseEvent)&#123;</span><br><span class="line">  if(event.target)&#123;</span><br><span class="line">    const button &#x3D; (event.target as HTMLButtonElement)</span><br><span class="line">    console.log(button.textContent);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>如果只是要排除空,也可以这么写<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const input &#x3D; button.textContent!;</span><br></pre></td></tr></table></figure></li>
<li>基本完成NumberPad,NumberPad 组件所有代码<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &quot;vue&quot;</span><br><span class="line">import &#123;Component, Prop&#125; from &quot;vue-property-decorator&quot;</span><br><span class="line"></span><br><span class="line">@Component &#x2F;&#x2F; 如果如果这样写，就表示Class就有一个propMessage的props，类型为String</span><br><span class="line">export default class NumberPad extends Vue &#123;</span><br><span class="line">  output: string &#x3D; &#39;0&#39;;</span><br><span class="line">  inputContent(event: MouseEvent)&#123;</span><br><span class="line">    const button &#x3D; (event.target as HTMLButtonElement);</span><br><span class="line">    const input &#x3D; button.textContent!;</span><br><span class="line">    if(this.output.length &#x3D;&#x3D;&#x3D; 16)&#123;return&#125;</span><br><span class="line">    if(this.output &#x3D;&#x3D;&#x3D; &#39;0&#39;)&#123;</span><br><span class="line">      if (&#39;0123456789&#39;.indexOf(input) &gt;&#x3D; 0) &#123;</span><br><span class="line">        this.output &#x3D; input</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        this.output +&#x3D; input;</span><br><span class="line">      &#125;</span><br><span class="line">      return</span><br><span class="line">    &#125;</span><br><span class="line">    if (this.output.indexOf(&quot;.&quot;) &gt;&#x3D; 0 &amp;&amp; input &#x3D;&#x3D;&#x3D; &quot;.&quot;) &#123;return;&#125;</span><br><span class="line">    this.output +&#x3D; input;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  remove()&#123;</span><br><span class="line">    if (this.output.length &#x3D;&#x3D;&#x3D; 1)&#123;</span><br><span class="line">      this.output &#x3D; &#39;0&#39;;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      this.output &#x3D; this.output.slice(0, -1);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  clear()&#123;</span><br><span class="line">    this.output &#x3D; &#39;0&#39;;</span><br><span class="line">  &#125;</span><br><span class="line">  ok()&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="67-开始实现备注功能"><a href="#67-开始实现备注功能" class="headerlink" title="67. 开始实现备注功能"></a>67. 开始实现备注功能</h4><ul>
<li>原生html input实现绑定数据<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;text&quot; :value&#x3D;&quot;value&quot; @input&#x3D;&quot;onInput&quot; placeholder&#x3D;&quot;在这里输入备注&quot;&gt;</span><br><span class="line">onInput(event: KeyboardEvent)&#123;</span><br><span class="line">      const input &#x3D; event.target as HTMLInputElement;</span><br><span class="line">      this.value &#x3D; input.value</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
<li>对:value 和 @input绑定数据进行简写<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;value&quot; placeholder&#x3D;&quot;在这里输入备注&quot;&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="8-开始实现tags模块"><a href="#8-开始实现tags模块" class="headerlink" title="8. 开始实现tags模块"></a>8. 开始实现tags模块</h4><ul>
<li>只能不能改外部数据的写法<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@Prop() readonly dataSource: string[] | undefined &#x2F;&#x2F; 加readonly</span><br></pre></td></tr></table></figure></li>
<li>内部不能直接改外部数据<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 内部</span><br><span class="line">&#x2F;&#x2F; this.dataSource.push(name!); &#x2F;&#x2F; 不能改外部数据,这种写法不推荐!</span><br><span class="line">this.$emit(&quot;update:dataSource&quot;, [...this.dataSource, name])</span><br><span class="line">&#x2F;&#x2F; 外部,用.sync简写</span><br><span class="line">&lt;Tags :data-source.sync&#x3D;&quot;tags&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="最后-个人微信-欢迎交流！"><a href="#最后-个人微信-欢迎交流！" class="headerlink" title="最后,个人微信,欢迎交流！"></a>最后,个人微信,欢迎交流！</h4><p><img src="https://i.loli.net/2020/01/30/mbV7Q3XqxedsJKP.jpg" alt="wechat0.jpg"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2020/02/05/%E6%97%BA%E8%B4%A2%E8%AE%B0%E8%B4%A6%E9%A1%B9%E7%9B%AE-Money-vue%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0-%E4%B8%8A/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/05/%E6%97%BA%E8%B4%A2%E8%AE%B0%E8%B4%A6%E9%A1%B9%E7%9B%AE-Money-vue%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0-%E4%B8%8A/" class="post-title-link" itemprop="url">旺财记账项目-Money.vue组件实现(上)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-05 11:51:41" itemprop="dateCreated datePublished" datetime="2020-02-05T11:51:41+08:00">2020-02-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-02-06 19:20:28" itemprop="dateModified" datetime="2020-02-06T19:20:28+08:00">2020-02-06</time>
              </span>

          
            <span id="/2020/02/05/%E6%97%BA%E8%B4%A2%E8%AE%B0%E8%B4%A6%E9%A1%B9%E7%9B%AE-Money-vue%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0-%E4%B8%8A/" class="post-meta-item leancloud_visitors" data-flag-title="旺财记账项目-Money.vue组件实现(上)" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/02/05/%E6%97%BA%E8%B4%A2%E8%AE%B0%E8%B4%A6%E9%A1%B9%E7%9B%AE-Money-vue%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0-%E4%B8%8A/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/05/%E6%97%BA%E8%B4%A2%E8%AE%B0%E8%B4%A6%E9%A1%B9%E7%9B%AE-Money-vue%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0-%E4%B8%8A/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="1-小技巧-快速包裹每一行"><a href="#1-小技巧-快速包裹每一行" class="headerlink" title="1. 小技巧:快速包裹每一行"></a>1. 小技巧:快速包裹每一行</h4><ul>
<li>选中，按两下 shift，输入 surround ,选择 surround with emit,输入 li*,意思就是 n 个 li 包住行数</li>
</ul>
<h4 id="2-input-label-的写法"><a href="#2-input-label-的写法" class="headerlink" title="2. input,label 的写法"></a>2. input,label 的写法</h4><ul>
<li>新手</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;label for&#x3D;&quot;xxx&quot;&gt;&lt;&#x2F;label&gt;</span><br><span class="line">&lt;input id &#x3D; &#39;xxx&#39; type&#x3D;&quot;text&quot;&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>老手</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;label&gt;</span><br><span class="line">  &lt;span&gt;备注&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;input type&#x3D;&quot;text&quot;&gt;</span><br><span class="line">&lt;&#x2F;label&gt;</span><br></pre></td></tr></table></figure>

<h4 id="3-文件行数规则"><a href="#3-文件行数规则" class="headerlink" title="3. 文件行数规则"></a>3. 文件行数规则</h4><ul>
<li>一个文件超过 150 行，一般拆成多个文件。</li>
</ul>
<h4 id="4-开始写-CSS"><a href="#4-开始写-CSS" class="headerlink" title="4. 开始写 CSS"></a>4. 开始写 CSS</h4><ul>
<li><h5 id="1-css-重置-抽成另外一个文件-reset-scss，然后在-app-vue-中引入"><a href="#1-css-重置-抽成另外一个文件-reset-scss，然后在-app-vue-中引入" class="headerlink" title="1. css 重置,抽成另外一个文件 reset.scss，然后在 app.vue 中引入"></a>1. css 重置,抽成另外一个文件 reset.scss，然后在 app.vue 中引入</h5></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; reset.scss</span><br><span class="line">* &#123;</span><br><span class="line">  margin: 0; padding: 0;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a&#123;</span><br><span class="line">  text-decoration: none;</span><br><span class="line">  color:inherit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; app.vue</span><br><span class="line">@import &quot;~@&#x2F;assets&#x2F;style&#x2F;reset.scss&quot;;</span><br></pre></td></tr></table></figure>

<ul>
<li><h5 id="2-处理字体-需要用到-fonts-css"><a href="#2-处理字体-需要用到-fonts-css" class="headerlink" title="2. 处理字体,需要用到 fonts.css"></a>2. 处理字体,需要用到 fonts.css</h5><ul>
<li>在 google 搜索 “fonts.css” 中文</li>
<li>找到 font-family 的地方，在 helper.scss 中声明 font,然后在 app.vue 中使用</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; helper.scss</span><br><span class="line">$font-hei:  -apple-system, &quot;Noto Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, &quot;Nimbus Sans L&quot;, Arial, &quot;Liberation Sans&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Noto Sans CJK SC&quot;, &quot;Source Han Sans SC&quot;, &quot;Source Han Sans CN&quot;, &quot;Microsoft YaHei&quot;, &quot;Wenquanyi Micro Hei&quot;, &quot;WenQuanYi Zen Hei&quot;, &quot;ST Heiti&quot;, SimHei, &quot;WenQuanYi Zen Hei Sharp&quot;, sans-serif;</span><br><span class="line">&#x2F;&#x2F; app.vue</span><br><span class="line">body&#123;</span><br><span class="line">  line-height: 1.5;</span><br><span class="line">  font-family: $font-hei;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><h5 id="3-把变量都放到-helper-css-里面。"><a href="#3-把变量都放到-helper-css-里面。" class="headerlink" title="3. 把变量都放到 helper.css 里面。"></a>3. 把变量都放到 helper.css 里面。</h5><ul>
<li>command+shift+f 进行全局搜索</li>
<li>helper.css 这个文件只能放变量，函数和 mixin,最终会消失的东西</li>
</ul>
</li>
</ul>
<h4 id="4-写css推荐顺序"><a href="#4-写css推荐顺序" class="headerlink" title="4. 写css推荐顺序"></a>4. 写css推荐顺序</h4><ul>
<li>一般而言无所谓，如果比较复杂，推荐从里到外，因为里面最简单</li>
</ul>
<h4 id="5-scss的用法"><a href="#5-scss的用法" class="headerlink" title="5. scss的用法"></a>5. scss的用法</h4><ul>
<li>选择器里面<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.tags &#123;</span><br><span class="line">  &gt; .current &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>选择器本身<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.tags &#123;</span><br><span class="line">  &amp;.current &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="6-按钮字体样式不会继承"><a href="#6-按钮字体样式不会继承" class="headerlink" title="6. 按钮字体样式不会继承"></a>6. 按钮字体样式不会继承</h4></li>
<li>在reset.scss中加入<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">button, input&#123;</span><br><span class="line">  font: inherit;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="7-字体居中解决"><a href="#7-字体居中解决" class="headerlink" title="7. 字体居中解决"></a>7. 字体居中解决</h4><ul>
<li>第一种方式，lineheight和高度一样，这种情况用于只有一行字</li>
<li>第二种方式，用flex</li>
</ul>
<h4 id="8-字的下划线比字长"><a href="#8-字的下划线比字长" class="headerlink" title="8. 字的下划线比字长"></a>8. 字的下划线比字长</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">border-bottom: 1px solid;</span><br><span class="line">padding: 0 4px;</span><br></pre></td></tr></table></figure>
<h4 id="9-selected下划线的做法"><a href="#9-selected下划线的做法" class="headerlink" title="9. selected下划线的做法"></a>9. selected下划线的做法</h4><ul>
<li>避免用border-bottom来做，这种做法当class消失会有抖动，要用以下做法<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&amp;.selected::after &#123;</span><br><span class="line">  content: &#39;&#39;;</span><br><span class="line">  position: absolute;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  left: 0;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 4px;</span><br><span class="line">  background: #333;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="10-处理没有的字体，在其后面加上一类字体。"><a href="#10-处理没有的字体，在其后面加上一类字体。" class="headerlink" title="10. 处理没有的字体，在其后面加上一类字体。"></a>10. 处理没有的字体，在其后面加上一类字体。</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; monospace就是等宽的编程字体类</span><br><span class="line">font-family: Consolas, monospace;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="11-如果用了float"><a href="#11-如果用了float" class="headerlink" title="11. 如果用了float"></a>11. 如果用了float</h4><ul>
<li>父元素一定要用clearfix<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.clearfix::after&#123;</span><br><span class="line">  content:&#39;&#39;;</span><br><span class="line">  display: block;</span><br><span class="line">  clear:both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>用scss的%,placeholder功能<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; helper.scss</span><br><span class="line">&#x2F;&#x2F; placeholder</span><br><span class="line">%x&#123;</span><br><span class="line">  &amp;::after&#123;</span><br><span class="line">    content: &#39;&#39;;</span><br><span class="line">    clear: both;</span><br><span class="line">    display: block;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 如何用</span><br><span class="line">&#x2F;&#x2F; money.vue</span><br><span class="line">.buttons &#123;</span><br><span class="line">  @extend %x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="12-两层内阴影的写法"><a href="#12-两层内阴影的写法" class="headerlink" title="12. 两层内阴影的写法"></a>12. 两层内阴影的写法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">box-shadow: inset 0 -5px 5px -5px fade_out(black, 0.5),</span><br><span class="line">inset 0 5px 5px -5px fade_out(black, 0.5);</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="13-多个地方统一替换"><a href="#13-多个地方统一替换" class="headerlink" title="13. 多个地方统一替换"></a>13. 多个地方统一替换</h4><ul>
<li>选中之后按command+r</li>
</ul>
<h4 id="14-用前缀控制组件内css样式"><a href="#14-用前缀控制组件内css样式" class="headerlink" title="14. 用前缀控制组件内css样式"></a>14. 用前缀控制组件内css样式</h4><p>// 这样写会有bug,要写deep</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Money.vue</span><br><span class="line">&lt;Layout class-prefix&#x3D;&quot;layout&quot;&gt;</span><br><span class="line">&lt;&#x2F;Layout&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;scss&quot;&gt;</span><br><span class="line">  .layout-content&#123;</span><br><span class="line">    border: 3px solid red;</span><br><span class="line">  &#125;</span><br><span class="line">  .layout-wrapper&#123;</span><br><span class="line">    border: 3px solid blue;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Layout.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;layout-wrapper&quot; :class&#x3D;&quot;classPrefix &amp;&amp; &#96;$&#123;classPrefix&#125;-wrapper&#96;&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;content&quot; :class&#x3D;&quot;classPrefix &amp;&amp; &#96;$&#123;classPrefix&#125;-content&#96;&quot;&gt;</span><br><span class="line">      &lt;slot &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;Nav&#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang&#x3D;&quot;ts&quot;&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    props: [&#39;classPrefix&#39;],</span><br><span class="line">    name: &quot;Layout&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
<h4 id="15-如何模块化"><a href="#15-如何模块化" class="headerlink" title="15. 如何模块化"></a>15. 如何模块化</h4><ul>
<li>坚持一个文件查过150行就执行模块化</li>
<li>把html scss剪切的单独.vue文件，引入的时候写&lt;name 会总动引入</li>
<li>最后把相关文件放到一个文件夹</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2020/02/05/svg%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%9D%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/05/svg%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%9D%91/" class="post-title-link" itemprop="url">svg的两个坑</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-02-05 09:45:51 / Modified: 11:15:56" itemprop="dateCreated datePublished" datetime="2020-02-05T09:45:51+08:00">2020-02-05</time>
            </span>

          
            <span id="/2020/02/05/svg%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%9D%91/" class="post-meta-item leancloud_visitors" data-flag-title="svg的两个坑" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/02/05/svg%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%9D%91/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/05/svg%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%9D%91/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="1-WebStorm-按两下空格输入-soft-wrap-进行换行"><a href="#1-WebStorm-按两下空格输入-soft-wrap-进行换行" class="headerlink" title="1. WebStorm 按两下空格输入 soft wrap 进行换行"></a>1. WebStorm 按两下空格输入 soft wrap 进行换行</h4><h4 id="2-第一个坑-svg-中的-fill-属性处理"><a href="#2-第一个坑-svg-中的-fill-属性处理" class="headerlink" title="2. 第一个坑: svg 中的 fill 属性处理"></a>2. 第一个坑: svg 中的 fill 属性处理</h4><ul>
<li>svg 里面如果有 fill=””,就会有颜色，可以手动去除,但是如果有很多个 svg 那么一个个去很麻烦</li>
<li>用 svgo-loader 解决这个问题，在 vue.config.js 中配置</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">config.module</span><br><span class="line">.use(&#39;svgo-loader&#39;).loader(&#39;svgo-loader&#39;)</span><br><span class="line">.tap(options&#x3D;&gt;(&#123;</span><br><span class="line">  ...options, plugins:[&#123;</span><br><span class="line">      removeAttrs:&#123;attrs:&#39;fill&#39;&#125;</span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;)</span><br><span class="line">)</span><br><span class="line">.end()</span><br></pre></td></tr></table></figure>

<ul>
<li>安装方法</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add svgo-loader -D</span><br></pre></td></tr></table></figure>

<h4 id="3-碰到问题安装包和-node-版本不匹配"><a href="#3-碰到问题安装包和-node-版本不匹配" class="headerlink" title="3. 碰到问题安装包和 node 版本不匹配"></a>3. 碰到问题安装包和 node 版本不匹配</h4><ul>
<li>The engine “node” is incompatible with this module. Expected version “^8.16.0 || ^10.6.0 || &gt;=11.0.0”. Got “8.12.0”</li>
<li>解决办法用 nvm 安装 10 版本的,升级办法参考:<a href="https://dev.to/peterwitham/install-and-update-nodejs-on-the-mac-with-nvm-1m9j" target="_blank" rel="noopener">https://dev.to/peterwitham/install-and-update-nodejs-on-the-mac-with-nvm-1m9j</a></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install 10</span><br></pre></td></tr></table></figure>

<h4 id="4-提交修改"><a href="#4-提交修改" class="headerlink" title="4. 提交修改"></a>4. 提交修改</h4><ul>
<li>点 Version Control-&gt;左侧飞机 icon</li>
</ul>
<h4 id="5-统一管理-SCSS-变量"><a href="#5-统一管理-SCSS-变量" class="headerlink" title="5. 统一管理 SCSS 变量"></a>5. 统一管理 SCSS 变量</h4><ul>
<li>在 assets 下新建 style/helper.scss,在用的地方进行引用</li>
<li>@import “~@/assets/style/helper.scss”</li>
</ul>
<h4 id="6-第二个坑-引用-scss-出现下划线"><a href="#6-第二个坑-引用-scss-出现下划线" class="headerlink" title="6. 第二个坑:引用 scss 出现下划线"></a>6. 第二个坑:引用 scss 出现下划线</h4><ul>
<li>在 settings 里面搜索 webpack,添加 webpack configuration file 路径</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node_modules&#x2F;@vue&#x2F;cli-service&#x2F;webpack.config.js</span><br></pre></td></tr></table></figure>

<ul>
<li>但是还没有解决，问题处在 svg-sprite-loader 有 bug,而 WebStorm 会进行提示，其实已经有人改了但是管理这个仓库的 jetBrains 没有合并,自己 folk 以下合并下 commit,再重新发布成 svg-sprite-loader-mod</li>
<li>安装 svg-sprite-loader-mod 并且把原来的 svg-sprite-loader 删除</li>
<li>vue.config.js 中 svg-sprite-loader 的地方改成 svg-sprite-loader-mod</li>
</ul>
<h4 id="7-如果有人问你遇到的最难的技术问题是什么？"><a href="#7-如果有人问你遇到的最难的技术问题是什么？" class="headerlink" title="7. 如果有人问你遇到的最难的技术问题是什么？"></a>7. 如果有人问你遇到的最难的技术问题是什么？</h4><ul>
<li>可以讲如何解决以上这两个问题,第二个问题过程更复杂。整个过程图如下图:
<img src="https://i.loli.net/2020/02/05/d4ELcaUCGbhtSZz.png" alt="svg下划线问题.png"></li>
</ul>
<h4 id="最后-个人微信-欢迎交流！"><a href="#最后-个人微信-欢迎交流！" class="headerlink" title="最后,个人微信,欢迎交流！"></a>最后,个人微信,欢迎交流！</h4><p><img src="https://i.loli.net/2020/01/30/mbV7Q3XqxedsJKP.jpg" alt="wechat0.jpg"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2020/02/04/FLstudio%E7%9A%8413%E4%B8%AA%E5%AE%9E%E7%94%A8%E5%8A%9F%E8%83%BD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/04/FLstudio%E7%9A%8413%E4%B8%AA%E5%AE%9E%E7%94%A8%E5%8A%9F%E8%83%BD/" class="post-title-link" itemprop="url">FL studio的13个实用功能</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-02-04 10:12:13 / Modified: 13:12:27" itemprop="dateCreated datePublished" datetime="2020-02-04T10:12:13+08:00">2020-02-04</time>
            </span>

          
            <span id="/2020/02/04/FLstudio%E7%9A%8413%E4%B8%AA%E5%AE%9E%E7%94%A8%E5%8A%9F%E8%83%BD/" class="post-meta-item leancloud_visitors" data-flag-title="FL studio的13个实用功能" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/02/04/FLstudio%E7%9A%8413%E4%B8%AA%E5%AE%9E%E7%94%A8%E5%8A%9F%E8%83%BD/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/04/FLstudio%E7%9A%8413%E4%B8%AA%E5%AE%9E%E7%94%A8%E5%8A%9F%E8%83%BD/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="1-Edison-扒音频旋律"><a href="#1-Edison-扒音频旋律" class="headerlink" title="1. Edison 扒音频旋律"></a>1. Edison 扒音频旋律</h4><ul>
<li>在 FL studio 的的左侧 browser 放入素材。<ol>
<li>options-&gt;File Settings-&gt;点文件夹 icon 选择路径,Browser name 进行重命名。</li>
<li>点击 Browser 放大镜左边的 icon 可以刷新</li>
</ol>
</li>
<li>开始查找音高<ol>
<li>在素材上右键,选择 edit in audio editor</li>
<li>点扳手的 icon,选择 analysis 下的 convert to score and dump to piano roll 即可实现分析音高功能</li>
</ol>
</li>
</ul>
<h4 id="2-音频立体声扩展"><a href="#2-音频立体声扩展" class="headerlink" title="2. 音频立体声扩展"></a>2. 音频立体声扩展</h4><ul>
<li>点击音色按钮，点 Precomputed effects 左边的 icon,扳手的右边，增加 Stereo Delay 的量，这个时候底鼓就变得比较宽了，像 是在左右耳打击。</li>
</ul>
<h4 id="3-钢琴延音踏板"><a href="#3-钢琴延音踏板" class="headerlink" title="3. 钢琴延音踏板"></a>3. 钢琴延音踏板</h4><ul>
<li>钢琴一定要第三方的钢琴，点一下齿轮下第二个 icon,扳手左边,input port 和 out port 都调成 0,在另外一个选项条里面加载一个 midi out,midi out 的 port 也要确保一样的</li>
<li>输入任意的一个和弦，在 midi out 面板上点击齿轮，进入 control settings,输入 Full name,controller 输入 64 默认是延音踏板,这个按钮就可以控制延音踏板了</li>
<li>在这个按钮上点击右键，create automation clip,这个时候就可以画包络线了</li>
</ul>
<h4 id="4-删除无用的插件显示"><a href="#4-删除无用的插件显示" class="headerlink" title="4. 删除无用的插件显示"></a>4. 删除无用的插件显示</h4><ul>
<li>确保文件已经删除干净，点击 browser 上的右边喇叭的 icon，点击 Installed,Effects 的意思是效果器，Generators 的意思是音源</li>
<li>在 vst 里可以看到所有安装了和安装失败的 vst,在上面点击 windows shell menu,选择属性，看到具体路径，去具体路径找到 fst 的文件删除，然后立马关闭水果，在打开就可以了。（此操作只在 windows 下进行）</li>
</ul>
<h4 id="5-自动化包络控制"><a href="#5-自动化包络控制" class="headerlink" title="5. 自动化包络控制"></a>5. 自动化包络控制</h4><ul>
<li>此操作针对第三方，比如 serum,在需要控制的旋钮上先随意动一下，然后选在 TOOLS-&gt;Last tweaked-&gt;Create automation clip</li>
<li>这个时候创造出来的包络线就是可以控制旋钮的包络线</li>
</ul>
<h4 id="6-把电脑键盘当-midi-键盘"><a href="#6-把电脑键盘当-midi-键盘" class="headerlink" title="6. 把电脑键盘当 midi 键盘"></a>6. 把电脑键盘当 midi 键盘</h4><ul>
<li>最大的好处是没有 midi 键盘，又想试听某个合成器的音色，这个方法是非常方便的。</li>
<li>点亮键盘按钮
<img src="https://i.loli.net/2020/02/04/EYd6peZjrkCMy8z.jpg" alt="keyboad.jpeg"></li>
<li>确保输入法为默认英文输入法，就可以了</li>
</ul>
<h4 id="7-中途改变拍数"><a href="#7-中途改变拍数" class="headerlink" title="7. 中途改变拍数"></a>7. 中途改变拍数</h4><ul>
<li>在钢琴卷帘窗口按 command+T,然后在上面右击选择 Add time signature，设置拍数，完成。</li>
</ul>
<h4 id="8-midi-导入和导出"><a href="#8-midi-导入和导出" class="headerlink" title="8. midi 导入和导出"></a>8. midi 导入和导出</h4><ul>
<li>导入，直接拖动 midi 文件到音色块</li>
<li>导出，TOOLS-&gt;Macros-&gt;Prepare for MIDI export,点击之前一定要先保存下工程文件，因为这个操作是不可逆的,然后点击 ok,接下来选择 FILE-&gt;Export-&gt;Midi File。导出操作完成那么再把文件导入的话，会有 which tracks to import，你可以根据需求来选择。</li>
<li>只想导出几轨，把想要导出的轨道的灯点亮</li>
</ul>
<h4 id="9-复制包络线"><a href="#9-复制包络线" class="headerlink" title="9. 复制包络线"></a>9. 复制包络线</h4><ul>
<li>双击包络线，选择扳手 icon-&gt;copy state,进入到另一个包络线，选择 paste state,</li>
</ul>
<h4 id="10-锁定包络线轨道"><a href="#10-锁定包络线轨道" class="headerlink" title="10. 锁定包络线轨道"></a>10. 锁定包络线轨道</h4><ul>
<li>此功能在编辑一些电子和 hiphop 的时候经常用到,在包络线的灯的地方按住 shift 点击左键，会出现一个锁，这个时候 mute 调 track,包络线不会被 mute 掉，锁的地方会永远有效果。</li>
</ul>
<h4 id="11-多次撤销"><a href="#11-多次撤销" class="headerlink" title="11. 多次撤销"></a>11. 多次撤销</h4><ul>
<li>ctrl+z 只能撤销一步，一直撤销 brower 中间的 icon 选择 history,也可以 ctrl+alt+z</li>
</ul>
<h4 id="12-让音频自己切自己"><a href="#12-让音频自己切自己" class="headerlink" title="12. 让音频自己切自己"></a>12. 让音频自己切自己</h4><ul>
<li>这个功能适合做 hiphop,点击音色，点击扳手，Group 下的 Cut 和 By,都设置成同样的数字，意思是自己切断自己的音符</li>
<li>还有一个功能 midi 音符多长就停在哪里，点击扳手左边的 icon,envelop 点亮，如果第二栏没有那么就把波形重新拖出来，把 envelope 设置成一个最宽的长方形，hold 和 sustain 调到最高。</li>
</ul>
<h4 id="13-包络线整体批量调节"><a href="#13-包络线整体批量调节" class="headerlink" title="13. 包络线整体批量调节"></a>13. 包络线整体批量调节</h4><ul>
<li>双击包络线，选择扳手 icon,选择 scale levels,multiply 是以比例，offset 就是以固定比例上调，轨道里面下方的 control-&gt;note velocity-&gt;channel volume 调的包络线可以按 alt+x 调出界面</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2020/02/02/Vue%E9%80%A0%E8%BD%AE%E5%AD%90-%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84%E5%AE%98%E7%BD%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/02/Vue%E9%80%A0%E8%BD%AE%E5%AD%90-%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84%E5%AE%98%E7%BD%91/" class="post-title-link" itemprop="url">Vue造轮子-制作自己的官网</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-02-02 13:13:35 / Modified: 16:42:20" itemprop="dateCreated datePublished" datetime="2020-02-02T13:13:35+08:00">2020-02-02</time>
            </span>

          
            <span id="/2020/02/02/Vue%E9%80%A0%E8%BD%AE%E5%AD%90-%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84%E5%AE%98%E7%BD%91/" class="post-meta-item leancloud_visitors" data-flag-title="Vue造轮子-制作自己的官网" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/02/02/Vue%E9%80%A0%E8%BD%AE%E5%AD%90-%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84%E5%AE%98%E7%BD%91/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/02/Vue%E9%80%A0%E8%BD%AE%E5%AD%90-%E5%88%B6%E4%BD%9C%E8%87%AA%E5%B7%B1%E7%9A%84%E5%AE%98%E7%BD%91/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="一-安装-vuepress"><a href="#一-安装-vuepress" class="headerlink" title="一. 安装 vuepress"></a>一. 安装 vuepress</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -D vuepress</span><br></pre></td></tr></table></figure>

<h4 id="二-根据文档一步步做下去"><a href="#二-根据文档一步步做下去" class="headerlink" title="二. 根据文档一步步做下去"></a>二. 根据文档一步步做下去</h4><h4 id="三-创建-vuepress-config-js-作为配置文件"><a href="#三-创建-vuepress-config-js-作为配置文件" class="headerlink" title="三.创建.vuepress/config.js 作为配置文件"></a>三.创建.vuepress/config.js 作为配置文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  title: &#39;轱辘UI&#39;,</span><br><span class="line">  description: &#39;一个好用的UI框架&#39;,</span><br><span class="line">    themeConfig: &#123;</span><br><span class="line">      sidebar: [</span><br><span class="line">        &#123;</span><br><span class="line">          title: &#39;入门&#39;,</span><br><span class="line">          children: [</span><br><span class="line">            &#39;&#x2F;install&#x2F;&#39;,</span><br><span class="line">            &#39;&#x2F;get-started&#x2F;&#39;,</span><br><span class="line">          ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          title:&#39;组件&#39;,</span><br><span class="line">          children: [&#39;&#x2F;components&#x2F;button&#39;]</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2020/02/02/Vue%E9%80%A0%E8%BD%AE%E5%AD%90%E7%AE%80%E6%98%93%E7%89%88-%E9%98%B6%E6%AE%B5%E6%80%A7%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/02/Vue%E9%80%A0%E8%BD%AE%E5%AD%90%E7%AE%80%E6%98%93%E7%89%88-%E9%98%B6%E6%AE%B5%E6%80%A7%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">Vue造轮子简易版(阶段性总结)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-02-02 09:18:50 / Modified: 13:03:01" itemprop="dateCreated datePublished" datetime="2020-02-02T09:18:50+08:00">2020-02-02</time>
            </span>

          
            <span id="/2020/02/02/Vue%E9%80%A0%E8%BD%AE%E5%AD%90%E7%AE%80%E6%98%93%E7%89%88-%E9%98%B6%E6%AE%B5%E6%80%A7%E6%80%BB%E7%BB%93/" class="post-meta-item leancloud_visitors" data-flag-title="Vue造轮子简易版(阶段性总结)" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/02/02/Vue%E9%80%A0%E8%BD%AE%E5%AD%90%E7%AE%80%E6%98%93%E7%89%88-%E9%98%B6%E6%AE%B5%E6%80%A7%E6%80%BB%E7%BB%93/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/02/Vue%E9%80%A0%E8%BD%AE%E5%AD%90%E7%AE%80%E6%98%93%E7%89%88-%E9%98%B6%E6%AE%B5%E6%80%A7%E6%80%BB%E7%BB%93/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="1-课前水平自测"><a href="#1-课前水平自测" class="headerlink" title="1. 课前水平自测"></a>1. 课前水平自测</h4><ul>
<li>要对 JS,CSS,SVG 非常了解才能造 UI 轮子</li>
</ul>
<h4 id="2-没有需求就不要写代码-没有设计稿也不要写代码"><a href="#2-没有需求就不要写代码-没有设计稿也不要写代码" class="headerlink" title="2. 没有需求就不要写代码,没有设计稿也不要写代码"></a>2. 没有需求就不要写代码,没有设计稿也不要写代码</h4><ul>
<li>没有设计稿就问设计要，不给就闹，把事情闹的越大越好，只要不写代码做什么都是对的</li>
</ul>
<h4 id="3-单元测试是重构的前提"><a href="#3-单元测试是重构的前提" class="headerlink" title="3. 单元测试是重构的前提"></a>3. 单元测试是重构的前提</h4><ul>
<li>单元测试能保证大概率没有 Bug</li>
</ul>
<h4 id="4-对于工具的使用-学-ES-SCSS-Webpack-能用就行"><a href="#4-对于工具的使用-学-ES-SCSS-Webpack-能用就行" class="headerlink" title="4. 对于工具的使用,学 ES/SCSS/Webpack 能用就行"></a>4. 对于工具的使用,学 ES/SCSS/Webpack 能用就行</h4><h4 id="5-设计模式"><a href="#5-设计模式" class="headerlink" title="5. 设计模式"></a>5. 设计模式</h4><ul>
<li><p>发布订阅模式，tabs 组件里的 eventBus,emit/on/off,发布订阅模式一定要有发布者，订阅者和事件中心</p>
</li>
<li><p>单项数据流-tabs 组件，collapse,收到数据更新，自己不改通知父亲改,这改 React 奠定了基础,越是复杂的数据，越是要用单向数据流</p>
</li>
<li><p>正交,两个 props 不能相互影响,也就是说所有的属性不要控制同一个东西。</p>
<ul>
<li>判断是否正交的依据在于，一个属性任意的改会不会影响另一个属性。</li>
</ul>
</li>
<li><p>可测试代码</p>
<ul>
<li>添加属性为了测试的时候选中这个属性,比如添加:data-name=”name”</li>
</ul>
</li>
<li><p>不要让人思考</p>
<ul>
<li>即使是一行也要抽出来，作为一个函数。</li>
</ul>
</li>
</ul>
<h4 id="6-面向离职写代码的好处"><a href="#6-面向离职写代码的好处" class="headerlink" title="6. 面向离职写代码的好处"></a>6. 面向离职写代码的好处</h4><ul>
<li>所有东西文档化</li>
<li>被观察感-&gt;严格要求</li>
<li>团队中表现优异, 写完轮子不给升职加薪就好走了</li>
</ul>
<h4 id="最后-个人微信-欢迎交流！"><a href="#最后-个人微信-欢迎交流！" class="headerlink" title="最后,个人微信,欢迎交流！"></a>最后,个人微信,欢迎交流！</h4><p><img src="https://i.loli.net/2020/01/30/mbV7Q3XqxedsJKP.jpg" alt="wechat0.jpg"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2020/01/31/Vue%E9%80%A0%E8%BD%AE%E5%AD%90-%E6%89%8B%E9%A3%8E%E7%90%B4%E7%BB%84%E4%BB%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/31/Vue%E9%80%A0%E8%BD%AE%E5%AD%90-%E6%89%8B%E9%A3%8E%E7%90%B4%E7%BB%84%E4%BB%B6/" class="post-title-link" itemprop="url">Vue造轮子-手风琴组件</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-01-31 19:02:21" itemprop="dateCreated datePublished" datetime="2020-01-31T19:02:21+08:00">2020-01-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-02-01 15:13:22" itemprop="dateModified" datetime="2020-02-01T15:13:22+08:00">2020-02-01</time>
              </span>

          
            <span id="/2020/01/31/Vue%E9%80%A0%E8%BD%AE%E5%AD%90-%E6%89%8B%E9%A3%8E%E7%90%B4%E7%BB%84%E4%BB%B6/" class="post-meta-item leancloud_visitors" data-flag-title="Vue造轮子-手风琴组件" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/01/31/Vue%E9%80%A0%E8%BD%AE%E5%AD%90-%E6%89%8B%E9%A3%8E%E7%90%B4%E7%BB%84%E4%BB%B6/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/01/31/Vue%E9%80%A0%E8%BD%AE%E5%AD%90-%E6%89%8B%E9%A3%8E%E7%90%B4%E7%BB%84%E4%BB%B6/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="一-大致的使用方法"><a href="#一-大致的使用方法" class="headerlink" title="一. 大致的使用方法"></a>一. 大致的使用方法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot; style&#x3D;&quot;padding-left: 100px&quot;&gt;</span><br><span class="line">  &lt;g-collpase&gt;</span><br><span class="line">    &lt;g-collapse-item title&#x3D;&quot;标题1&quot;&gt;内容1&lt;&#x2F;g-collapse-item&gt;</span><br><span class="line">    &lt;g-collapse-item title&#x3D;&quot;标题2&quot;&gt;内容2&lt;&#x2F;g-collapse-item&gt;</span><br><span class="line">    &lt;g-collapse-item title&#x3D;&quot;标题3&quot;&gt;内容3&lt;&#x2F;g-collapse-item&gt;</span><br><span class="line">  &lt;&#x2F;g-collpase&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="二-完成最外部的样式"><a href="#二-完成最外部的样式" class="headerlink" title="二. 完成最外部的样式"></a>二. 完成最外部的样式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;collapse</span><br><span class="line">&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;</span><br><span class="line">  $grey: #ddd;</span><br><span class="line">  $border-radius: 4px;</span><br><span class="line">  .collapse &#123;</span><br><span class="line">    border: 1px solid $grey;</span><br><span class="line">    border-radius: $border-radius;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;collapse-item.vue</span><br><span class="line">&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;</span><br><span class="line">  $grey: #ddd;</span><br><span class="line">  $border-radius: 4px;</span><br><span class="line">  .collapseItem &#123;</span><br><span class="line">    &gt; .title &#123;</span><br><span class="line">      border: 1px solid $grey;</span><br><span class="line">      margin-top: -1px;</span><br><span class="line">      margin-left: -1px;</span><br><span class="line">      margin-right: -1px;</span><br><span class="line">    &#125;</span><br><span class="line">    &amp;:first-child &#123;</span><br><span class="line">      &gt; .title &#123;</span><br><span class="line">        border-top-left-radius: $border-radius;</span><br><span class="line">        border-top-right-radius: $border-radius;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h4 id="三-进一步调节样式"><a href="#三-进一步调节样式" class="headerlink" title="三. 进一步调节样式"></a>三. 进一步调节样式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; collapse-item</span><br><span class="line">&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;</span><br><span class="line">  $grey: #ddd;</span><br><span class="line">  $border-radius: 4px;</span><br><span class="line">  .collapseItem &#123;</span><br><span class="line">    &gt; .title &#123;</span><br><span class="line">      border: 1px solid $grey;</span><br><span class="line">      margin-top: -1px;</span><br><span class="line">      margin-left: -1px;</span><br><span class="line">      margin-right: -1px;</span><br><span class="line">      min-height: 32px;</span><br><span class="line">      display: flex;</span><br><span class="line">      align-items: center;</span><br><span class="line">      padding: 0 8px;</span><br><span class="line">    &#125;</span><br><span class="line">    &amp;:first-child &#123;</span><br><span class="line">      &gt; .title &#123;</span><br><span class="line">        border-top-left-radius: $border-radius;</span><br><span class="line">        border-top-right-radius: $border-radius;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &gt; .content&#123;</span><br><span class="line">      padding: 8px;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h4 id="四-默认内容折叠起来和点击切换，基本样式和基本功能完成"><a href="#四-默认内容折叠起来和点击切换，基本样式和基本功能完成" class="headerlink" title="四. 默认内容折叠起来和点击切换，基本样式和基本功能完成"></a>四. 默认内容折叠起来和点击切换，基本样式和基本功能完成</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; collapse-item</span><br><span class="line">    data ()&#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        open: false</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &lt;div class&#x3D;&quot;content&quot; v-if&#x3D;&quot;open&quot; @click&#x3D;&quot;open&#x3D;!open&quot;&gt;</span><br><span class="line">      &lt;slot&gt;&lt;&#x2F;slot&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="五-完善功能第一个点开-第二个就关闭"><a href="#五-完善功能第一个点开-第二个就关闭" class="headerlink" title="五. 完善功能第一个点开,第二个就关闭"></a>五. 完善功能第一个点开,第二个就关闭</h4><ul>
<li>因为结构比较简单，就父子两个组件，可以用父子通信来做。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">mounted()&#123;</span><br><span class="line">  this.eventBus.$on(&#39;update:selected&#39;, (vm)&#x3D;&gt;&#123;</span><br><span class="line">    if (vm !&#x3D;&#x3D; this)&#123;</span><br><span class="line">      this.close()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">  toggle()&#123;</span><br><span class="line">    if(this.open) &#123;</span><br><span class="line">      this.open &#x3D; false</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      this.open &#x3D; true</span><br><span class="line">      this.eventBus.$emit(&#39;update:selected&#39;, this)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  close()&#123;</span><br><span class="line">    this.close()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="六-增加功能是否可以选择多个"><a href="#六-增加功能是否可以选择多个" class="headerlink" title="六. 增加功能是否可以选择多个"></a>六. 增加功能是否可以选择多个</h4><ul>
<li>方案一.用 single 变量是否需要控制 eventBus</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 添加single选项,有single就注入，没有就不注入</span><br><span class="line">&#x2F;&#x2F; 但是这种方式不太完美会有警告</span><br><span class="line">props: &#123;</span><br><span class="line">  single: &#123;</span><br><span class="line">    type: Boolean,</span><br><span class="line">    default: false</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">provide() &#123;</span><br><span class="line">  if(this.single)&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      eventBus: this.eventBus</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="七-可以设置默认-selected"><a href="#七-可以设置默认-selected" class="headerlink" title="七. 可以设置默认 selected"></a>七. 可以设置默认 selected</h4><p>// index.html</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">    &lt;div id&#x3D;&quot;app&quot; style&#x3D;&quot;padding: 100px&quot;&gt;</span><br><span class="line">      &lt;g-collapse selected&#x3D;&quot;2&quot;&gt;</span><br><span class="line">        &lt;g-collapse-item title&#x3D;&quot;标题1&quot; name&#x3D;&quot;1&quot;&gt;内容1&lt;&#x2F;g-collapse-item&gt;</span><br><span class="line">        &lt;g-collapse-item title&#x3D;&quot;标题2&quot; name&#x3D;&quot;2&quot;&gt;内容2&lt;&#x2F;g-collapse-item&gt;</span><br><span class="line">        &lt;g-collapse-Item title&#x3D;&quot;标题3&quot; name&#x3D;&quot;3&quot;&gt;内容3&lt;&#x2F;g-collapse-Item&gt;</span><br><span class="line">      &lt;&#x2F;g-collapse&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; collapse-item.vue</span><br><span class="line">    mounted()&#123;</span><br><span class="line">      this.eventBus &amp;&amp; this.eventBus.$on(&#39;update:selected&#39;, (name)&#x3D;&gt;&#123;</span><br><span class="line">        if (name !&#x3D;&#x3D; this.name)&#123;</span><br><span class="line">          this.close()</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">          this.show()</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<h4 id="八-回头解决子元素是否可以多个打开"><a href="#八-回头解决子元素是否可以多个打开" class="headerlink" title="八. 回头解决子元素是否可以多个打开"></a>八. 回头解决子元素是否可以多个打开</h4><ul>
<li>通过 collapse.vue 传给 collapse-item</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; index.js</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot; style&#x3D;&quot;padding: 100px&quot;&gt;</span><br><span class="line">    &lt;g-collapse :selected&#x3D;&quot;selectedTab&quot; :selected.sync&#x3D;&quot;selectedTab&quot; single&gt;</span><br><span class="line">      &lt;g-collapse-item title&#x3D;&quot;标题1&quot; name&#x3D;&quot;1&quot;&gt;内容1 Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusamus consequatur &lt;&#x2F;g-collapse-item&gt;</span><br><span class="line">      &lt;g-collapse-item title&#x3D;&quot;标题2&quot; name&#x3D;&quot;2&quot;&gt;内容2 Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquid cupiditate dolore d! &lt;&#x2F;g-collapse-item&gt;</span><br><span class="line">      &lt;g-collapse-Item title&#x3D;&quot;标题3&quot; name&#x3D;&quot;3&quot;&gt; 内容3 Lorem ipsum dolor sit amet, consectetur adipisicing elit. Excepturi, magnam. &lt;&#x2F;g-collapse-Item&gt;</span><br><span class="line">      &#123;&#123;selectedTab&#125;&#125;</span><br><span class="line">    &lt;&#x2F;g-collapse&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&#x2F;&#x2F; collapse.vue</span><br><span class="line"> mounted()&#123;</span><br><span class="line">      this.eventBus.$emit(&#39;update:selected&#39;,this.selected)</span><br><span class="line">      this.eventBus.$on(&#39;update:selected&#39;, (name)&#x3D;&gt;&#123;</span><br><span class="line">        this.$emit(&#39;update:selected&#39;,name)</span><br><span class="line">      &#125;)</span><br><span class="line">      this.$children.forEach((vm)&#x3D;&gt;&#123;</span><br><span class="line">        vm.single &#x3D; this.single</span><br><span class="line">        console.log(vm)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#x2F;&#x2F; collapse-item.vue</span><br><span class="line">  mounted()&#123;</span><br><span class="line">      this.eventBus &amp;&amp; this.eventBus.$on(&#39;update:selected&#39;, (name)&#x3D;&gt;&#123;</span><br><span class="line">        if (name !&#x3D;&#x3D; this.name)&#123;</span><br><span class="line">          if(this.single)&#123;</span><br><span class="line">            this.close()</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">          this.show()</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<h4 id="9-进一步修改，把选中的值改为数组"><a href="#9-进一步修改，把选中的值改为数组" class="headerlink" title="9.进一步修改，把选中的值改为数组"></a>9.进一步修改，把选中的值改为数组</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; collapse.vue</span><br><span class="line">mounted()&#123;</span><br><span class="line">  this.eventBus.$emit(&#39;update:selected&#39;,this.selected)</span><br><span class="line">  this.eventBus.$on(&#39;update:addSelected&#39;, (name)&#x3D;&gt;&#123;</span><br><span class="line">    this.selected.push(name)</span><br><span class="line">    this.eventBus.$emit(&#39;update:selected&#39;,this.selected)  &#x2F;&#x2F; 通知儿子</span><br><span class="line">    this.$emit(&#39;update:selected&#39;,this.selected) &#x2F;&#x2F; 通知外面</span><br><span class="line">  &#125;)</span><br><span class="line">  this.eventBus.$on(&#39;update:removeSelected&#39;, (name)&#x3D;&gt;&#123;</span><br><span class="line">    let index &#x3D; this.selected.indexOf(name)</span><br><span class="line">    this.selected.splice(index,1)</span><br><span class="line">    this.eventBus.$emit(&#39;update:selected&#39;,this.selected)</span><br><span class="line">    this.$emit(&#39;update:selected&#39;,this.selected)</span><br><span class="line">  &#125;)</span><br><span class="line">  this.$children.forEach((vm)&#x3D;&gt;&#123;</span><br><span class="line">    vm.single &#x3D; this.single</span><br><span class="line">    console.log(vm)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; collapse-item.vue</span><br><span class="line">methods:&#123;</span><br><span class="line">  toggle()&#123;</span><br><span class="line">    if(this.open) &#123;</span><br><span class="line">      this.open &#x3D; false</span><br><span class="line">      this.eventBus &amp;&amp; this.eventBus.$emit(&#39;update:removeSelected&#39;, this.name)</span><br><span class="line">      &#x2F;&#x2F; 移除一个被选中的东西</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      this.eventBus &amp;&amp; this.eventBus.$emit(&#39;update:addSelected&#39;, this.name)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="10-将所有数据流让父组件统一管理。"><a href="#10-将所有数据流让父组件统一管理。" class="headerlink" title="10. 将所有数据流让父组件统一管理。"></a>10. 将所有数据流让父组件统一管理。</h4><ul>
<li>不能直接操作 props 要先深拷贝</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; collapse.vue</span><br><span class="line">    mounted()&#123;</span><br><span class="line">    this.eventBus.$emit(&#39;update:selected&#39;,this.selected)</span><br><span class="line">    this.eventBus.$on(&#39;update:addSelected&#39;, (name)&#x3D;&gt;&#123;</span><br><span class="line">      let selectedCopy &#x3D; JSON.parse(JSON.stringify(this.selected))</span><br><span class="line">      if(this.single)&#123;</span><br><span class="line">        selectedCopy &#x3D; [name]</span><br><span class="line">      &#125;else&#123;</span><br><span class="line">        selectedCopy.push(name)</span><br><span class="line">      &#125;</span><br><span class="line">      this.eventBus.$emit(&#39;update:selected&#39;,selectedCopy)  &#x2F;&#x2F; 通知儿子</span><br><span class="line">      this.$emit(&#39;update:selected&#39;,selectedCopy) &#x2F;&#x2F; 通知外面</span><br><span class="line">    &#125;)</span><br><span class="line">    this.eventBus.$on(&#39;update:removeSelected&#39;, (name)&#x3D;&gt;&#123;</span><br><span class="line">      let selectedCopy &#x3D; JSON.parse(JSON.stringify(this.selected))</span><br><span class="line">      let index &#x3D; selectedCopy.indexOf(name)</span><br><span class="line">      selectedCopy.splice(index,1)</span><br><span class="line">      this.eventBus.$emit(&#39;update:selected&#39;,selectedCopy)</span><br><span class="line">      this.$emit(&#39;update:selected&#39;,selectedCopy)</span><br><span class="line">    &#125;)</span><br><span class="line">    this.$children.forEach((vm)&#x3D;&gt;&#123;</span><br><span class="line">      vm.single &#x3D; this.single</span><br><span class="line">      console.log(vm)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="11-数据流的核心"><a href="#11-数据流的核心" class="headerlink" title="11. 数据流的核心"></a>11. 数据流的核心</h4><ul>
<li>不要出现两个东西互相让对方更新的状态</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; collapse.vue 爸爸</span><br><span class="line">    mounted()&#123;</span><br><span class="line">    this.eventBus.$emit(&#39;update:selected&#39;,this.selected) &#x2F;&#x2F; 一开始就通知所有儿子，该选中就选中</span><br><span class="line">    this.eventBus.$on(&#39;update:addSelected&#39;, (name)&#x3D;&gt;&#123;</span><br><span class="line">      let selectedCopy &#x3D; JSON.parse(JSON.stringify(this.selected))</span><br><span class="line">      &#x2F;&#x2F; 如果用户添加一个我就把selected拷贝一份，因为vue不支持直接修改props</span><br><span class="line">      if(this.single)&#123;</span><br><span class="line">        selectedCopy &#x3D; [name]</span><br><span class="line">      &#125;else&#123;</span><br><span class="line">        selectedCopy.push(name)</span><br><span class="line">      &#125;</span><br><span class="line">      this.eventBus.$emit(&#39;update:selected&#39;,selectedCopy)  &#x2F;&#x2F; 得到最新被选中的item之后,通知儿子</span><br><span class="line">      this.$emit(&#39;update:selected&#39;,selectedCopy) &#x2F;&#x2F; 通知外面</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    this.eventBus.$on(&#39;update:removeSelected&#39;, (name)&#x3D;&gt;&#123;</span><br><span class="line">      let selectedCopy &#x3D; JSON.parse(JSON.stringify(this.selected))</span><br><span class="line">      let index &#x3D; selectedCopy.indexOf(name)</span><br><span class="line">      selectedCopy.splice(index,1)</span><br><span class="line">      this.eventBus.$emit(&#39;update:selected&#39;,selectedCopy) &#x2F;&#x2F; 如果用户想移除，也通知他儿子该移除就移除</span><br><span class="line">      this.$emit(&#39;update:selected&#39;,selectedCopy)</span><br><span class="line">    &#125;)</span><br><span class="line">    this.$children.forEach((vm)&#x3D;&gt;&#123;</span><br><span class="line">      vm.single &#x3D; this.single</span><br><span class="line">      console.log(vm)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;¡</span><br><span class="line">  &#x2F;&#x2F; collapse-item.vue 儿子</span><br><span class="line">      mounted()&#123;</span><br><span class="line">    this.eventBus &amp;&amp; this.eventBus.$on(&#39;update:selected&#39;, (names)&#x3D;&gt;&#123;</span><br><span class="line">      &#x2F;&#x2F; 监听eventBus,只要他爸爸要说更新，他就更新</span><br><span class="line">      console.log(names)</span><br><span class="line">      if (names.indexOf(this.name )&gt;&#x3D; 0)&#123;</span><br><span class="line">        this.open &#x3D; true</span><br><span class="line">      &#125;else&#123;</span><br><span class="line">          this.open &#x3D; false</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  methods:&#123;</span><br><span class="line">    toggle()&#123;</span><br><span class="line">      if(this.open) &#123;</span><br><span class="line">        &#x2F;&#x2F; 这里也没有修改自己的OPEN，而是在mounted中等爸爸通知我们修改open,所以他的open永远是爸爸在操作，儿子不操作</span><br><span class="line">        this.eventBus &amp;&amp;this.eventBus.$emit(&#39;update:removeSelected&#39;, this.name)</span><br><span class="line">        &#x2F;&#x2F; 他自己触发一个意图，打算移除一个更新</span><br><span class="line">        &#x2F;&#x2F; 移除一个被选中的东西</span><br><span class="line">      &#125;else&#123;</span><br><span class="line">        this.eventBus &amp;&amp; this.eventBus.$emit(&#39;update:addSelected&#39;, this.name)</span><br><span class="line">        &#x2F;&#x2F; 他自己触发一个意图，打算添加一个更新</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="最后-个人微信-欢迎交流！"><a href="#最后-个人微信-欢迎交流！" class="headerlink" title="最后,个人微信,欢迎交流！"></a>最后,个人微信,欢迎交流！</h4><p><img src="https://i.loli.net/2020/01/30/mbV7Q3XqxedsJKP.jpg" alt="wechat0.jpg"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2020/01/31/popover%E7%BB%84%E4%BB%B6%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/31/popover%E7%BB%84%E4%BB%B6%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B/" class="post-title-link" itemprop="url">popover组件测试用例</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-01-31 12:37:51 / Modified: 16:28:27" itemprop="dateCreated datePublished" datetime="2020-01-31T12:37:51+08:00">2020-01-31</time>
            </span>

          
            <span id="/2020/01/31/popover%E7%BB%84%E4%BB%B6%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B/" class="post-meta-item leancloud_visitors" data-flag-title="popover组件测试用例" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/01/31/popover%E7%BB%84%E4%BB%B6%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/01/31/popover%E7%BB%84%E4%BB%B6%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="1-解决小三角形引起的抖动问题。"><a href="#1-解决小三角形引起的抖动问题。" class="headerlink" title="1. 解决小三角形引起的抖动问题。"></a>1. 解决小三角形引起的抖动问题。</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">  &#x2F;&#x2F; 以一个为例</span><br><span class="line">  &amp;.position-bottom &#123;</span><br><span class="line">  margin-top: 10px;</span><br><span class="line">  &amp;::before, &amp;::after&#123;</span><br><span class="line">    left: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;::before &#123;</span><br><span class="line">    border-top: none;</span><br><span class="line">    border-bottom-color: black;</span><br><span class="line">    &#x2F;*border-color: black;*&#x2F;</span><br><span class="line">    bottom: 100%;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;::after &#123;</span><br><span class="line">    border-top: none;</span><br><span class="line">    border-bottom-color: white;</span><br><span class="line">    &#x2F;*border-color: black;*&#x2F;</span><br><span class="line">    bottom: calc(100% - 1px);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-实现关闭功能，用-slot-scope-把-close-传给插槽"><a href="#2-实现关闭功能，用-slot-scope-把-close-传给插槽" class="headerlink" title="2. 实现关闭功能，用 slot-scope,把 close 传给插槽"></a>2. 实现关闭功能，用 slot-scope,把 close 传给插槽</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; popover.vue</span><br><span class="line">&#x2F;&#x2F; 第一步在slot上传一个属性</span><br><span class="line">&lt;slot name&#x3D;&quot;content&quot; :close&#x3D;&quot;close&quot;&gt;&lt;&#x2F;slot&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 第二步结构一下close，然后用就可以了</span><br><span class="line">&#x2F;&#x2F; index.html</span><br><span class="line">&lt;g-popover position&#x3D;&quot;bottom&quot;&gt;</span><br><span class="line">  &lt;template slot&#x3D;&quot;content&quot; slot-scope&#x3D;&quot;&#123;close&#125;&quot;&gt;</span><br><span class="line">    &lt;div&gt;&lt;g-button @click&#x3D;&quot;close&quot;&gt;关闭&lt;&#x2F;g-button&gt;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line">  &lt;g-button&gt;点我1&lt;&#x2F;g-button&gt;</span><br><span class="line">&lt;&#x2F;g-popover&gt;</span><br></pre></td></tr></table></figure>

<h4 id="3-popover-的第一个测试用例-position"><a href="#3-popover-的第一个测试用例-position" class="headerlink" title="3. popover 的第一个测试用例-position"></a>3. popover 的第一个测试用例-position</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">it(&#39;可以设置position.&#39;, (done) &#x3D;&gt; &#123;</span><br><span class="line">    Vue.component(&#39;g-popover&#39;, Popover)</span><br><span class="line">    const div &#x3D; document.createElement(&#39;div&#39;)</span><br><span class="line">    document.body.appendChild(div)</span><br><span class="line">    div.innerHTML &#x3D; &#96;</span><br><span class="line">    &lt;g-popover position&#x3D;&quot;bottom&quot; ref&#x3D;&quot;a&quot;&gt;</span><br><span class="line">      &lt;template slot&#x3D;&quot;content&quot;&gt;</span><br><span class="line">        弹出内容</span><br><span class="line">      &lt;&#x2F;template&gt;</span><br><span class="line">      &lt;button&gt;点我&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;g-popover&gt;</span><br><span class="line">    &#96;</span><br><span class="line">    const vm &#x3D; new Vue(&#123; &#x2F;&#x2F; 这个vm不是组件，这个vm是一个div对应的实例,div里面才是popover组件</span><br><span class="line">      el: div</span><br><span class="line">    &#125;)</span><br><span class="line">    vm.$el.querySelector(&#39;button&#39;).click()</span><br><span class="line">    vm.$nextTick(() &#x3D;&gt; &#123;</span><br><span class="line">      const &#123;contentWrapper&#125; &#x3D; vm.$refs.a.$refs</span><br><span class="line">      expect(contentWrapper.classList.contains(&#39;position-top&#39;)).to.be.false</span><br><span class="line">      done()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<h4 id="4-测试-mouseEnter-事件"><a href="#4-测试-mouseEnter-事件" class="headerlink" title="4. 测试 mouseEnter 事件"></a>4. 测试 mouseEnter 事件</h4><ul>
<li>先确认用 dispatchEvent 的方式是可以触发 hover 事件的</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id&#x3D;xxx&gt;</span><br><span class="line">    hihihi</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;button style&#x3D;&quot;marin-top:20px;&quot; id&#x3D;button&gt;click me&lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line"></span><br><span class="line">xxx.addEventListener(&#39;mouseenter&#39;,function()&#123;</span><br><span class="line">  console.log(&#39;hi&#39;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">button.onclick&#x3D;function()&#123;</span><br><span class="line">  let event &#x3D; new Event(&#39;mouseenter&#39;);</span><br><span class="line">  xxx.dispatchEvent(event)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>可以设置 trigger 的测试用例有问题，先跳过,it 前面+一个 x 可以跳过</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">xit(&#39;可以设置 trigger.&#39;, (done) &#x3D;&gt; &#123;</span><br><span class="line">  Vue.component(&#39;g-popover&#39;, Popover)</span><br><span class="line">  const div &#x3D; document.createElement(&#39;div&#39;)</span><br><span class="line">  document.body.appendChild(div)</span><br><span class="line">  div.innerHTML &#x3D; &#96;</span><br><span class="line">  &lt;g-popover trigger&#x3D;&quot;hover&quot; ref&#x3D;&quot;a&quot;&gt;</span><br><span class="line">    &lt;template slot&#x3D;&quot;content&quot;&gt;</span><br><span class="line">      弹出内容</span><br><span class="line">    &lt;&#x2F;template&gt;</span><br><span class="line">    &lt;button&gt;点我&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;&#x2F;g-popover&gt;</span><br><span class="line">  &#96;</span><br><span class="line">  const vm &#x3D; new Vue(&#123; &#x2F;&#x2F; 这个vm不是组件，这个vm是一个div对应的实例,div里面才是popover组件</span><br><span class="line">    el: div</span><br><span class="line">  &#125;)</span><br><span class="line">  let event &#x3D; new Event(&#39;mouseenter&#39;);</span><br><span class="line">  vm.$el.dispatchEvent(event)</span><br><span class="line">  vm.$nextTick(() &#x3D;&gt; &#123;</span><br><span class="line">    const &#123;contentWrapper&#125; &#x3D; vm.$refs.a.$refs</span><br><span class="line">    expect(contentWrapper).to.be.exist</span><br><span class="line">    done()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="最后-个人微信-欢迎交流！"><a href="#最后-个人微信-欢迎交流！" class="headerlink" title="最后,个人微信,欢迎交流！"></a>最后,个人微信,欢迎交流！</h4><p><img src="https://i.loli.net/2020/01/30/mbV7Q3XqxedsJKP.jpg" alt="wechat0.jpg"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2020/01/29/Vue%E9%80%A0%E8%BD%AE%E5%AD%90-popover%E7%BB%84%E4%BB%B6-%E4%B8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/29/Vue%E9%80%A0%E8%BD%AE%E5%AD%90-popover%E7%BB%84%E4%BB%B6-%E4%B8%8B/" class="post-title-link" itemprop="url">Vue造轮子-popover组件(下)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-01-29 10:37:44" itemprop="dateCreated datePublished" datetime="2020-01-29T10:37:44+08:00">2020-01-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-01-31 11:46:57" itemprop="dateModified" datetime="2020-01-31T11:46:57+08:00">2020-01-31</time>
              </span>

          
            <span id="/2020/01/29/Vue%E9%80%A0%E8%BD%AE%E5%AD%90-popover%E7%BB%84%E4%BB%B6-%E4%B8%8B/" class="post-meta-item leancloud_visitors" data-flag-title="Vue造轮子-popover组件(下)" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/01/29/Vue%E9%80%A0%E8%BD%AE%E5%AD%90-popover%E7%BB%84%E4%BB%B6-%E4%B8%8B/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/01/29/Vue%E9%80%A0%E8%BD%AE%E5%AD%90-popover%E7%BB%84%E4%BB%B6-%E4%B8%8B/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="1-上一次的问题总结。"><a href="#1-上一次的问题总结。" class="headerlink" title="1. 上一次的问题总结。"></a>1. 上一次的问题总结。</h4><ul>
<li>overflow:hidden -&gt; body.appendChild</li>
<li>关闭重复 -&gt; 分开,document 只管外面,popover 只管里面</li>
<li>忘了取消监听 document -&gt; 收拢 close</li>
</ul>
<h4 id="2-可以把一个函数哟没有五行作为一个优化的标准-简称为五行定律"><a href="#2-可以把一个函数哟没有五行作为一个优化的标准-简称为五行定律" class="headerlink" title="2. 可以把一个函数哟没有五行作为一个优化的标准,简称为五行定律"></a>2. 可以把一个函数哟没有五行作为一个优化的标准,简称为五行定律</h4><h4 id="3-接下来把样式改好点"><a href="#3-接下来把样式改好点" class="headerlink" title="3. 接下来把样式改好点"></a>3. 接下来把样式改好点</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">.content-wrapper &#123; &#x2F;&#x2F; 如果写了scoped,popover里面那么就只作用于popover里面,移到外面就在外面了就可以</span><br><span class="line">  position: absolute;</span><br><span class="line">  border: 1px solid  $border-color;</span><br><span class="line">  border-radius: $border-radius;</span><br><span class="line">  filter: drop-shadow(0 0 1px rgba(0,0,0,0.5));</span><br><span class="line">  &#x2F;*通过drop-shadow解决小三角没有阴影的问题，但是兼容性不好 *&#x2F;</span><br><span class="line">  &#x2F;*box-shadow: 0 0 3px rgba(0, 0, 0, 0.5);*&#x2F;</span><br><span class="line">  background: white;</span><br><span class="line">  transform: translateY(-100%);</span><br><span class="line">  margin-top: -10px;</span><br><span class="line">  padding: .5em 1em;</span><br><span class="line">  max-width: 20em;</span><br><span class="line">  word-break: break-all;</span><br><span class="line">  &amp;::before ,  &amp;::after&#123;</span><br><span class="line">    content: &#39;&#39;;</span><br><span class="line">    display: block;</span><br><span class="line">    width: 0;</span><br><span class="line">    height: 0;</span><br><span class="line">    position: absolute;</span><br><span class="line">    border: 10px solid transparent;</span><br><span class="line">    left: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;::after&#123;</span><br><span class="line">    content: &#39;&#39;;</span><br><span class="line">    display: block;</span><br><span class="line">    width: 0;</span><br><span class="line">    height: 0;</span><br><span class="line">    position: absolute;</span><br><span class="line">    border: 10px solid transparent;</span><br><span class="line">    left: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;::before &#123;</span><br><span class="line">    border-top-color: black;</span><br><span class="line">    top: 100%;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;::after &#123;</span><br><span class="line">    border-top-color: white;</span><br><span class="line">    top: calc(100% - 1px);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-增加功能-用户可以选择-popover-是上面下面左面右面"><a href="#4-增加功能-用户可以选择-popover-是上面下面左面右面" class="headerlink" title="4. 增加功能:用户可以选择 popover 是上面下面左面右面"></a>4. 增加功能:用户可以选择 popover 是上面下面左面右面</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line">  &#x2F;&#x2F; 先要给contentWrapper加一个类,传递进入位置信息</span><br><span class="line">  &lt;div ref&#x3D;&quot;contentWrapper&quot; class&#x3D;&quot;content-wrapper&quot; v-if&#x3D;&quot;visible&quot;</span><br><span class="line">    :class&#x3D;&quot;&#123;[&#96;position-$&#123;position&#125;&#96;]:true&#125;&quot;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 获得位置信息</span><br><span class="line">  props: &#123;</span><br><span class="line">      position:&#123;</span><br><span class="line">        type: String,</span><br><span class="line">        default: &#39;top&#39;,</span><br><span class="line">        validator(value)&#123;</span><br><span class="line">          return [&#39;top&#39;,&#39;bottom&#39;,&#39;left&#39;,&#39;right&#39;].indexOf(value) &gt;&#x3D; 0</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 在method里面写方法,主要控制大概位置</span><br><span class="line">  method: &#123;</span><br><span class="line">    positionContent() &#123;</span><br><span class="line">        const &#123;contentWrapper, triggerWrapper&#125; &#x3D; this[&#39;$refs&#39;]</span><br><span class="line">        document.body.appendChild(contentWrapper)</span><br><span class="line">        let &#123;width, height, top, left&#125; &#x3D; triggerWrapper.getBoundingClientRect()</span><br><span class="line">        if(this.position &#x3D;&#x3D;&#x3D; &#39;top&#39;)&#123;</span><br><span class="line">          contentWrapper.style.left &#x3D; left + window.scrollX + &quot;px&quot;</span><br><span class="line">          contentWrapper.style.top &#x3D; top + window.scrollY + &quot;px&quot;</span><br><span class="line">        &#125;else if(this.position &#x3D;&#x3D;&#x3D; &#39;bottom&#39;)&#123;</span><br><span class="line">          contentWrapper.style.left &#x3D; left + window.scrollX + &quot;px&quot;</span><br><span class="line">          contentWrapper.style.top &#x3D; top + height + window.scrollY + &quot;px&quot;</span><br><span class="line">        &#125;else if(this.position &#x3D;&#x3D;&#x3D; &#39;left&#39;)&#123;</span><br><span class="line">          contentWrapper.style.left &#x3D; left + window.scrollX + &quot;px&quot;</span><br><span class="line">          let &#123;height: height2&#125; &#x3D; contentWrapper.getBoundingClientRect()</span><br><span class="line">          contentWrapper.style.top &#x3D; top  + window.scrollY + (height - height2)&#x2F;2 + &quot;px&quot;</span><br><span class="line">        &#125;else if(this.position &#x3D;&#x3D;&#x3D; &#39;right&#39;)&#123;</span><br><span class="line">          contentWrapper.style.left &#x3D; left + window.scrollX + width + &quot;px&quot;</span><br><span class="line">          let &#123;height: height2&#125; &#x3D; contentWrapper.getBoundingClientRect()</span><br><span class="line">          contentWrapper.style.top &#x3D; top  + window.scrollY + (height - height2)&#x2F;2 + &quot;px&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 然后对css进行处理,主要是箭头当想</span><br><span class="line">  &lt;style lang&#x3D;&quot;scss&quot; scoped&gt;</span><br><span class="line">  $border-color: #333;</span><br><span class="line">  $border-radius: 4px;</span><br><span class="line">  .popover &#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    vertical-align: top;</span><br><span class="line">    position: relative;</span><br><span class="line">  &#125;</span><br><span class="line">  .content-wrapper &#123; &#x2F;&#x2F; 如果写了scoped,popover里面那么就只作用于popover里面,移到外面就在外面了就可以</span><br><span class="line">    position: absolute;</span><br><span class="line">    border: 1px solid  $border-color;</span><br><span class="line">    border-radius: $border-radius;</span><br><span class="line">    filter: drop-shadow(0 0 1px rgba(0,0,0,0.5));</span><br><span class="line">    &#x2F;*通过drop-shadow解决小三角没有阴影的问题，但是兼容性不好 *&#x2F;</span><br><span class="line">    &#x2F;*box-shadow: 0 0 3px rgba(0, 0, 0, 0.5);*&#x2F;</span><br><span class="line">    background: white;</span><br><span class="line">    padding: .5em 1em;</span><br><span class="line">    max-width: 20em;</span><br><span class="line">    word-break: break-all;</span><br><span class="line">    &amp;::before ,  &amp;::after&#123;</span><br><span class="line">      content: &#39;&#39;;</span><br><span class="line">      display: block;</span><br><span class="line">      border: 10px solid transparent;</span><br><span class="line">      width: 0;</span><br><span class="line">      height: 0;</span><br><span class="line">      position: absolute;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &amp;.position-top &#123;</span><br><span class="line">      transform: translateY(-100%);</span><br><span class="line">      margin-top: -10px;</span><br><span class="line">      &amp;::before, &amp;::after&#123;</span><br><span class="line">        left: 10px;</span><br><span class="line">      &#125;</span><br><span class="line">      &amp;::before &#123;</span><br><span class="line">        border-top-color: black;</span><br><span class="line">        top: 100%;</span><br><span class="line">      &#125;</span><br><span class="line">      &amp;::after &#123;</span><br><span class="line">        border-top-color: white;</span><br><span class="line">        top: calc(100% - 1px);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &amp;.position-bottom &#123;</span><br><span class="line">      margin-top: 10px;</span><br><span class="line">      &amp;::before, &amp;::after&#123;</span><br><span class="line">        left: 10px;</span><br><span class="line">      &#125;</span><br><span class="line">      &amp;::before &#123;</span><br><span class="line">        border-bottom-color: black;</span><br><span class="line">        bottom: 100%;</span><br><span class="line">      &#125;</span><br><span class="line">      &amp;::after &#123;</span><br><span class="line">        border-bottom-color: white;</span><br><span class="line">        bottom: calc(100% - 1px);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &amp;.position-left&#123;</span><br><span class="line">      transform: translateX(-100%);</span><br><span class="line">      margin-left: -10px;</span><br><span class="line">      &amp;::before, &amp;::after&#123;</span><br><span class="line">        transform: translateY(-50%);</span><br><span class="line">        top: 50%;</span><br><span class="line">      &#125;</span><br><span class="line">      &amp;::before &#123;</span><br><span class="line">        border-left-color: black;</span><br><span class="line">        left: 100%;</span><br><span class="line">      &#125;</span><br><span class="line">      &amp;::after &#123;</span><br><span class="line">        border-left-color: white;</span><br><span class="line">        left: calc(100% - 1px)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &amp;.position-right&#123;</span><br><span class="line">      margin-left: 10px;</span><br><span class="line">      &amp;::before, &amp;::after&#123;</span><br><span class="line">        transform: translateY(-50%);</span><br><span class="line">        top: 50%;</span><br><span class="line">      &#125;</span><br><span class="line">      &amp;::before &#123;</span><br><span class="line">        border-right-color: black;</span><br><span class="line">        right: 100%;</span><br><span class="line">      &#125;</span><br><span class="line">      &amp;::after &#123;</span><br><span class="line">        border-right-color: white;</span><br><span class="line">        right: calc(100% - 1px)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h4 id="5-发现目前代码比较冗余，进一步优化代码"><a href="#5-发现目前代码比较冗余，进一步优化代码" class="headerlink" title="5.发现目前代码比较冗余，进一步优化代码"></a>5.发现目前代码比较冗余，进一步优化代码</h4><ul>
<li>多个 if else 逻辑相似，首先要把共有代码抽上去，利用表驱动编程的技巧。
<img src="https://i.loli.net/2020/01/31/WCRjO28ilBVMzGd.png" alt="表驱动编程.png"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">positionContent() &#123;</span><br><span class="line">      const &#123;contentWrapper, triggerWrapper&#125; &#x3D; this[&#39;$refs&#39;]</span><br><span class="line">      document.body.appendChild(contentWrapper)</span><br><span class="line">      const &#123;width, height, top, left&#125; &#x3D; triggerWrapper.getBoundingClientRect()</span><br><span class="line">      const &#123;height: height2&#125; &#x3D; contentWrapper.getBoundingClientRect()</span><br><span class="line">      let positions &#x3D; &#123;</span><br><span class="line">        top: &#123;</span><br><span class="line">          top: top + window.scrollY,</span><br><span class="line">          left: left + window.scrollX</span><br><span class="line">        &#125;,</span><br><span class="line">        bottom: &#123;</span><br><span class="line">          top: top + height + window.scrollY,</span><br><span class="line">          left: left + window.scrollX</span><br><span class="line">        &#125;,</span><br><span class="line">        left: &#123;</span><br><span class="line">          top: top  + window.scrollY + (height - height2)&#x2F;2,</span><br><span class="line">          left: left + window.scrollX</span><br><span class="line">        &#125;,</span><br><span class="line">        right: &#123;</span><br><span class="line">          top:  top  + window.scrollY + (height - height2)&#x2F;2,</span><br><span class="line">          left: left + window.scrollX + width</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;</span><br><span class="line">      contentWrapper.style.left &#x3D; positions[this.position].left + &#39;px&#39;</span><br><span class="line">      contentWrapper.style.top &#x3D; positions[this.position].top + &#39;px&#39;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="6-实现-hover-的效果"><a href="#6-实现-hover-的效果" class="headerlink" title="6.实现 hover 的效果"></a>6.实现 hover 的效果</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 每个事件的处理逻辑不一样，所以要分开写if</span><br><span class="line">  mounted()&#123;</span><br><span class="line">    if(this.trigger &#x3D;&#x3D;&#x3D; &#39;click&#39;)&#123;</span><br><span class="line">      this[&#39;$refs&#39;][&#39;popover&#39;].addEventListener(&#39;click&#39;,this.onClick)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      this[&#39;$refs&#39;][&#39;popover&#39;].addEventListener(&#39;mouseenter&#39;,this.open)</span><br><span class="line">      this[&#39;$refs&#39;][&#39;popover&#39;].addEventListener(&#39;mouseleave&#39;,this.close)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#x2F;&#x2F; 负责任的轮子要写destory,防止内存泄露</span><br><span class="line">  destroyed()&#123;</span><br><span class="line">    if(this.trigger &#x3D;&#x3D;&#x3D; &#39;click&#39;)&#123;</span><br><span class="line">      this[&#39;$refs&#39;][&#39;popover&#39;].removeEventListener(&#39;click&#39;,this.onClick)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      this[&#39;$refs&#39;][&#39;popover&#39;].removeEventListener(&#39;mouseenter&#39;,this.open)</span><br><span class="line">      this[&#39;$refs&#39;][&#39;popover&#39;].removeEventListener(&#39;mouseleave&#39;,this.close)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h4 id="最后-个人微信-欢迎交流！"><a href="#最后-个人微信-欢迎交流！" class="headerlink" title="最后,个人微信,欢迎交流！"></a>最后,个人微信,欢迎交流！</h4><p><img src="https://i.loli.net/2020/01/30/mbV7Q3XqxedsJKP.jpg" alt="wechat0.jpg"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/9/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><span class="space">&hellip;</span><a class="page-number" href="/page/24/">24</a><a class="extend next" rel="next" href="/page/11/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Ories"
      src="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
  <p class="site-author-name" itemprop="name">Ories</p>
  <div class="site-description" itemprop="description">这个博客用来记录自己的生活</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">239</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">70</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/codingories" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;codingories" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ories</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('https://cdn.jsdelivr.net/npm/valine@1.3.9/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : true,
      notify     : true,
      appId      : 'HHvArpMYcwuYjNb3703JgvvS-gzGzoHsz',
      appKey     : '5lSamU58UyScrMIQcUygcD2I',
      placeholder: "欢迎畅所欲言",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : 'true'
    });
  }, window.Valine);
});
</script>

</body>
</html>
