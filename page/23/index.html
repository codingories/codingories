<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"codingories.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="这个博客用来记录自己的生活">
<meta property="og:type" content="website">
<meta property="og:title" content="OriesノBlog">
<meta property="og:url" content="codingories.github.io/page/23/index.html">
<meta property="og:site_name" content="OriesノBlog">
<meta property="og:description" content="这个博客用来记录自己的生活">
<meta property="article:author" content="Ories">
<meta property="article:tag" content="编程 吉他 rap">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="codingories.github.io/page/23/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-Hans'
  };
</script>

  <title>OriesノBlog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">OriesノBlog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">朱骏杰的私人博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2019/02/21/js%E5%8A%A8%E7%94%BB%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%BA%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/02/21/js%E5%8A%A8%E7%94%BB%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%BA%8C/" class="post-title-link" itemprop="url">js动画学习分享二</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-02-21 11:02:32" itemprop="dateCreated datePublished" datetime="2019-02-21T11:02:32+08:00">2019-02-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-02-25 11:23:08" itemprop="dateModified" datetime="2019-02-25T11:23:08+08:00">2019-02-25</time>
              </span>

          
            <span id="/2019/02/21/js%E5%8A%A8%E7%94%BB%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%BA%8C/" class="post-meta-item leancloud_visitors" data-flag-title="js动画学习分享二" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2019/02/21/js%E5%8A%A8%E7%94%BB%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%BA%8C/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/02/21/js%E5%8A%A8%E7%94%BB%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%BA%8C/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>** 案例1:多图片展开,收缩</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        body &#123;margin:0&#125;</span><br><span class="line">        #ul1 &#123;padding:0; width:330px; margin: 100px auto 0; position: relative;&#125;</span><br><span class="line">        li &#123; width: 100px; height: 100px; background: red; float: left; list-style:none; margin: 10px 0 0 10px;&#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;move.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        &#x2F;&#x2F; 在转换布局的，相对用户眼睛的为止保持不变</span><br><span class="line">        &#x2F;&#x2F; offsetLeft[Top]; 到有定位的父级的距离</span><br><span class="line">        window.onload &#x3D; function () &#123;</span><br><span class="line">            var oUl &#x3D; document.getElementById(&#39;ul1&#39;);</span><br><span class="line">            var aLi &#x3D; oUl.getElementsByTagName(&#39;li&#39;);</span><br><span class="line">            var arr &#x3D; [];</span><br><span class="line">            var zIndex &#x3D; 1;</span><br><span class="line">            for (var i &#x3D; 0; i &lt; aLi.length; i++)&#123;</span><br><span class="line">                arr.push( &#123;left: aLi[i].offsetLeft,top: aLi[i].offsetTop&#125; )</span><br><span class="line">                &#x2F;&#x2F; 把每个方块往左边，上边的距离放到数组里面</span><br><span class="line">            &#125;</span><br><span class="line">            for (var i &#x3D; 0; i &lt; aLi.length; i++)&#123;</span><br><span class="line">                &#x2F;&#x2F; 在用js取设置css样式的时候: 同一个代码块中，有些css样式的设置的权限要高于其他的样式</span><br><span class="line">                &#x2F;&#x2F; position 高于 left 所以</span><br><span class="line">                aLi[i].index &#x3D; i;</span><br><span class="line">                aLi[i].style.left &#x3D; arr[i].left + &#39;px&#39;;</span><br><span class="line">                aLi[i].style.top &#x3D; arr[i].top + &#39;px&#39;;</span><br><span class="line">                &#x2F;&#x2F; console.log(aLi[i].style.position)</span><br><span class="line">                aLi[i].style.position &#x3D; &#39;absolute&#39;;</span><br><span class="line">                aLi[i].style.margin &#x3D; &#39;0px&#39;;</span><br><span class="line">                &#x2F;&#x2F; 因为前面设了li的margin为10px 如果接着设置left为10px那么会累加，所以这边要清除</span><br><span class="line">                aLi[i].onmouseover &#x3D; function () &#123;</span><br><span class="line"></span><br><span class="line">                    this.style.background &#x3D; &#39;green&#39;;</span><br><span class="line">                    this.style.zIndex &#x3D; zIndex++;</span><br><span class="line"></span><br><span class="line">                    startMove( this,&#123;</span><br><span class="line">                        width : 200,</span><br><span class="line">                        height : 200,</span><br><span class="line">                        left : arr[this.index].left - 50,</span><br><span class="line">                        top : arr[this.index].top -50</span><br><span class="line">                    &#125; );</span><br><span class="line">                &#125;;</span><br><span class="line">                aLi[i].onmouseout &#x3D; function () &#123;</span><br><span class="line">                    startMove( this,&#123;</span><br><span class="line">                        width : 100,</span><br><span class="line">                        height : 100,</span><br><span class="line">                        left : arr[this.index].left ,</span><br><span class="line">                        top : arr[this.index].top</span><br><span class="line">                    &#125; );</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;ul id&#x3D;&quot;ul1&quot;&gt;</span><br><span class="line">        &lt;li&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;&#x2F;li&gt;</span><br><span class="line">    &lt;&#x2F;ul&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>** 案例2.带运动效果的留言本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">案例2.带运动效果的留言本</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        #ul1 &#123; margin: 0; position: absolute; right: 10px; top: 8px; width:700px;height: 500px; border:1px solid #000; overflow: hidden;&#125;</span><br><span class="line">        li &#123; line-height: 28px; border-bottom: 1px dotted #000; list-style: none; word-break:break-all; overflow: hidden&#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;move.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        window.onload &#x3D; function () &#123;</span><br><span class="line">            &#x2F;&#x2F; 线写出没有运动的效果，然后把赋值运动变成运动形式</span><br><span class="line">            var oContent &#x3D; document.getElementById(&#39;content&#39;);</span><br><span class="line">            var oBtn &#x3D; document.getElementById(&#39;btn&#39;);</span><br><span class="line">            var oUl &#x3D; document.getElementById(&#39;ul1&#39;);</span><br><span class="line">            oBtn.onclick &#x3D; function () &#123;</span><br><span class="line">                var oLi &#x3D; document.createElement(&#39;li&#39;);</span><br><span class="line">                oLi.innerHTML &#x3D; oContent.value; &#x2F;&#x2F; 创建li</span><br><span class="line">                if ( oUl.children[0] ) &#123;</span><br><span class="line">                    oUl.insertBefore( oLi, oUl.children[0] ); &#x2F;&#x2F; 在前面插入</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    oUl.appendChild( oLi );</span><br><span class="line">                &#125;</span><br><span class="line">                &#x2F;&#x2F; var iHeight &#x3D; oLi.offsetHeight; &#x2F;&#x2F; 包含高度和边框1</span><br><span class="line">                &#x2F;&#x2F; var iHeight &#x3D; oLi.clientHeight; &#x2F;&#x2F; 包含高度和marigin</span><br><span class="line">                var iHeight &#x3D; parseInt( css(oLi,&#39;height&#39;) ); &#x2F;&#x2F; 封装在move里面</span><br><span class="line">                oLi.style.height &#x3D; &#39;0px&#39;;</span><br><span class="line">                oLi.style.opacity &#x3D; &#39;0&#39;;</span><br><span class="line">                oLi.style.filter &#x3D; &#39;alpha(opacity&#x3D;0)&#39;;</span><br><span class="line">                startMove(oLi, &#123;</span><br><span class="line">                    height : iHeight,</span><br><span class="line">                    opacity: 100</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;textarea id&#x3D;&quot;content&quot; cols&#x3D;&quot;50&quot; rows&#x3D;&quot;10&quot;&gt;&lt;&#x2F;textarea&gt;</span><br><span class="line">    &lt;input type&#x3D;&quot;button&quot; value&#x3D;&quot;留言&quot; id&#x3D;&quot;btn&quot;&gt;</span><br><span class="line">    &lt;ul id&#x3D;&quot;ul1&quot;&gt;</span><br><span class="line">    &lt;&#x2F;ul&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>** 案例3.淘宝首页幻灯片</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">详细见3.淘宝首页幻灯片.html</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    #div1 &#123; width: 520px; height:280px; border: 1px solid #000; margin : 100px auto 0; position: relative; overflow: hidden&#125;</span><br><span class="line">    #ul1 &#123; position: absolute; left: 0; top: 0; margin: 0; padding: 0; &#125;</span><br><span class="line">    li &#123; list-style: none; float: left;&#125;;</span><br><span class="line">    img &#123; display:block &#125;</span><br><span class="line">    #div1 p &#123; text-align: center; position: absolute; width: 100%; bottom: 10px;&#125;</span><br><span class="line">    #div1 p span &#123;padding: 2px 9px; background: #ccc; border-radius: 50%; cursor:pointer; margin-left:5px;&#125;</span><br><span class="line">    #div1 p span.current &#123; background:#F90 &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;move.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    window.onload &#x3D; function () &#123;</span><br><span class="line">        var oDiv &#x3D; document.getElementById(&#39;div1&#39;);</span><br><span class="line">        var oUl &#x3D; document.getElementById(&#39;ul1&#39;);</span><br><span class="line">        var aLi &#x3D; oUl.getElementsByTagName(&#39;li&#39;);</span><br><span class="line">        var aSpan &#x3D; oDiv.getElementsByTagName(&#39;span&#39;);</span><br><span class="line">        var iLen &#x3D; aLi.length;</span><br><span class="line">        var iWidth &#x3D; aLi[0].offsetWidth;</span><br><span class="line">        oUl.style.width &#x3D; iLen * iWidth + &#39;px&#39;;</span><br><span class="line">        for (var i&#x3D;0; i &lt; iLen; i++)&#123;</span><br><span class="line">                aSpan[i].index &#x3D; i;</span><br><span class="line">                aSpan[i].onclick &#x3D; function () &#123;</span><br><span class="line">                    for (var i&#x3D;0; i&lt;iLen; i++)&#123;</span><br><span class="line">                        aSpan[i].className &#x3D; &#39;&#39;;</span><br><span class="line">                    &#125;</span><br><span class="line">                    this.className &#x3D; &#39;current&#39;;</span><br><span class="line">                    &#x2F;&#x2F; oUl.style.left &#x3D; -this.index * iWidth + &#39;px&#39;;</span><br><span class="line">                    startMove(oUl, &#123;</span><br><span class="line">                        left : -this.index * iWidth</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;div1&quot;&gt;</span><br><span class="line">        &lt;ul id&#x3D;&quot;ul1&quot;&gt;</span><br><span class="line">            &lt;li&gt;&lt;img src&#x3D;&quot;imgs&#x2F;1.jpg&quot; alt&#x3D;&quot;&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">            &lt;li&gt;&lt;img src&#x3D;&quot;imgs&#x2F;2.jpg&quot; alt&#x3D;&quot;&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">            &lt;li&gt;&lt;img src&#x3D;&quot;imgs&#x2F;3.jpg&quot; alt&#x3D;&quot;&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">            &lt;li&gt;&lt;img src&#x3D;&quot;imgs&#x2F;4.jpg&quot; alt&#x3D;&quot;&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">            &lt;li&gt;&lt;img src&#x3D;&quot;imgs&#x2F;5.jpg&quot; alt&#x3D;&quot;&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;&#x2F;ul&gt;</span><br><span class="line">        &lt;p&gt;</span><br><span class="line">            &lt;span class&#x3D;&quot;current&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;span&gt;&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;span&gt;&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;span&gt;&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;span&gt;&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>** 案例4.带运动的返回顶部</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">详细见:案例4.带运动的返回顶部</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    #div1 &#123; width: 100px;height: 100px;background: red;position:absolute;right:0;top:0; &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    window.onload &#x3D; function () &#123;</span><br><span class="line">        var oDiv &#x3D; document.getElementById(&#39;div1&#39;);</span><br><span class="line">        var iTimer &#x3D; null;</span><br><span class="line">        var b &#x3D; 0;</span><br><span class="line">        window.onscroll &#x3D; function()&#123;</span><br><span class="line">            if (b !&#x3D;&#x3D; 1)&#123; &#x2F;&#x2F; 如果b&#x3D;1那么，当前的scroll事件是被定时器触发,如果不等于1，</span><br><span class="line">                &#x2F;&#x2F; 那么就是非定时器的其他任何一个操作触发该事件</span><br><span class="line">                clearInterval(iTimer);</span><br><span class="line">            &#125;</span><br><span class="line">            b &#x3D; 2;</span><br><span class="line">            setTop();</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        oDiv.onclick &#x3D; function()&#123;</span><br><span class="line">            clearInterval(iTimer);</span><br><span class="line">            var iCur &#x3D; iSpeed &#x3D; 0;</span><br><span class="line">            iTimer &#x3D; setInterval(function () &#123;</span><br><span class="line">                iCur &#x3D; document.documentElement.scrollTop || document.body.scrollTop;</span><br><span class="line">                iSpeed &#x3D; Math.floor(( 0 - iCur )&#x2F;8); &#x2F;&#x2F; 速度</span><br><span class="line">                if( iCur &#x3D;&#x3D; 0 )&#123;</span><br><span class="line">                    clearInterval(iTimer);</span><br><span class="line">                &#125;else&#123;</span><br><span class="line">                    document.documentElement.scrollTop &#x3D; document.body.scrollTop &#x3D; iCur + iSpeed;</span><br><span class="line">                &#125;</span><br><span class="line">                b &#x3D; 1</span><br><span class="line">            &#125;,30);</span><br><span class="line">        &#125;;</span><br><span class="line">        setTop();</span><br><span class="line">        function setTop()&#123;</span><br><span class="line">            var scrollTop &#x3D; document.documentElement.scrollTop || document.body.scrollTop; &#x2F;&#x2F; 获取当前滚动条纵坐标的位置</span><br><span class="line">            &#x2F;&#x2F; console.log(scrollTop);</span><br><span class="line">            oDiv.style.top &#x3D; scrollTop + document.documentElement.clientHeight - oDiv.offsetHeight + &#39;px&#39;;</span><br><span class="line">            &#x2F;&#x2F; document.documentElement.clientHeight 可见区域高度</span><br><span class="line">            &#x2F;&#x2F; oDiv的高度</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body style&#x3D;&quot;height: 2000px&quot;&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;div1&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>** 案例五.图片预加载</p>
<ul>
<li>预判(按需)加载—-自动加载下一张图片</li>
<li>延迟加载—-加载可视区图片，其他图片等进入可视区再加载</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">详细见 5.图片预加载</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">         &#x2F;&#x2F; 迅雷 -&gt; Image对象，电视剧下一集看，接着下</span><br><span class="line">        window.onload &#x3D; function () &#123;</span><br><span class="line">            console.log(123);</span><br><span class="line">            var oImg &#x3D; document.getElementById(&quot;img1&quot;);</span><br><span class="line">            var oImage &#x3D; new Image();</span><br><span class="line">            &#x2F;&#x2F; 属性:</span><br><span class="line">            &#x2F;&#x2F; src : 当我们给Image对象的src属性赋值一个url的时候,这个Image对象就会去加载url资源，</span><br><span class="line">            &#x2F;&#x2F; 加载完成以后的资源被保存到了浏览器的缓存文件夹里面，下次如果我们要去调用这个url地址的时候，直接是从缓存文件夹读取到的，</span><br><span class="line">            &#x2F;&#x2F; 所以速度快</span><br><span class="line">            &#x2F;&#x2F; unload： 当资源加载完成的时候触发</span><br><span class="line">            &#x2F;&#x2F; unerror： 当资源加载失败的时候触发</span><br><span class="line">            oImage.src &#x3D; &#39;https:&#x2F;&#x2F;timgsa.baidu.com&#x2F;timg?image&amp;quality&#x3D;80&amp;size&#x3D;b9999_10000&amp;sec&#x3D;1551066435332&amp;di&#x3D;1855aff11ebef38d8b468ab9f5d6b825&amp;imgtype&#x3D;0&amp;src&#x3D;http%3A%2F%2Fww1.sinaimg.cn%2Flarge%2F6db4533bjw1erok0gvqtkj23sg2io1ky.jpg&#39;;</span><br><span class="line">            oImage.onload &#x3D; function () &#123;</span><br><span class="line">                alert(&#39;加载完成&#39;);</span><br><span class="line">                document.onclick &#x3D; function()&#123;</span><br><span class="line">                    console.log(901)</span><br><span class="line">                    oImg.src &#x3D; &#39;https:&#x2F;&#x2F;timgsa.baidu.com&#x2F;timg?image&amp;quality&#x3D;80&amp;size&#x3D;b9999_10000&amp;sec&#x3D;1551066435332&amp;di&#x3D;1855aff11ebef38d8b468ab9f5d6b825&amp;imgtype&#x3D;0&amp;src&#x3D;http%3A%2F%2Fww1.sinaimg.cn%2Flarge%2F6db4533bjw1erok0gvqtkj23sg2io1ky.jpg&#39;;</span><br><span class="line">                    &#x2F;&#x2F; 浏览器发现这个地址被浏览器下载过，直接从缓存里面拉过来读</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            &#x2F;&#x2F; oImage.onerror &#x3D; function()&#123;</span><br><span class="line">            &#x2F;&#x2F;     alert(&#39;加载出错&#39;)</span><br><span class="line">            &#x2F;&#x2F; &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;img src&#x3D;&quot;&quot; alt&#x3D;&quot;&quot; id&#x3D;&quot;img1&quot;&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>** 案例六.图片预加载–相册</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">详细见 6.图片预加载--相册</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">         &#x2F;&#x2F; 迅雷 -&gt; Image对象，电视剧下一集看，接着下</span><br><span class="line">        window.onload &#x3D; function () &#123;</span><br><span class="line">            var oImg &#x3D; document.getElementById(&quot;img1&quot;);</span><br><span class="line">            var oImage &#x3D; new Image();</span><br><span class="line">            var arr &#x3D; [</span><br><span class="line">                &#39;https:&#x2F;&#x2F;timgsa.baidu.com&#x2F;timg?image&amp;quality&#x3D;80&amp;size&#x3D;b9999_10000&amp;sec&#x3D;1551068219550&amp;di&#x3D;d45399b53492f6608b3a87ab6a60b68c&amp;imgtype&#x3D;0&amp;src&#x3D;http%3A%2F%2Fimg17.3lian.com%2Fd%2Ffile%2F201701%2F17%2F2beef1ed5888e7534051db62c6acc86c.jpg&#39;,</span><br><span class="line">                &#39;https:&#x2F;&#x2F;timgsa.baidu.com&#x2F;timg?image&amp;quality&#x3D;80&amp;size&#x3D;b9999_10000&amp;sec&#x3D;1551068219549&amp;di&#x3D;6c2d207400e3b0cab38a8b660fbaf96a&amp;imgtype&#x3D;0&amp;src&#x3D;http%3A%2F%2Fimg.pconline.com.cn%2Fimages%2Fupload%2Fupc%2Ftx%2Fitbbs%2F1401%2F18%2Fc25%2F30684921_1390057201658.jpg&#39;,</span><br><span class="line">                &#39;https:&#x2F;&#x2F;timgsa.baidu.com&#x2F;timg?image&amp;quality&#x3D;80&amp;size&#x3D;b9999_10000&amp;sec&#x3D;1551068219549&amp;di&#x3D;a5793d606373f8234839b6dc4ea0fae9&amp;imgtype&#x3D;0&amp;src&#x3D;http%3A%2F%2Fpic1.win4000.com%2Fwallpaper%2F2017-12-13%2F5a30960800f9e.jpg&#39;,</span><br><span class="line">                &#39;https:&#x2F;&#x2F;timgsa.baidu.com&#x2F;timg?image&amp;quality&#x3D;80&amp;size&#x3D;b9999_10000&amp;sec&#x3D;1551068259268&amp;di&#x3D;a791a85f6089dd230d500876e298e962&amp;imgtype&#x3D;jpg&amp;src&#x3D;http%3A%2F%2Fimg.mp.sohu.com%2Fupload%2F20170808%2F69fee284cf0541c48c416250db3de32b_th.png&#39;,</span><br><span class="line">                &#39;https:&#x2F;&#x2F;timgsa.baidu.com&#x2F;timg?image&amp;quality&#x3D;80&amp;size&#x3D;b9999_10000&amp;sec&#x3D;1551068219549&amp;di&#x3D;dc0e70c75a06bafc3da9e0815cc68090&amp;imgtype&#x3D;0&amp;src&#x3D;http%3A%2F%2Fpic1.win4000.com%2Fwallpaper%2Ff%2F582d6d9900bed.jpg&#39;,</span><br><span class="line">                &#39;https:&#x2F;&#x2F;timgsa.baidu.com&#x2F;timg?image&amp;quality&#x3D;80&amp;size&#x3D;b9999_10000&amp;sec&#x3D;1551068219548&amp;di&#x3D;75a37efa84171c38d2f4f79e3fccac63&amp;imgtype&#x3D;0&amp;src&#x3D;http%3A%2F%2Fpic1.win4000.com%2Fwallpaper%2F2017-12-19%2F5a38858d0e034.jpg&#39;,</span><br><span class="line">                &#39;https:&#x2F;&#x2F;timgsa.baidu.com&#x2F;timg?image&amp;quality&#x3D;80&amp;size&#x3D;b9999_10000&amp;sec&#x3D;1551068219548&amp;di&#x3D;aef0c221e3d6232dcb29630dba7cdc61&amp;imgtype&#x3D;0&amp;src&#x3D;http%3A%2F%2F00.minipic.eastday.com%2F20170818%2F20170818115202_d41d8cd98f00b204e9800998ecf8427e_9.jpeg&#39;</span><br><span class="line">            ];</span><br><span class="line">            var iCur &#x3D; 0;</span><br><span class="line">            var i &#x3D; 0;</span><br><span class="line">            xunlei();</span><br><span class="line">            oImg.onclick &#x3D; function()&#123;</span><br><span class="line">                i++;</span><br><span class="line">                if ( i &lt; arr.length )&#123;</span><br><span class="line">                    oImg.src &#x3D; arr[i];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            function xunlei()&#123;</span><br><span class="line">                oImage.src &#x3D; arr[iCur];</span><br><span class="line">                oImage.onload &#x3D; function () &#123;</span><br><span class="line">                    iCur ++;</span><br><span class="line">                    if (iCur &lt; arr.length)&#123;</span><br><span class="line">                        xunlei(); &#x2F;&#x2F; 递归</span><br><span class="line">                    &#125;</span><br><span class="line">                    document.title &#x3D; iCur + &#39; &#x2F; &#39; + arr.length;</span><br><span class="line">                    console.log( document.title )</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;img src&#x3D;&quot;https:&#x2F;&#x2F;timgsa.baidu.com&#x2F;timg?image&amp;quality&#x3D;80&amp;size&#x3D;b9999_10000&amp;sec&#x3D;1551068219550&amp;di&#x3D;d45399b53492f6608b3a87ab6a60b68c&amp;imgtype&#x3D;0&amp;src&#x3D;http%3A%2F%2Fimg17.3lian.com%2Fd%2Ffile%2F201701%2F17%2F2beef1ed5888e7534051db62c6acc86c.jpg&quot; alt&#x3D;&quot;&quot; id&#x3D;&quot;img1&quot; style&#x3D;&quot;width:300px;&quot;&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>


<p>** 7.图片按需加载</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">详情见7.图片的按需加载</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        #ul1 &#123; margin: 100px auto 0; padding: 0&#125;</span><br><span class="line">        li &#123; float: left; margin: 0 0 10px 10px; list-style:none; border:1px solid black&#125;</span><br><span class="line">        img &#123; width: 290px; height: 200px; display: block; &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        window.onload &#x3D; function () &#123;</span><br><span class="line">            var oUl &#x3D; document.getElementById(&#39;ul1&#39;);</span><br><span class="line">            var aImg &#x3D; oUl.getElementsByTagName(&#39;img&#39;);</span><br><span class="line">            showImage();</span><br><span class="line">            window.onscroll &#x3D; showImage;</span><br><span class="line">            function showImage() &#123;</span><br><span class="line">                var scrollTop &#x3D; document.documentElement.scrollTop || document.body.scrollTop; &#x2F;&#x2F; 滚动条纵坐标,即滚动过的像素</span><br><span class="line">                for(var i&#x3D;0; i&lt;aImg.length; i++)&#123;</span><br><span class="line">                    if( !aImg[i].isLoad &amp;&amp; getTop(aImg[i]) &lt; scrollTop + document.documentElement.clientHeight   )&#123;</span><br><span class="line">                        &#x2F;&#x2F; document.documentElement.clientHeight  可视区的高</span><br><span class="line">                        &#x2F;&#x2F; alert(&quot;i&quot;+i);</span><br><span class="line">                        aImg[i].src &#x3D; aImg[i].getAttribute(&#39;_src&#39;);</span><br><span class="line">                        aImg[i].src.isLoad &#x3D; true;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            function getTop(obj)&#123;</span><br><span class="line">                var iTop &#x3D; 0;</span><br><span class="line">                while(obj)&#123;</span><br><span class="line">                    &#x2F;&#x2F; console.log(&quot;obj.offsetTop&quot;,obj.offsetTop);</span><br><span class="line">                    &#x2F;&#x2F; obj.offset 是指距离上方或者上层空间的位置，整型</span><br><span class="line">                    iTop +&#x3D; obj.offsetTop;</span><br><span class="line">                    obj &#x3D; obj.offsetParent;</span><br><span class="line">                    &#x2F;&#x2F; console.log(&quot;obj&quot;,obj)</span><br><span class="line">                    &#x2F;&#x2F; offsetParent : 当前对象的上级层对象.</span><br><span class="line">                &#125;</span><br><span class="line">                return iTop;</span><br><span class="line">            &#125; &#x2F;&#x2F; 获取元素相对于顶部的高度距离</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;ul id&#x3D;&quot;ul1&quot;&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;1.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;2.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;3.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;4.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;5.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;6.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;7.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;1.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;2.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;3.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;4.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;5.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;6.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;7.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;1.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;2.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;3.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;4.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;5.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;6.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;7.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;1.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;2.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;3.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;4.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;5.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;6.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;7.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;1.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;2.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;3.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;4.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;5.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;6.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;&lt;img _src&#x3D;&quot;imgs&#x2F;7.jpg&quot; src&#x3D;&quot;imgs&#x2F;white.jpg&quot;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">    &lt;&#x2F;ul&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>








      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2019/02/20/js%E5%8A%A8%E7%94%BB%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%B8%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/02/20/js%E5%8A%A8%E7%94%BB%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%B8%80/" class="post-title-link" itemprop="url">js动画学习分享一</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-02-20 09:26:21" itemprop="dateCreated datePublished" datetime="2019-02-20T09:26:21+08:00">2019-02-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-02-21 10:51:17" itemprop="dateModified" datetime="2019-02-21T10:51:17+08:00">2019-02-21</time>
              </span>

          
            <span id="/2019/02/20/js%E5%8A%A8%E7%94%BB%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%B8%80/" class="post-meta-item leancloud_visitors" data-flag-title="js动画学习分享一" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2019/02/20/js%E5%8A%A8%E7%94%BB%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%B8%80/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/02/20/js%E5%8A%A8%E7%94%BB%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%B8%80/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>** 运动基础</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">一.运动基础,详情见运动基础.html</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;运动基础&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        #div1 &#123;width:100px; height: 100px; background:red; position:absolute; left: 0px; top: 30px;&#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        &#x2F;&#x2F; 在js中，如何让一个页面元素动起来</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 1.清楚定时器，保证运动过程中只有一个定时器在执行</span><br><span class="line">        &#x2F;&#x2F; 2.开始定时器</span><br><span class="line">        &#x2F;&#x2F; 3.开始运动(同时在运动加入判断，以便在需要的时候或者是满足某个要求停止运动)</span><br><span class="line">        window.onload &#x3D; function () &#123;</span><br><span class="line">            var oBtn &#x3D; document.getElementById(&#39;btn&#39;);</span><br><span class="line">            var oDiv &#x3D; document.getElementById(&#39;div1&#39;);</span><br><span class="line">            var iTimer &#x3D; null;</span><br><span class="line">            &#x2F;&#x2F; 点击按钮,让div1横向向右运动</span><br><span class="line">            &#x2F;&#x2F; 定时器就像发动机一样的每三十秒转一下</span><br><span class="line">            oBtn.onclick &#x3D; function () &#123;</span><br><span class="line">                clearInterval(iTimer); &#x2F;&#x2F; 关掉一个发动机，再开</span><br><span class="line">                iTimer &#x3D; setInterval(function()&#123;</span><br><span class="line">                    &#x2F;&#x2F; oDiv.style.left &#x3D; oDiv.offsetLeft + 10 +&#39;px&#39;;</span><br><span class="line">                    if (oDiv.offsetLeft &#x3D;&#x3D;&#x3D; 500)&#123;</span><br><span class="line">                        clearInterval(iTimer);</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        oDiv.style.left &#x3D; oDiv.offsetLeft + 10 + &#39;px&#39;;</span><br><span class="line">                        &#x2F;&#x2F; 匀速运动，运动距离必须整除速度</span><br><span class="line">                        &#x2F;&#x2F; 定时器累加速度加快，每次</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, 30)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;button&quot; value&#x3D;&quot;动起来&quot; id&#x3D;&quot;btn&quot;&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;div1&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>** 简单运动的封装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">详情见简单运动的封装.html</span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;运动基础&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        #div1 &#123;width:100px; height: 100px; background:red; position:absolute; left: 0px; top: 30px;&#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        window.onload &#x3D; function () &#123;</span><br><span class="line">            var oBtn &#x3D; document.getElementById(&#39;btn&#39;);</span><br><span class="line">            var oDiv &#x3D; document.getElementById(&#39;div1&#39;);</span><br><span class="line">            var iTimer &#x3D; null;</span><br><span class="line">            &#x2F;&#x2F; 点击按钮,让div1横向向右运动</span><br><span class="line">            &#x2F;&#x2F; 定时器就像发动机一样的每三十秒转一下</span><br><span class="line">            oBtn.onclick &#x3D; function () &#123;</span><br><span class="line">                function startMove() &#123;</span><br><span class="line">                    clearInterval(iTimer);</span><br><span class="line">                    iTimer &#x3D; setInterval(function()&#123;</span><br><span class="line">                        &#x2F;&#x2F; oDiv.style.left &#x3D; oDiv.offsetLeft + 10 +&#39;px&#39;;</span><br><span class="line">                        if (oDiv.offsetLeft &#x3D;&#x3D;&#x3D; 500)&#123;</span><br><span class="line">                            clearInterval(iTimer);</span><br><span class="line">                        &#125; else &#123;</span><br><span class="line">                            oDiv.style.left &#x3D; oDiv.offsetLeft + 10 + &#39;px&#39;;</span><br><span class="line">                            &#x2F;&#x2F; 匀速运动，运动距离必须整除速度</span><br><span class="line">                            &#x2F;&#x2F; 定时器累加速度加快，每次</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;, 30);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;button&quot; value&#x3D;&quot;动起来&quot; id&#x3D;&quot;btn&quot;&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;div1&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>** 运动的分享到</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">详情见3.运动的分享到 案例</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;运动基础&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        #div1 &#123;width:100px; height: 200px; background:red; position:absolute; left: -100px; top: 100px;&#125;</span><br><span class="line">        #div2 &#123;width:30px; height: 60px; background:black; position:absolute; right: -30px;</span><br><span class="line">            top: 70px; color: white; text-align: center;&#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        window.onload &#x3D; function () &#123;</span><br><span class="line">            var oDiv1 &#x3D; document.getElementById(&#39;div1&#39;);</span><br><span class="line">            var oDiv2 &#x3D; document.getElementById(&#39;div2&#39;);</span><br><span class="line">            var iTimer &#x3D; null;</span><br><span class="line"></span><br><span class="line">            oDiv1.onmouseover &#x3D; function()&#123;</span><br><span class="line">                &#x2F;&#x2F;this.style.left &#x3D; &#39;0px&#39;;</span><br><span class="line">                startMove1();</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            oDiv1.onmouseout &#x3D; function()&#123;</span><br><span class="line">                &#x2F;&#x2F;this.style.left &#x3D; &#39;-100px&#39;;</span><br><span class="line">                startMove2();</span><br><span class="line"></span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            function startMove1() &#123;</span><br><span class="line">                clearInterval(iTimer);</span><br><span class="line">                iTimer &#x3D; setInterval(function()&#123;</span><br><span class="line">                    &#x2F;&#x2F; oDiv.style.left &#x3D; oDiv.offsetLeft + 10 +&#39;px&#39;;</span><br><span class="line">                    if (oDiv1.offsetLeft &#x3D;&#x3D;&#x3D; 0)&#123;</span><br><span class="line">                        clearInterval(iTimer);</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        oDiv1.style.left &#x3D; oDiv1.offsetLeft + 10 + &#39;px&#39;;</span><br><span class="line">                        &#x2F;&#x2F; 匀速运动，运动距离必须整除速度</span><br><span class="line">                        &#x2F;&#x2F; 定时器累加速度加快，每次</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, 30);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            function startMove2() &#123;</span><br><span class="line">                clearInterval(iTimer);</span><br><span class="line">                iTimer &#x3D; setInterval(function()&#123;</span><br><span class="line">                    &#x2F;&#x2F; oDiv.style.left &#x3D; oDiv.offsetLeft + 10 +&#39;px&#39;;</span><br><span class="line">                    if (oDiv1.offsetLeft &#x3D;&#x3D;&#x3D; -100)&#123;</span><br><span class="line">                        clearInterval(iTimer);</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        oDiv1.style.left &#x3D; oDiv1.offsetLeft - 10 + &#39;px&#39;;</span><br><span class="line">                        &#x2F;&#x2F; 匀速运动，运动距离必须整除速度</span><br><span class="line">                        &#x2F;&#x2F; 定时器累加速度加快，每次</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, 30);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;div1&quot;&gt;</span><br><span class="line">        &lt;div id&#x3D;&quot;div2&quot;&gt;分享到&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>**运动的分享到合并</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">详细见4.运动的分享到合并 案例</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;运动基础&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        #div1 &#123;width:100px; height: 200px; background:red; position:absolute; left: -100px; top: 100px;&#125;</span><br><span class="line">        #div2 &#123;width:30px; height: 60px; background:black; position:absolute; right: -30px;</span><br><span class="line">            top: 70px; color: white; text-align: center;&#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        window.onload &#x3D; function () &#123;</span><br><span class="line">            var oDiv1 &#x3D; document.getElementById(&#39;div1&#39;);</span><br><span class="line">            var oDiv2 &#x3D; document.getElementById(&#39;div2&#39;);</span><br><span class="line">            var iTimer &#x3D; null;</span><br><span class="line"></span><br><span class="line">            oDiv1.onmouseover &#x3D; function()&#123;</span><br><span class="line">                startMove(0, 10);</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            oDiv1.onmouseout &#x3D; function()&#123;</span><br><span class="line">                startMove(-100, -10);</span><br><span class="line"></span><br><span class="line">            &#125;;</span><br><span class="line">            function startMove(iTarget, iSpeed) &#123;</span><br><span class="line">                clearInterval(iTimer);</span><br><span class="line">                iTimer &#x3D; setInterval(function()&#123;</span><br><span class="line">                    if (oDiv1.offsetLeft &#x3D;&#x3D;&#x3D; iTarget)&#123;</span><br><span class="line">                        clearInterval(iTimer);</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        oDiv1.style.left &#x3D; oDiv1.offsetLeft + iSpeed + &#39;px&#39;;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, 30);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;div1&quot;&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;div2&quot;&gt;分享到&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>** 淡入淡出效果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">详细见淡入淡出的图片.html</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;运动基础&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        #div1 &#123;width:100px; height: 200px; background:red; position:absolute; left: -100px; top: 100px;&#125;</span><br><span class="line">        #div2 &#123;width:30px; height: 60px; background:black; position:absolute; right: -30px;</span><br><span class="line">            top: 70px; color: white; text-align: center;&#125;</span><br><span class="line">        #img1 &#123; opacity: 0.3;</span><br><span class="line">            filter: alpha(opacity&#x3D;30);</span><br><span class="line">            margin-left: 200px;&#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        window.onload &#x3D; function () &#123;</span><br><span class="line">            var oDiv1 &#x3D; document.getElementById(&#39;div1&#39;);</span><br><span class="line">            var oDiv2 &#x3D; document.getElementById(&#39;div2&#39;);</span><br><span class="line">            var oImg &#x3D; document.getElementById(&#39;img1&#39;);</span><br><span class="line">            var iTimer &#x3D; null;</span><br><span class="line">            oDiv1.onmouseover &#x3D; function()&#123;</span><br><span class="line">                startMove2(this, 0, 10);</span><br><span class="line">            &#125;;</span><br><span class="line">            oImg.onmouseover &#x3D; function()&#123;</span><br><span class="line">                startMove2(this, 100, 10);</span><br><span class="line">            &#125;;</span><br><span class="line">            oImg.onmouseout &#x3D; function()&#123;</span><br><span class="line">                startMove2(this, 30 ,-10);</span><br><span class="line">            &#125;;</span><br><span class="line">            function startMove2(obj, iTarget, iSpeed) &#123;</span><br><span class="line">                clearInterval(iTimer);</span><br><span class="line">                var iCur &#x3D; 0;</span><br><span class="line">                iTimer &#x3D; setInterval(function()&#123;</span><br><span class="line">                    iCur &#x3D; Math.round(css( obj, &#39;opacity&#39; ) * 100;) &#x2F;&#x2F;  30</span><br><span class="line">                    if (iCur &#x3D;&#x3D;&#x3D; iTarget) &#123;</span><br><span class="line">                        clearInterval(iTimer);</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        obj.style.opacity &#x3D; ( iCur + iSpeed ) &#x2F; 100;</span><br><span class="line">                        obj.style.filter &#x3D; &#39;alpha(opacity&#x3D;)&#39; + (iCur + iSpeed) + &#39;)&#39;;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, 30);</span><br><span class="line">            &#125;</span><br><span class="line">            function css(obj, attr)&#123;</span><br><span class="line">                if(obj.currentStyle)&#123;</span><br><span class="line">                    return obj.currentStyle[attr]; &#x2F;&#x2F; ie</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    return getComputedStyle(obj, false)[attr]; &#x2F;&#x2F; 其它</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;div1&quot;&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;div2&quot;&gt;分享到&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;img src&#x3D;&quot;1.jpg&quot; id&#x3D;&quot;img1&quot;&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>** 多物体的运动 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">详情见7.多物体的运动 注意:不能共用一个timer 所以要写成obj</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;运动基础&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        #div1 &#123;width:100px; height: 200px; background:red; position:absolute; left: -100px; top: 100px;&#125;</span><br><span class="line">        #div2 &#123;width:30px; height: 60px; background:black; position:absolute; right: -30px;</span><br><span class="line">            top: 70px; color: white; text-align: center;&#125;</span><br><span class="line">        #img1 &#123; opacity: 0.3;</span><br><span class="line">            filter: alpha(opacity&#x3D;30);</span><br><span class="line">            margin-left: 200px;&#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        window.onload &#x3D; function () &#123;</span><br><span class="line">            var oDiv1 &#x3D; document.getElementById(&#39;div1&#39;);</span><br><span class="line">            var oDiv2 &#x3D; document.getElementById(&#39;div2&#39;);</span><br><span class="line">            var oImg &#x3D; document.getElementById(&#39;img1&#39;);</span><br><span class="line">            oDiv1.onmouseover &#x3D; function()&#123;</span><br><span class="line">                startMove(this, &#39;left&#39;, 0, 10);</span><br><span class="line">            &#125;;</span><br><span class="line">            oDiv1.onmouseout &#x3D; function()&#123;</span><br><span class="line">                startMove(this, &#39;left&#39;, -100, -10);</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            oImg.onmouseover &#x3D; function()&#123;</span><br><span class="line">                startMove(this, &#39;opacity&#39;, 100, 10);</span><br><span class="line">            &#125;;</span><br><span class="line">            oImg.onmouseout &#x3D; function()&#123;</span><br><span class="line">                startMove(this, &#39;opacity&#39; , 30 , -10);</span><br><span class="line">            &#125;;</span><br><span class="line">            function startMove(obj, attr, iTarget, iSpeed)&#123;</span><br><span class="line">                clearInterval(obj.iTimer);</span><br><span class="line">                var iCur &#x3D; 0;</span><br><span class="line">                obj.iTimer &#x3D; setInterval(function()&#123;</span><br><span class="line">                    iCur &#x3D; Math.round(css( obj, &#39;opacity&#39; ) * 100); &#x2F;&#x2F;  30</span><br><span class="line"></span><br><span class="line">                    if (attr &#x3D;&#x3D;&#x3D; &#39;opacity&#39;) &#123;</span><br><span class="line">                        iCur &#x3D; Math.round(css( obj, &#39;opacity&#39; ) * 100 );</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        iCur &#x3D; parseInt(css(obj, attr));</span><br><span class="line">                    &#125;</span><br><span class="line">                    if (iCur &#x3D;&#x3D;&#x3D; iTarget) &#123;</span><br><span class="line">                        clearInterval(obj.iTimer);</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        if ( attr &#x3D;&#x3D;&#x3D; &#39;opacity&#39; )&#123;</span><br><span class="line">                            obj.style.opacity &#x3D; (iCur + iSpeed) &#x2F; 100;</span><br><span class="line">                            obj.style.filter &#x3D; &#39;alpha(opacity&#x3D;)&#39; + (iCur + iSpeed) + &#39;)&#39;;</span><br><span class="line">                        &#125; else &#123;</span><br><span class="line">                            obj.style[attr] &#x3D; iCur + iSpeed + &#39;px&#39;;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, 30);</span><br><span class="line">            &#125;</span><br><span class="line">            function css(obj, attr)&#123;</span><br><span class="line">                if(obj.currentStyle)&#123;</span><br><span class="line">                    return obj.currentStyle[attr]; &#x2F;&#x2F; ie</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    return getComputedStyle(obj, false)[attr]; &#x2F;&#x2F; 其它</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;div1&quot;&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;div2&quot;&gt;分享到&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;img src&#x3D;&quot;1.jpg&quot; id&#x3D;&quot;img1&quot;&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>** 多值同时运动 第一版</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">详情见8.多值同时运动.html</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;运动基础&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        #div1 &#123;width:100px; height: 100px; background:red; position:absolute;  top: 30px; left:400px;&#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        window.onload &#x3D; function () &#123;</span><br><span class="line">            var oDiv1 &#x3D; document.getElementById(&#39;div1&#39;);</span><br><span class="line">            oDiv1.onmouseover &#x3D; function()&#123;</span><br><span class="line">                startMove(this,&#123;</span><br><span class="line">                    width : 200,</span><br><span class="line">                    height : 200</span><br><span class="line">                &#125;,10);</span><br><span class="line">            &#125;;</span><br><span class="line">            oDiv1.onmouseout &#x3D; function()&#123;</span><br><span class="line">                startMove(this, &#39;left&#39;, -100, -10);</span><br><span class="line">            &#125;;</span><br><span class="line">            function startMove(obj, json, iSpeed)&#123;</span><br><span class="line">                clearInterval(obj.iTimer);</span><br><span class="line">                var iCur &#x3D; 0;</span><br><span class="line">                obj.iTimer &#x3D; setInterval(function()&#123;</span><br><span class="line">                    &#x2F;&#x2F; 定时器每走一下，都要把要运动的属性都推进一次</span><br><span class="line">                    for ( var attr in json)&#123;</span><br><span class="line"></span><br><span class="line">                        var iTarget &#x3D; json[attr];</span><br><span class="line"></span><br><span class="line">                        if (attr &#x3D;&#x3D;&#x3D; &#39;opacity&#39;) &#123;</span><br><span class="line">                            iCur &#x3D; Math.round(css( obj, &#39;opacity&#39; ) * 100 );</span><br><span class="line">                        &#125; else &#123;</span><br><span class="line">                            iCur &#x3D; parseInt(css(obj, attr));</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        if (iCur &#x3D;&#x3D;&#x3D; iTarget) &#123;</span><br><span class="line">                            clearInterval(obj.iTimer);</span><br><span class="line">                        &#125; else &#123;</span><br><span class="line">                            if ( attr &#x3D;&#x3D;&#x3D; &#39;opacity&#39; )&#123;</span><br><span class="line">                                obj.style.opacity &#x3D; (iCur + iSpeed) &#x2F; 100;</span><br><span class="line">                                obj.style.filter &#x3D; &#39;alpha(opacity&#x3D;)&#39; + (iCur + iSpeed) + &#39;)&#39;;</span><br><span class="line">                            &#125; else &#123;</span><br><span class="line">                                obj.style[attr] &#x3D; iCur + iSpeed + &#39;px&#39;;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, 30);</span><br><span class="line">            &#125;</span><br><span class="line">            function css(obj, attr)&#123;</span><br><span class="line">                if(obj.currentStyle)&#123;</span><br><span class="line">                    return obj.currentStyle[attr]; &#x2F;&#x2F; ie</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    return getComputedStyle(obj, false)[attr]; &#x2F;&#x2F; 其它</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;div1&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>** 多值同时运动第二版</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;运动基础版本2&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        #div1 &#123;width:100px; height: 100px; background:red; position:absolute;  top: 30px; left:400px;&#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        window.onload &#x3D; function () &#123;</span><br><span class="line">            var oDiv1 &#x3D; document.getElementById(&#39;div1&#39;);</span><br><span class="line">            oDiv1.onmouseover &#x3D; function()&#123;</span><br><span class="line">                startMove(this,&#123;</span><br><span class="line">                    width : 200,</span><br><span class="line">                    height : 300</span><br><span class="line">                &#125;,10);</span><br><span class="line">            &#125;;</span><br><span class="line">            oDiv1.onmouseout &#x3D; function()&#123;</span><br><span class="line">                startMove(this, &#39;left&#39;, -100, -10);</span><br><span class="line">            &#125;;</span><br><span class="line">            function startMove(obj, json, iSpeed)&#123;</span><br><span class="line">                clearInterval(obj.iTimer);</span><br><span class="line">                var iCur &#x3D; 0;</span><br><span class="line">                obj.iTimer &#x3D; setInterval(function()&#123;</span><br><span class="line">                    var iBtn &#x3D; true;</span><br><span class="line">                    for ( var attr in json)&#123;</span><br><span class="line">                        &#x2F;&#x2F; 什么时候停止定时器?所有属性都运动到了目标点时候 停定时器</span><br><span class="line">                        var iTarget &#x3D; json[attr];</span><br><span class="line">                        if (attr &#x3D;&#x3D;&#x3D; &#39;opacity&#39;) &#123;</span><br><span class="line">                            iCur &#x3D; Math.round(css( obj, &#39;opacity&#39; ) * 100 );</span><br><span class="line">                        &#125; else &#123;</span><br><span class="line">                            iCur &#x3D; parseInt(css(obj, attr));</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        if (iCur !&#x3D; iTarget) &#123;</span><br><span class="line">                            var iBtn &#x3D; false;</span><br><span class="line">                            if ( attr &#x3D;&#x3D;&#x3D; &#39;opacity&#39; )&#123;</span><br><span class="line">                                obj.style.opacity &#x3D; (iCur + iSpeed) &#x2F; 100;</span><br><span class="line">                                obj.style.filter &#x3D; &#39;alpha(opacity&#x3D;)&#39; + (iCur + iSpeed) + &#39;)&#39;;</span><br><span class="line">                            &#125; else &#123;</span><br><span class="line">                                obj.style[attr] &#x3D; iCur + iSpeed + &#39;px&#39;;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    &#x2F;&#x2F; 在这里来看下，所有属性是不是都到了目标点</span><br><span class="line">                    if (iBtn)&#123;</span><br><span class="line">                    &#125;;</span><br><span class="line">                &#125;, 30);</span><br><span class="line">            &#125;</span><br><span class="line">            function css(obj, attr)&#123;</span><br><span class="line">                if(obj.currentStyle)&#123;</span><br><span class="line">                    return obj.currentStyle[attr]; &#x2F;&#x2F; ie</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    return getComputedStyle(obj, false)[attr]; &#x2F;&#x2F; 其它</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;div1&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>


<p>** 运动基础版本2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">链式运动</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;运动基础版本2&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        #div1 &#123;width:100px; height: 100px; background:red; position:absolute;  top: 30px; left:400px;&#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        window.onload &#x3D; function () &#123;</span><br><span class="line">            var oDiv1 &#x3D; document.getElementById(&#39;div1&#39;);</span><br><span class="line">            oDiv1.onmouseover &#x3D; function()&#123;</span><br><span class="line">                startMove(this,&#123;</span><br><span class="line">                    width : 200,</span><br><span class="line">                &#125;,10, function()&#123;</span><br><span class="line">                    startMove(this,&#123;</span><br><span class="line">                        height : 200</span><br><span class="line">                    &#125;,10);</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;;</span><br><span class="line">            oDiv1.onmouseout &#x3D; function()&#123;</span><br><span class="line">                startMove(this, &#39;left&#39;, -100, -10);</span><br><span class="line">            &#125;;</span><br><span class="line">            function startMove(obj, json, iSpeed,fn)&#123;</span><br><span class="line">                clearInterval(obj.iTimer);</span><br><span class="line">                var iCur &#x3D; 0;</span><br><span class="line">                obj.iTimer &#x3D; setInterval(function()&#123;</span><br><span class="line">                    var iBtn &#x3D; true;</span><br><span class="line">                    for ( var attr in json)&#123;</span><br><span class="line">                        &#x2F;&#x2F; 什么时候停止定时器?所有属性都运动到了目标点时候 停定时器</span><br><span class="line">                        var iTarget &#x3D; json[attr];</span><br><span class="line">                        if (attr &#x3D;&#x3D;&#x3D; &#39;opacity&#39;) &#123;</span><br><span class="line">                            iCur &#x3D; Math.round(css( obj, &#39;opacity&#39; ) * 100 );</span><br><span class="line">                        &#125; else &#123;</span><br><span class="line">                            iCur &#x3D; parseInt(css(obj, attr));</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        if (iCur !&#x3D; iTarget) &#123;</span><br><span class="line">                            var iBtn &#x3D; false;</span><br><span class="line">                            if ( attr &#x3D;&#x3D;&#x3D; &#39;opacity&#39; )&#123;</span><br><span class="line">                                obj.style.opacity &#x3D; (iCur + iSpeed) &#x2F; 100;</span><br><span class="line">                                obj.style.filter &#x3D; &#39;alpha(opacity&#x3D;)&#39; + (iCur + iSpeed) + &#39;)&#39;;</span><br><span class="line">                            &#125; else &#123;</span><br><span class="line">                                obj.style[attr] &#x3D; iCur + iSpeed + &#39;px&#39;;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    if(iBtn)&#123;</span><br><span class="line">                        clearInterval(obj.iTimer);</span><br><span class="line">                        fn &amp;&amp; fn.call(obj);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                &#125;, 30);</span><br><span class="line">            &#125;</span><br><span class="line">            function css(obj, attr)&#123;</span><br><span class="line">                if(obj.currentStyle)&#123;</span><br><span class="line">                    return obj.currentStyle[attr]; &#x2F;&#x2F; ie</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    return getComputedStyle(obj, false)[attr]; &#x2F;&#x2F; 其它</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;div1&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>** 摩擦运动</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">详细见11.摩擦运动.html 这种方式不好 不好控制目标点</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;运动基础&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        #div1 &#123;width:100px; height: 100px; background:red; position:absolute; left: 0px; top: 30px;&#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        &#x2F;&#x2F; 摩擦，减速 : 在运动过程中,速度越来越慢</span><br><span class="line">        window.onload &#x3D; function () &#123;</span><br><span class="line">            var oBtn &#x3D; document.getElementById(&#39;btn&#39;);</span><br><span class="line">            var oDiv &#x3D; document.getElementById(&#39;div1&#39;);</span><br><span class="line">            var iTimer &#x3D; null;</span><br><span class="line">            var iSpeed &#x3D; 50; &#x2F;&#x2F; 定一个初使数值</span><br><span class="line">            &#x2F;&#x2F; 点击按钮,让div1横向向右运动</span><br><span class="line">            &#x2F;&#x2F; 定时器就像发动机一样的每三十秒转一下</span><br><span class="line">            oBtn.onclick &#x3D; function () &#123;</span><br><span class="line">                clearInterval(iTimer); &#x2F;&#x2F; 关掉一个发动机，再开</span><br><span class="line">                iTimer &#x3D; setInterval(function()&#123;</span><br><span class="line">                    iSpeed *&#x3D; 0.92;</span><br><span class="line">                    &#x2F;&#x2F; oDiv.style.left &#x3D; oDiv.offsetLeft + 10 +&#39;px&#39;;</span><br><span class="line">                    if (oDiv.offsetLeft &#x3D;&#x3D; 500)&#123;</span><br><span class="line">                        clearInterval(iTimer);</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        oDiv.style.left &#x3D; oDiv.offsetLeft + iSpeed + &#39;px&#39;;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, 30)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;button&quot; value&#x3D;&quot;动起来&quot; id&#x3D;&quot;btn&quot;&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;div1&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>** 缓冲运动
与摩擦运动的区别：
1.可以精确的停到指定目标点
2.距离越远速度越大
    - 速度由距离决定
    - 速度=(目标值-当前值)/缩放系数
    - Bug: 速度取整
    - 值取整,注意正负号</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">详细见12.缓冲运动</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;运动基础&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        #div1 &#123;width:100px; height: 100px; background:red; position:absolute; left: 800px; top: 30px;&#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        &#x2F;&#x2F; 摩擦，减速 : 在运动过程中,速度越来越慢</span><br><span class="line">        &#x2F;&#x2F; 越接近目标点，速度就越小</span><br><span class="line">        window.onload &#x3D; function () &#123;</span><br><span class="line">            var oBtn &#x3D; document.getElementById(&#39;btn&#39;);</span><br><span class="line">            var oDiv &#x3D; document.getElementById(&#39;div1&#39;);</span><br><span class="line">            var iTimer &#x3D; null;</span><br><span class="line">            var iSpeed &#x3D; 50; &#x2F;&#x2F; 定一个初使数值</span><br><span class="line">            &#x2F;&#x2F; 点击按钮,让div1横向向右运动</span><br><span class="line">            &#x2F;&#x2F; 定时器就像发动机一样的每三十秒转一下</span><br><span class="line">            oBtn.onclick &#x3D; function () &#123;</span><br><span class="line">                clearInterval(iTimer); &#x2F;&#x2F; 关掉一个发动机，再开</span><br><span class="line">                iTimer &#x3D; setInterval(function()&#123;</span><br><span class="line">                    iSpeed &#x3D; (500 - oDiv.offsetLeft) &#x2F; 8;</span><br><span class="line">                    iSpeed &#x3D; iSpeed &gt; 0 ? Math.ceil(iSpeed) : Math.floor(iSpeed) &#x2F;&#x2F; 向上取整</span><br><span class="line">                    console.log( oDiv.offsetLeft + &#39; : &#39; + iSpeed );</span><br><span class="line"></span><br><span class="line">                    if (oDiv.offsetLeft &#x3D;&#x3D; 500)&#123;</span><br><span class="line">                        clearInterval(iTimer);</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        oDiv.style.left &#x3D; oDiv.offsetLeft + iSpeed + &#39;px&#39;;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, 30)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;button&quot; value&#x3D;&quot;动起来&quot; id&#x3D;&quot;btn&quot;&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;div1&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>** 运动框架加入缓冲
运动效果和速度有关，不一样的速度算法产生不一样的运动动画。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">详细14.运动框架加入缓冲.html</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;运动基础版本2&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        #div1 &#123;width:100px; height: 100px; background:red; position:absolute;  top: 30px; left:400px;&#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        window.onload &#x3D; function () &#123;</span><br><span class="line">            var oDiv1 &#x3D; document.getElementById(&#39;div1&#39;);</span><br><span class="line">            oDiv1.onmouseover &#x3D; function()&#123;</span><br><span class="line">                startMove(this,&#123;</span><br><span class="line">                    width : 200,</span><br><span class="line">                    height: 200</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;;</span><br><span class="line">            oDiv1.onmouseout &#x3D; function()&#123;</span><br><span class="line">                startMove(this, &#39;left&#39;, -100, -10);</span><br><span class="line">            &#125;;</span><br><span class="line">            function startMove(obj, json, fn)&#123;</span><br><span class="line">                clearInterval(obj.iTimer);</span><br><span class="line">                var iCur &#x3D; 0;</span><br><span class="line">                var iSpeed &#x3D; 0;</span><br><span class="line">                obj.iTimer &#x3D; setInterval(function()&#123;</span><br><span class="line">                    var iBtn &#x3D; true;</span><br><span class="line">                    for ( var attr in json)&#123;</span><br><span class="line">                        &#x2F;&#x2F; 什么时候停止定时器?所有属性都运动到了目标点时候 停定时器</span><br><span class="line">                        var iTarget &#x3D; json[attr];</span><br><span class="line">                        if (attr &#x3D;&#x3D;&#x3D; &#39;opacity&#39;) &#123;</span><br><span class="line">                            iCur &#x3D; Math.round(css( obj, &#39;opacity&#39; ) * 100 );</span><br><span class="line">                        &#125; else &#123;</span><br><span class="line">                            iCur &#x3D; parseInt(css(obj, attr));</span><br><span class="line">                        &#125;</span><br><span class="line">                        iSpeed &#x3D; ( iTarget - iCur ) &#x2F; 8;</span><br><span class="line">                        iSpeed &#x3D; iSpeed &gt; 0 ? Math.ceil(iSpeed) : Math.floor(iSpeed);</span><br><span class="line">                        if (iCur !&#x3D; iTarget) &#123;</span><br><span class="line">                            var iBtn &#x3D; false;</span><br><span class="line">                            if ( attr &#x3D;&#x3D;&#x3D; &#39;opacity&#39; )&#123;</span><br><span class="line">                                obj.style.opacity &#x3D; (iCur + iSpeed) &#x2F; 100;</span><br><span class="line">                                obj.style.filter &#x3D; &#39;alpha(opacity&#x3D;)&#39; + (iCur + iSpeed) + &#39;)&#39;;</span><br><span class="line">                            &#125; else &#123;</span><br><span class="line">                                obj.style[attr] &#x3D; iCur + iSpeed + &#39;px&#39;;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    if(iBtn)&#123;</span><br><span class="line">                        clearInterval(obj.iTimer);</span><br><span class="line">                        fn &amp;&amp; fn.call(obj);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, 30);</span><br><span class="line">            &#125;</span><br><span class="line">            function css(obj, attr)&#123;</span><br><span class="line">                if(obj.currentStyle)&#123;</span><br><span class="line">                    return obj.currentStyle[attr]; &#x2F;&#x2F; ie</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    return getComputedStyle(obj, false)[attr]; &#x2F;&#x2F; 其它</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;div1&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>















      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2019/02/19/%E6%95%99%E5%A5%B3%E7%94%9F%E5%AD%A6%E7%BC%96%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/02/19/%E6%95%99%E5%A5%B3%E7%94%9F%E5%AD%A6%E7%BC%96%E7%A8%8B/" class="post-title-link" itemprop="url">教女生学编程一</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2019-02-19 08:10:08 / Modified: 08:34:47" itemprop="dateCreated datePublished" datetime="2019-02-19T08:10:08+08:00">2019-02-19</time>
            </span>

          
            <span id="/2019/02/19/%E6%95%99%E5%A5%B3%E7%94%9F%E5%AD%A6%E7%BC%96%E7%A8%8B/" class="post-meta-item leancloud_visitors" data-flag-title="教女生学编程一" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2019/02/19/%E6%95%99%E5%A5%B3%E7%94%9F%E5%AD%A6%E7%BC%96%E7%A8%8B/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/02/19/%E6%95%99%E5%A5%B3%E7%94%9F%E5%AD%A6%E7%BC%96%E7%A8%8B/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>背景:最近认识了个女孩子，学的艺术类专业，因为自己平时话不多，本着寻找话题，就提出来教她编程。语言学的是python，因为python最简单嘛。之前有过类似经验，是教一个城市管理英国硕士，但是主要是帮助她解决老师布置的编程assignment。
教学工具及环境:teamviewer python3 百度输入法 sublime
到目前为止,上了三节课。
第一节课主要是讲了些计算机历史，图灵之类。目的是为了培养兴趣，也让她对于编程有一个大概是怎么回事的了解，然后安装教学环境，没什么困难。
第二节课的话，讲了一些python的内置函数，以及变量赋值，基本也没什么困难。
昨天晚上上了第三节课，讲到if elif else语句，这里小姑娘明显觉得比较吃力，以及表示觉得很难。
总结下困难点:
** 对于sublime 保存为py文件格式这一点，没有强调，以及之前没有让她进行练习，导致她直接开始在plain text上进行编写代码。
** 对于编程逻辑的理解，我感觉在讲判断语句的时候没有讲的很清楚，或许举例子举的不够贴切，其实对于下次教学应该在给予复习if…else… 和 if…elif…else的区别进行重点理解，还有在练习中加入int确保对象相同之后才能进行运算，这点可以以后作为学习类的铺垫，当然如果能学到类…。以及练习以及根据布置的课后作业题目进行反馈。
** 之前的两次上课上了两小时，而昨天上课才上了一小时二十分钟左右，因为她觉得难想去玩游戏，就一起去玩游戏了。说明课程确实有难度，也没有吊起她的上课兴趣，这也是我应该去反思的，如何把课上的更有意思点，从练习案例？从讲课的例子？这也应该是困扰所有授课者的一个难点。
** 当然，本身她的计算机基础，数学，英语方面的基础确实也比较单薄。不然也不会去学美术啊(-_-!)。因此，今天想尝试通过提前将讲义给她让她进行预习的方案进行解决。
最后，希望我和她都能坚持下去吧…我相信这是一件很有意思也是很有意义的事情。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2019/02/14/vue%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%B8%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/02/14/vue%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%B8%89/" class="post-title-link" itemprop="url">vue学习分享三</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2019-02-14 08:45:29 / Modified: 13:18:59" itemprop="dateCreated datePublished" datetime="2019-02-14T08:45:29+08:00">2019-02-14</time>
            </span>

          
            <span id="/2019/02/14/vue%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%B8%89/" class="post-meta-item leancloud_visitors" data-flag-title="vue学习分享三" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2019/02/14/vue%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%B8%89/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/02/14/vue%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%B8%89/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="复习"><a href="#复习" class="headerlink" title="复习"></a>复习</h4><ul>
<li><p>路由操作的基本步骤</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">引入对象</span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">'vue-router'</span>;</span><br><span class="line">安装插件</span><br><span class="line">Vue.use(VueRouter);   挂载属性的行为</span><br><span class="line">创建路由对象</span><br><span class="line"><span class="keyword">let</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    routes:[</span><br><span class="line">        &#123; <span class="attr">name</span>:<span class="string">'xxx'</span>,<span class="attr">path</span>:<span class="string">'/xxx'</span>,组件  &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br><span class="line">将路由对象放入到options中<span class="keyword">new</span> Vue()</span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    router</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li><p>套路</p>
<ul>
<li>1: 去哪里  <router-link :to="{name:'bj'}"></router-link></li>
<li>2: 导航(配置路由规则) <code>{name:&#39;bj&#39;,path:&#39;/beijing&#39;,组件A}</code></li>
<li>3: 去了干嘛(在组件A内干什么)<ul>
<li>在created事件函数中，获取路由参数</li>
<li>发起请求，把数据挂载上去</li>
</ul>
</li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li>查询字符串（#/beijing?id=1&amp;age=2）<ul>
<li>1: 去哪里  <router-link :to="{name:'bj',query:{id:1,age:2}  }"></router-link></li>
<li>2: 导航(配置路由规则) <code>{name:&#39;bj&#39;,path:&#39;/beijing&#39;,组件A}</code></li>
<li>3: 去了干嘛(在组件A内干什么)<ul>
<li><code>this.$route.query.id||age</code></li>
</ul>
</li>
</ul>
</li>
<li>path(#/beijing/1/2)<ul>
<li>1: 去哪里  <router-link :to="{name:'bj',params:{id:1,age:2}  }"></router-link></li>
<li>2: 导航(配置路由规则) <code>{name:&#39;bj&#39;,path:&#39;/beijing/:id/:age&#39;,组件A}</code></li>
<li>3: 去了干嘛(在组件A内干什么)<ul>
<li><code>this.$route.params.id||age</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>编程导航</p>
<ul>
<li>一个获取信息的只读对象($route)</li>
<li>一个具备功能函数的对象($router)</li>
<li>根据浏览器历史记录前进和后退 <code>this.$router.go(1|-1);</code></li>
<li>跳转到指定路由  <code>this.$router.push({ name:&#39;bj&#39;  });</code></li>
</ul>
</li>
<li><p>嵌套路由</p>
<ul>
<li>让变化的视图(router-view)产生包含关系(router-view)</li>
<li>让路由与router-view关联，并且也产生父子关系</li>
</ul>
</li>
<li><p>多视图</p>
<ul>
<li>让视图更为灵活，以前一个一放，现在可以放多个，通过配置可以去修改</li>
</ul>
</li>
<li><p>axios:</p>
<ul>
<li>开始:<ul>
<li>跨域 + 默认的头是因为你的数据是对象，所以content-type:application/json</li>
<li>有OPTIONS预检请求（浏览器自动发起）</li>
</ul>
</li>
<li>最终:<ul>
<li>当我们调整为字符串数据，引起content-type变为了www键值对</li>
<li>没有那个OPTIONS预检请求</li>
</ul>
</li>
<li>总结： 跨域 + application/json 会引起OPTIONS预检请求，并且自定义一个头(提示服务器，这次的content-type较为特殊)，content-type的值</li>
<li>服务器认为这个是一次请求，而没有允许content-type的头，</li>
<li>浏览器就认为服务器不一定能处理掉这个特殊的头的数据</li>
<li>抛出异常</li>
<li>在node服务器 response.setHeader(“Access-Control-Allow-Headers”,”content-type,多个”);</li>
<li>formdata的样子:  key=value&amp;key=value</li>
</ul>
</li>
<li><p>axios属性关系</p>
<ul>
<li>options: headers、baseURL、params</li>
<li>默认全局设置(大家都是这么用)<ul>
<li>Axios.defaults-&gt; options对象</li>
</ul>
</li>
<li>针对个别请求来附加options</li>
<li>axios.get(url,options)</li>
<li>axios.post(url,data,options)</li>
</ul>
</li>
</ul>
<h4 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h4><ul>
<li>合并请求</li>
<li>axios.all([请求1,请求2])</li>
<li>分发响应  axios.spread(fn)</li>
<li>fn:对应参数(res)和请求的顺序一致</li>
<li>应用场景:<ul>
<li>必须保证两次请求都成功，比如，分头获取省、市的数据</li>
</ul>
</li>
<li>执行特点: 只要有一次失败就算失败，否则成功</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">详情见01_axios_test</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &#123;&#123;data&#125;&#125;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                data: []</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, created() &#123;</span><br><span class="line">            &#x2F;&#x2F; 将两个请求一起发送，只要有一个失败，就算失败，成功只有是全体成功</span><br><span class="line">            function getMsg(res1,res2)&#123;</span><br><span class="line">                console.log(res1);</span><br><span class="line">                console.log(res2);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            this.$axios.all([</span><br><span class="line">                this.$axios.post(&#39;postcomment&#x2F;300&#39;,&#39;content&#x3D;123&#39;),</span><br><span class="line">                this.$axios.get(&#39;getcomments&#x2F;300?pageindex&#x3D;1&#39;)</span><br><span class="line">            ])</span><br><span class="line">            &#x2F;&#x2F; 分发响应</span><br><span class="line">                .then(this.$axios.spread(getMsg))</span><br><span class="line">                .catch(err&#x3D;&gt;&#123;</span><br><span class="line">                    console.log(err);</span><br><span class="line">                &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h4 id="拦截器"><a href="#拦截器" class="headerlink" title="拦截器"></a>拦截器</h4><ul>
<li>过滤，在每一次请求与响应中、添油加醋</li>
<li>axios.interceptors.request.use(fn)  在请求之前</li>
<li>function(config){ config.headers = { xxx }}   config 相当于options对象</li>
<li>默认设置 defaults 范围广、权利小</li>
<li>单个请求的设置options get(url,options)  范围小、权利中</li>
<li>拦截器 范围广、权利大</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">详情见02_axios_interceptors</span><br><span class="line">#app.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &#123;&#123;data&#125;&#125;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                data: []</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, created() &#123;</span><br><span class="line">            &#x2F;&#x2F; 拦截器对每一次请求都有效</span><br><span class="line">            this.$axios.get(&#39;getcomments&#x2F;300?pageindex&#x3D;1&#39;,&#123;</span><br><span class="line">                headers:&#123;</span><br><span class="line">                    accept:&#39;get&#39;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">                .then(res&#x3D;&gt;&#123;</span><br><span class="line">                    console.log(res);</span><br><span class="line">                &#125;)</span><br><span class="line">                .catch(err&#x3D;&gt;&#123;</span><br><span class="line">                    console.log(err)</span><br><span class="line">                &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line"></span><br><span class="line">--------</span><br><span class="line">#main.js</span><br><span class="line">&#x2F;&#x2F; 引入一堆</span><br><span class="line">import Vue from &#39;vue&#39;;</span><br><span class="line">&#x2F;&#x2F; 主体</span><br><span class="line">import App from &#39;.&#x2F;components&#x2F;app.vue&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 引入</span><br><span class="line">import Axios from &#39;axios&#39;;</span><br><span class="line">&#x2F;&#x2F; 给Vue原型挂在一个属性</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Axios.defaults.baseURL &#x3D; &#39;http:&#x2F;&#x2F;182.254.146.100:8899&#x2F;api&#x2F;&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;默认设置</span><br><span class="line">Axios.defaults.headers &#x3D; &#123;</span><br><span class="line">    accept:&#39;defaults&#39;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 拦截器</span><br><span class="line">Axios.interceptors.request.use(function (config) &#123;</span><br><span class="line">    &#x2F;&#x2F; console.log(config);</span><br><span class="line">    &#x2F;&#x2F; return config; &#x2F;&#x2F; 返回没有修改的设置,不return config 就是一个拦截</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 个性化的修改</span><br><span class="line">    &#x2F;&#x2F; config.headers.accept &#x3D; &#39;interceptors&#39;;</span><br><span class="line"></span><br><span class="line">    config.headers &#x3D; &#123;</span><br><span class="line">        accept:&#39;interceptors&#39; &#x2F;&#x2F; 设置头</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    return config;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">Vue.prototype.$axios &#x3D; Axios;</span><br><span class="line">Axios.defaults.base &#x3D; &#39;http:&#x2F;&#x2F;182.254.146.100:8899&#x2F;api&#x2F;&#39;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; new Vue 启动</span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el:&#39;#app&#39;,</span><br><span class="line">    render:c &#x3D;&gt; c(App),</span><br><span class="line">    &#x2F;&#x2F; 让vue知道我们的路由规则</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="token-扩展"><a href="#token-扩展" class="headerlink" title="token(扩展)"></a>token(扩展)</h4><ul>
<li>cookie 和session的机制，cookie自动带一个字符串</li>
<li>cookie只在浏览器</li>
<li>移动端原生应用，也可以使用http协议，1:可以加自定义的头、原生应用没有cookie</li>
<li>对于三端来讲，token可以作为类似cookie的使用，并且可以通用</li>
<li>拦截器可以用在添加token上</li>
</ul>
<h3 id="拦截器操作loadding"><a href="#拦截器操作loadding" class="headerlink" title="拦截器操作loadding"></a>拦截器操作loadding</h3><ul>
<li>在请求发起前open，在响应回来后close</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">详细见案例03_axios_loadding</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;button @click&#x3D;&quot;send&quot;&gt;发请求1&lt;&#x2F;button&gt;</span><br><span class="line">        &lt;button @click&#x3D;&quot;send2&quot;&gt;发请求2&lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                data: []</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, created() &#123;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">            send()&#123;</span><br><span class="line">                &#x2F;&#x2F; 拦截器对每一次请求都有效</span><br><span class="line">                this.$axios.get(&#39;getcomments&#x2F;300?pageindex&#x3D;1&#39;,&#123;</span><br><span class="line">                    headers:&#123;</span><br><span class="line">                        accept:&#39;get&#39;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">                    .then(res&#x3D;&gt;&#123;</span><br><span class="line">                        console.log(res);</span><br><span class="line">                    &#125;)</span><br><span class="line">                    .catch(err&#x3D;&gt;&#123;</span><br><span class="line">                        console.log(err)</span><br><span class="line">                    &#125;)</span><br><span class="line">            &#125;,</span><br><span class="line">            send2()&#123;</span><br><span class="line">                &#x2F;&#x2F; 拦截器对每一次请求都有效</span><br><span class="line">                this.$axios.get(&#39;getlunbo&#39;,&#123;</span><br><span class="line">                    headers:&#123;</span><br><span class="line">                        accept:&#39;get&#39;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">                    .then(res&#x3D;&gt;&#123;</span><br><span class="line">                        console.log(res);</span><br><span class="line">                    &#125;)</span><br><span class="line">                    .catch(err&#x3D;&gt;&#123;</span><br><span class="line">                        console.log(err)</span><br><span class="line">                    &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h4 id="监视"><a href="#监视" class="headerlink" title="监视"></a>监视</h4><ul>
<li>watch 可以对（单个）变量进行监视，也可以深度监视</li>
<li>如果需求是对于10个变量进行监视？</li>
<li>计算属性computed 可以监视多个值，并且指定返回数据，并且可以显示在页面</li>
<li>都是options中的根属性<ul>
<li>watch监视单个</li>
<li>computed可以监视多个this相关属性值的改变,如果和原值一样</li>
<li>不会触发函数的调用，并且可以返回对象</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">watch案例，详细见04_watch</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;!--&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;&quot; v-model&#x3D;&quot;text&quot;&gt;--&gt;</span><br><span class="line">        &lt;!--&#123;&#123;text&#125;&#125;--&gt;</span><br><span class="line">        &lt;button @click&#x3D;&quot;changeValue&quot;&gt;改变值&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                text:&#39;&#39;,</span><br><span class="line">                persons:[&#123;</span><br><span class="line">                    name:&#39;jack&#39;</span><br><span class="line">                &#125;,&#123;</span><br><span class="line">                    name:&#39;rose&#39;</span><br><span class="line">                &#125;]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, created() &#123;&#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">            changeValue()&#123;</span><br><span class="line">                &#x2F;&#x2F; this.text &#x3D; &#39;abc&#39;;</span><br><span class="line">                this.persons[0].name &#x3D; &#39;mick&#39;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        watch:&#123;</span><br><span class="line">            text:function (newV,oldv) &#123;</span><br><span class="line">                console.log(&#39;值改变了，很开心&#39;)</span><br><span class="line">            &#125;,</span><br><span class="line">            persons:&#123;</span><br><span class="line">                handler:function (newV,oldV) &#123;</span><br><span class="line">                    console.log(&#39;person改变了&#39;)</span><br><span class="line">                &#125;,</span><br><span class="line">                deep:true</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line"></span><br><span class="line">computed案例 详细见05_computed</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        单价:&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;&quot; v-model&#x3D;&quot;price&quot;&gt; *</span><br><span class="line">        件数:&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;&quot; v-model &#x3D; &quot;num&quot;&gt; *</span><br><span class="line">        折扣:&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;&quot; v-model &#x3D; &quot;rate&quot;&gt; &#x3D;</span><br><span class="line">        &#123;&#123;sum.name&#125;&#125; &#123;&#123;sum.price&#125;&#125;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                price:0,num:0,rate:0</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, created() &#123;&#125;,</span><br><span class="line">        methods:&#123;&#125;,</span><br><span class="line">        computed:&#123;</span><br><span class="line">            sum()&#123;</span><br><span class="line">                console.log(&#39;触发了&#39;);</span><br><span class="line">                &#x2F;&#x2F; 如果当函数内涉及到的this.相关属性发生改变后触发，并返回一个值(</span><br><span class="line">                &#x2F;&#x2F; 可以是对象)</span><br><span class="line">                return &#123;</span><br><span class="line">                    name:&#39;古龙水&#39;,</span><br><span class="line">                    price:this.price * this.num * (this.rate&#x2F;100)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2019/02/01/vue%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%BA%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/02/01/vue%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%BA%8C/" class="post-title-link" itemprop="url">vue学习分享二</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-02-01 15:52:37" itemprop="dateCreated datePublished" datetime="2019-02-01T15:52:37+08:00">2019-02-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-02-13 15:45:10" itemprop="dateModified" datetime="2019-02-13T15:45:10+08:00">2019-02-13</time>
              </span>

          
            <span id="/2019/02/01/vue%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%BA%8C/" class="post-meta-item leancloud_visitors" data-flag-title="vue学习分享二" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2019/02/01/vue%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%BA%8C/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/02/01/vue%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%BA%8C/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="复习"><a href="#复习" class="headerlink" title="复习"></a>复习</h4><ul>
<li>vue单文件方式 xxx.vue</li>
<li>1:准备好配置文件 package.json(包描述文件&amp;&amp; 封装命令npm run dev) + webpack.config.js文件（打包的配置文件）</li>
<li>2:创建index.html（单页应用的页）</li>
<li>3:创建main.js(入口文件) </li>
<li>4:引入vue和相关的文件xxx.vue</li>
<li>5:new Vue(options)</li>
<li>6:options（选项）: <ul>
<li>data</li>
<li>methods</li>
<li>components（组件内声明子组件)</li>
<li>props</li>
</ul>
</li>
<li>7:实例:<ul>
<li>在组件内（xxx.vue）中的this</li>
<li>new Vue()</li>
<li>事件<ul>
<li>this.$on(事件名,回调函数(参数))</li>
<li>this.$emit(事件名,数据)</li>
<li>this.$once(事件名,回调函数(参数)) 就触发一次</li>
<li>this.$off(事件名); 取消事件</li>
</ul>
</li>
</ul>
</li>
<li>8:全局<ul>
<li>Vue.component(‘组件名’,组件对象)  在哪里都可以使用</li>
</ul>
</li>
<li>9: 组件传值<ul>
<li>父传子: 属性作为参数<ul>
<li>常量 title=”xxx”   子组件声明接收参数 props:[‘xxx’]</li>
<li>变量 :title=”num”  子组件声明接收参数 props:[‘xxx’]</li>
</ul>
</li>
<li>子传父: vuebus（只能是同一辆车）<ul>
<li>先停车到父组件，On一下</li>
<li>再开车到子组件，如果需要的话，emit一下，触发上述时间的回调函数</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h4><ul>
<li>content | 过滤器,vue中没有提供相关的内置过滤器,可以自定义过滤器</li>
<li>组件内的过滤器 + 全局过滤器<ul>
<li>组件内过滤器就是options中的一个filters的属性（一个对象）<ul>
<li>多个key就是不同过滤器名,多个value就是与key对应的过滤方式函数体</li>
</ul>
</li>
<li><code>Vue.filter(名,fn)</code></li>
</ul>
</li>
<li>输入的内容帮我做一个反转</li>
<li>例子:父已托我帮你办点事</li>
<li>总结<ul>
<li>全局 ：范围大，如果出现同名时，权利小</li>
<li>组件内: 如果出现同名时，权利大，范围小</li>
</ul>
</li>
</ul>
<h4 id="获取DOM元素"><a href="#获取DOM元素" class="headerlink" title="获取DOM元素"></a>获取DOM元素</h4><ul>
<li>救命稻草, 前端框架就是为了减少DOM操作，但是特定情况下，也给你留了后门</li>
<li>在指定的元素上，添加ref=”名称A”</li>
<li>在获取的地方加入 this.$refs.名称A  <ul>
<li>如果ref放在了原生DOM元素上，获取的数据就是原生DOM对象<ul>
<li>可以直接操作</li>
</ul>
</li>
<li>如果ref放在了组件对象上，获取的就是组件对象<ul>
<li>1:获取到DOM对象,通过this.$refs.sub.$el,进行操作</li>
</ul>
</li>
<li>对应的事件<ul>
<li>created 完成了数据的初始化，此时还未生成DOM，无法操作DOM</li>
<li>mounted 将数据已经装载到了DOM之上,可以操作DOM</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;sub-vue ref&#x3D;&quot;sub&quot;&gt;&lt;&#x2F;sub-vue&gt;</span><br><span class="line">        &lt;div ref&#x3D;&quot;myDiv&quot;&gt;&#123;&#123;text&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    import subVue from &quot;.&#x2F;sub.vue&quot;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data()&#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                text:&#39;123&#39;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        components:&#123;</span><br><span class="line">            subVue:subVue</span><br><span class="line">        &#125;,</span><br><span class="line">        &#x2F;&#x2F; 组件创建后, 数据已经完成初始化，但是DOM还未生成</span><br><span class="line">        created()&#123; &#x2F;&#x2F; 事件的处理函数(created)</span><br><span class="line">            console.log(&quot;created:&quot;,this.$refs.myDiv) &#x2F;&#x2F; 获取不到</span><br><span class="line">        &#125;,</span><br><span class="line">        &#x2F;&#x2F; 数据装载DOM上后，各种数据已经就位，将数据渲染到DOM上，DOM已经生成</span><br><span class="line">        mounted()&#123;</span><br><span class="line">            console.log(this);</span><br><span class="line">            console.log(&#39;sub:&#39;,this.$refs.sub.$el);</span><br><span class="line">            &#x2F;&#x2F; 获取组件对象，并获取到其的DOM对象</span><br><span class="line">            this.$refs.sub.$el.innerHTML &#x3D; &#39;嘻嘻&#39;;</span><br><span class="line">            console.log(&#39;mounted:&#39;,this.$refs.myDiv);</span><br><span class="line">            &#x2F;&#x2F; 涉及DOM类的操作</span><br><span class="line">            &#x2F;&#x2F; this.$refs.myDiv.innerHTML &#x3D; &#39;哈哈呵呵&#39;;</span><br><span class="line">            &#x2F;&#x2F; 涉及到数据的操作</span><br><span class="line">            this.text&#x3D;&quot;嘻嘻呵呵&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style&gt;&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
<h4 id="mint-ui"><a href="#mint-ui" class="headerlink" title="mint-ui"></a>mint-ui</h4><ul>
<li>组件库</li>
<li>饿了么出品,element-ui 在PC端使用的</li>
<li>移动端版本 mint-ui</li>
<li><a href="https://mint-ui.github.io/#!/zh-cn" target="_blank" rel="noopener">https://mint-ui.github.io/#!/zh-cn</a></li>
<li>注意:<ul>
<li>如果是全部安装的方式<ul>
<li>1:在template中可以直接使用组件标签</li>
<li>2:在script中必须要声明，也就是引入组件对象（按需加载）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">cnpm i mint-ui -S</span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;mt-header title&#x3D;&quot;多个按钮&quot;&gt;</span><br><span class="line">            &lt;mt-button icon&#x3D;&quot;back&quot;&gt;返回&lt;&#x2F;mt-button&gt;</span><br><span class="line">            &lt;mt-button &gt;关闭&lt;&#x2F;mt-button&gt;</span><br><span class="line">        &lt;mt-button icon&#x3D;&quot;more&quot; slot&#x3D;&quot;right&quot;&gt;&lt;&#x2F;mt-button&gt;</span><br><span class="line">    &lt;&#x2F;mt-header&gt;</span><br><span class="line">    &lt;button @click&#x3D;&quot;handleClose&quot;&gt;显示弹出框&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;mt-switch v-model&#x3D;&quot;value&quot;&gt;&lt;&#x2F;mt-switch&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">&#x2F;&#x2F;在js部分所有变量都是模块作用域</span><br><span class="line">&#x2F;&#x2F;如果需要使用就必须引入</span><br><span class="line">import &#123; Toast &#125; from &#39;mint-ui&#39;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data()&#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                text:&#39;123&#39;,</span><br><span class="line">                value:false</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">            handleClose()&#123;</span><br><span class="line">                Toast(&quot;提示信息&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style&gt;&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>


</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="wappalyzer"><a href="#wappalyzer" class="headerlink" title="wappalyzer"></a>wappalyzer</h4><ul>
<li>获取到当前网站的使用的技术</li>
<li><a href="https://wappalyzer.com/download" target="_blank" rel="noopener">https://wappalyzer.com/download</a></li>
</ul>
<h4 id="vue-router"><a href="#vue-router" class="headerlink" title="vue-router"></a>vue-router</h4><ul>
<li>前端路由 核心就是锚点值的改变，根据不同的值，渲染指定DOM位置的不同数据</li>
<li>ui-router:锚点值改变，如何获取模板？ajax、</li>
<li>vue中，模板数据不是通过ajax请求来，而是调用函数获取到模板内容</li>
<li>核心：锚点值改变</li>
<li>以后看到vue开头，就知道必须Vue.use</li>
<li>vue的核心插件:<ul>
<li>vue-router 路由</li>
<li>vuex 管理全局共享数据</li>
</ul>
</li>
<li>使用方式<ul>
<li>1:下载 <code>cnpm i vue-router -S</code></li>
<li>2:在main.js中引入 <code>import VueRouter from &#39;vue-router&#39;;</code></li>
<li>3:安装插件 <code>Vue.use(VueRouter);</code></li>
<li>4:创建路由对象并配置路由规则<ul>
<li><code>let router = new VueRouter({ routes:[ {path:&#39;/home&#39;,component:Home}  ]   });</code></li>
</ul>
</li>
<li>5:将其路由对象传递给Vue的实例，options中<ul>
<li>options中加入 <code>router:router</code></li>
</ul>
</li>
<li>6:在app.vue中留坑 <code> &lt;router-view&gt;&lt;/router-view&gt;</code></li>
</ul>
</li>
</ul>
<h4 id="命名路由"><a href="#命名路由" class="headerlink" title="命名路由"></a>命名路由</h4><ul>
<li>需求，通过a标签点击，做页面数据的跳转</li>
<li>使用router-link标签<ul>
<li>1:去哪里 <code>&lt;router-link to=&quot;/beijing&quot;&gt;去北京&lt;/router-link&gt;</code></li>
<li>2:去哪里 <code>&lt;router-link :to=&quot;{name:&#39;bj&#39;}&quot;&gt;去北京&lt;/router-link&gt;</code><ul>
<li>更利于维护，如果修改了path，只修改路由配置中的path，该a标签会根据修改后的值生成href属性</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="参数router-link"><a href="#参数router-link" class="headerlink" title="参数router-link"></a>参数router-link</h4><ul>
<li>在vue-router中，有两大对象被挂载到了实例this</li>
<li>$route(只读、具备信息的对象)、$router(具备功能函数)</li>
<li>查询字符串<ul>
<li>1:去哪里 <code>&lt;router-link :to=&quot;{name:&#39;detail&#39;,query:{id:1}  } &quot;&gt;xxx&lt;/router-link&gt;</code></li>
<li>2:导航(查询字符串path不用改) <code>{ name:&#39;detail&#39; , path:&#39;/detail&#39;,组件}</code></li>
<li>3:去了干嘛,获取路由参数(要注意是query还是params和对应id名)<ul>
<li><code>this.$route.query.id</code></li>
</ul>
</li>
</ul>
</li>
<li>path方式<ul>
<li>1:去哪里 <code>&lt;router-link :to=&quot;{name:&#39;detail&#39;,params:{name:1}  } &quot;&gt;xxx&lt;/router-link&gt;</code></li>
<li>2:导航(path方式需要在路由规则上加上/:xxx) </li>
<li><code>{ name:&#39;detail&#39; , path:&#39;/detail/:name&#39;,组件}</code></li>
<li>3:去了干嘛,获取路由参数(要注意是query还是params和对应name名)<ul>
<li><code>this.$route.params.name</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">    main.js</span><br><span class="line">    &#x2F;&#x2F; 引入一堆</span><br><span class="line">    import Vue from &#39;vue&#39;;</span><br><span class="line">    import VueRouter from &#39;vue-router&#39;;</span><br><span class="line">    &#x2F;&#x2F; 主体</span><br><span class="line">    import App from &#39;.&#x2F;components&#x2F;app.vue&#39;;</span><br><span class="line">    &#x2F;&#x2F; 路由切换页面</span><br><span class="line">    import List from &#39;.&#x2F;components&#x2F;list.vue&#39;</span><br><span class="line">    import Detail from &#39;.&#x2F;components&#x2F;detail.vue&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 安装插件</span><br><span class="line">    Vue.use(VueRouter); &#x2F;&#x2F; 挂载属性</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 创建路由对象并配置路由规则</span><br><span class="line">    let router &#x3D; new VueRouter(&#123;</span><br><span class="line">        &#x2F;&#x2F; routers</span><br><span class="line">        routes:[</span><br><span class="line">            &#x2F;&#x2F; 一个个对象</span><br><span class="line">            &#123; name: &#39;list&#39;, path:&#39;&#x2F;list&#39;, component:List &#125;,</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; 查询字符串path不用改</span><br><span class="line">            &#x2F;&#x2F; 以下规则匹配 &#x2F;detail?xxx&#x3D;xx&amp;xxx&#x3D;xxx 多少个查询字符串都不影响</span><br><span class="line">            &#x2F;&#x2F; name:&#39;detail&#39;,query:&#123;id:index&#125;,params:&#123;id:index&#125; -&gt; &#x2F;detail&#x2F;id</span><br><span class="line">            &#123; name:&#39;detail&#39;,path:&#39;&#x2F;detail&#x2F;:id&#39;, component:Detail &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el:&#39;#app&#39;,</span><br><span class="line">        render:c &#x3D;&gt; c(App),</span><br><span class="line">        &#x2F;&#x2F; 让vue知道我们的路由规则</span><br><span class="line">        router, &#x2F;&#x2F; 可以简写router</span><br><span class="line">    &#125;);</span><br><span class="line">list.vue </span><br><span class="line">    &lt;template&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;!--查询字符串列表:--&gt;</span><br><span class="line">            &lt;!--&lt;ul&gt;--&gt;</span><br><span class="line">                &lt;!--&lt;li v-for&#x3D;&quot;(hero,index) in heros&quot; :key&#x3D;&quot;index&quot;&gt;--&gt;</span><br><span class="line">                    &lt;!--&#123;&#123;hero.name&#125;&#125;--&gt;</span><br><span class="line">                    &lt;!--&lt;!&amp;ndash; 1:去哪里 &#x2F;detail?id&#x3D;12 &amp;ndash;&gt;--&gt;</span><br><span class="line">                    &lt;!--&lt;router-link :to&#x3D;&quot;&#123;name:&#39;detail&#39;,query:&#123;id:index&#125;&#125;&quot;&gt;查看&lt;&#x2F;router-link&gt;--&gt;</span><br><span class="line">                &lt;!--&lt;&#x2F;li&gt;--&gt;</span><br><span class="line">            &lt;!--&lt;&#x2F;ul&gt;--&gt;</span><br><span class="line"></span><br><span class="line">            path列表:</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">                &lt;li v-for&#x3D;&quot;(hero,index) in heros&quot; :key&#x3D;&quot;index&quot;&gt;</span><br><span class="line">                    &#123;&#123;hero.name&#125;&#125;</span><br><span class="line">                    &lt;!-- 1:去哪里 &#x2F;detail&#x2F;12 --&gt;</span><br><span class="line">                    &lt;router-link :to&#x3D;&quot;&#123;name:&#39;detail&#39;,params:&#123;id:index&#125;&#125;&quot;&gt;查看&lt;&#x2F;router-link&gt;</span><br><span class="line">                &lt;&#x2F;li&gt;</span><br><span class="line">            &lt;&#x2F;ul&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;template&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        export default &#123;</span><br><span class="line">            data()&#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    heros:[&#123;</span><br><span class="line">                        name:&#39;李白&#39;</span><br><span class="line">                    &#125;,&#123;</span><br><span class="line">                        name:&#39;王昭君&#39;</span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">    &lt;style&gt;&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h4 id="编程导航"><a href="#编程导航" class="headerlink" title="编程导航"></a>编程导航</h4><ul>
<li>不能保证用户一定会点击某些按钮</li>
<li>并且当前操作，除了路由跳转以外，还有一些别的附加操作</li>
<li>this.$router.go 根据浏览器记录 前进1 后退-1</li>
<li>this.$router.push(直接跳转到某个页面显示)<ul>
<li>push参数: 字符串 /xxx</li>
<li>对象 :  <code>{name:&#39;xxx&#39;,query:{id:1},params:{name:2}  }</code></li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">app.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;h&quot;&gt;头部</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--留坑,非常重要--&gt;</span><br><span class="line">    &lt;router-view class&#x3D;&quot;b&quot;&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line">    &lt;button @click&#x3D;&quot;goMusic&quot;&gt;</span><br><span class="line">        跳转到音乐</span><br><span class="line">    &lt;&#x2F;button&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;f&quot;&gt;底部&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;button @click&#x3D;&quot;goMusic&quot;&gt;跳转到音乐&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;button @click&#x3D;&quot;testParams&quot;&gt;测试编程导航传递参数&lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data()&#123;</span><br><span class="line">            return &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,methods:&#123;</span><br><span class="line">            goMusic()&#123;</span><br><span class="line">                this.$router.push(&#39;&#x2F;music&#39;);</span><br><span class="line">            &#125;,</span><br><span class="line">            testParams()&#123;</span><br><span class="line">                &#x2F;&#x2F; 查询字符串的方式 &#x2F;music?id&#x3D;1&amp;name&#x3D;2</span><br><span class="line">                this.$router.push(&#123;</span><br><span class="line">                    name:&#39;music&#39;,query:&#123; id:1,name:2 &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .h&#123;</span><br><span class="line">        height:100px;</span><br><span class="line">        background-color: yellowgreen;</span><br><span class="line">    &#125;</span><br><span class="line">    .b&#123;</span><br><span class="line">        height:100px;</span><br><span class="line">        background-color: skyblue;</span><br><span class="line">    &#125;</span><br><span class="line">    .f&#123;</span><br><span class="line">        height:100px;</span><br><span class="line">        background-color: hotpink;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>


<h4 id="复习-1"><a href="#复习-1" class="headerlink" title="复习"></a>复习</h4><ul>
<li>过滤器，全局，组件内</li>
<li>获取DOM元素 ，在元素上ref=”xxx”</li>
<li>在代码中通过this.$refs.xxx 获取其元素<ul>
<li>原生DOM标签获取就是原生DOM对象</li>
<li>如果是组件标签，获取的就是组件对象  $el继续再获取DOM元素</li>
</ul>
</li>
<li>声明周期事件(钩子)回调函数<ul>
<li>created: 数据的初始化、DOM没有生成</li>
<li>mounted: 将数据装载到DOM元素上，此时有DOM</li>
</ul>
</li>
<li>路由<ul>
<li><code>window.addEventListener(&#39;hashchange&#39;,fn);</code></li>
<li>根据你放<code>&lt;router-view&gt;&lt;/router-view&gt;&lt;div id=&quot;xxx&quot;&gt;&lt;/div&gt;</code> 作为一个DOM上的标识</li>
<li>最终当锚点值改变触发hashchange的回调函数，我们将指定的模板数据插入到DOM标识上</li>
</ul>
</li>
</ul>
<h4 id="重定向和404"><a href="#重定向和404" class="headerlink" title="重定向和404"></a>重定向和404</h4><ul>
<li>进入后，默认就是/</li>
<li>重定向 <code>{ path:&#39;/&#39; ,redirect:&#39;/home&#39;  }</code></li>
<li>重定向 <code>{ path:&#39;/&#39; ,redirect:{name:&#39;home&#39;}  }</code></li>
<li>404 : 在路由规则的最后的一个规则<ul>
<li>写一个很强大的匹配</li>
<li><code>{ path:&#39;*&#39; , component:notFoundVue}</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">见09_404_redirect</span><br><span class="line">&#x2F;&#x2F; 引入vue</span><br><span class="line">import Vue from &#39;vue&#39;;</span><br><span class="line">import VueRouter from &#39;vue-router&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 引入</span><br><span class="line">import App from &#39;.&#x2F;app.vue&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 引入notFoundVue</span><br><span class="line">import NotFound from &#39;.&#x2F;notFound.vue&#39;;</span><br><span class="line">import Home from &#39;.&#x2F;home.vue&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 引入home</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;安装插件</span><br><span class="line">Vue.use(VueRouter);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 创建路由对象配置路由规则</span><br><span class="line">let router &#x3D; new VueRouter();</span><br><span class="line">router.addRoutes([</span><br><span class="line">    &#x2F;&#x2F; 重定向</span><br><span class="line">    &#x2F;&#x2F; &#123; path: &#39;&#x2F;&#39;, redirect:&#39;&#x2F;home&#39; &#125;,</span><br><span class="line">    &#x2F;&#x2F; &#123; path:&#39;&#x2F;home&#39;,component:Home &#125; &#x2F;&#x2F; 这种方式如果改home也要改两处</span><br><span class="line">    &#123; path: &#39;&#x2F;&#39;, redirect:&#123;name:&#39;home&#39;&#125; &#125;,</span><br><span class="line">    &#123; path:&#39;&#x2F;home&#39;,component:Home &#125;, &#x2F;&#x2F; 这种方式如果改home只要改一处</span><br><span class="line">    &#x2F;&#x2F; 404，最终无法匹配 -&gt; 404</span><br><span class="line">    &#123; path:&#39;*&#39;, component: NotFound&#125;</span><br><span class="line"></span><br><span class="line">]);</span><br><span class="line">&#x2F;&#x2F; 构建vue实例</span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el:&#39;#app&#39;,</span><br><span class="line">    router,</span><br><span class="line">    render:c&#x3D;&gt;c(App)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="多视图"><a href="#多视图" class="headerlink" title="多视图"></a>多视图</h4><ul>
<li>以前可以一次放一个坑对应一个路由和显示一个组件<ul>
<li>一次行为 = 一个坑 + 一个路由 + 一个组件</li>
<li>一次行为 = 多个坑 + 一个路由 + 多个组件</li>
</ul>
</li>
<li>components 多视图 是一个对象 对象内多个key和value<ul>
<li>key对应视图的name属性</li>
<li>value 就是要显示的组件对象</li>
</ul>
</li>
<li>多个视图<code>&lt;router-view&gt;&lt;/router-view&gt;</code> -&gt; name就是default</li>
<li><code>&lt;router-view name=&#39;xxx&#39;&gt;&lt;/router-view&gt;</code> -&gt; name就是xxx</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">详细见10_multi_views</span><br><span class="line">&#x2F;&#x2F; 引入一堆</span><br><span class="line">import Vue from &#39;vue&#39;;</span><br><span class="line">import VueRouter from &#39;vue-router&#39;;</span><br><span class="line">&#x2F;&#x2F; 主体</span><br><span class="line">import App from &#39;.&#x2F;components&#x2F;app.vue&#39;;</span><br><span class="line">&#x2F;&#x2F; 路由切换页面</span><br><span class="line">import header from &#39;.&#x2F;components&#x2F;header.vue&#39;</span><br><span class="line">import footer from &#39;.&#x2F;components&#x2F;footer.vue&#39;</span><br><span class="line">&#x2F;&#x2F; 注册全局头部组件</span><br><span class="line">Vue.component(&#39;headerVue&#39;,header);</span><br><span class="line">&#x2F;&#x2F; 注册全局底部组件</span><br><span class="line">Vue.component(&#39;footerVue&#39;,footer);</span><br><span class="line">&#x2F;&#x2F; 安装插件</span><br><span class="line">Vue.use(VueRouter); &#x2F;&#x2F; 挂载属性</span><br><span class="line">&#x2F;&#x2F; 创建路由对象并配置路由规则</span><br><span class="line">let router &#x3D; new VueRouter(&#123;</span><br><span class="line">    &#x2F;&#x2F; routers</span><br><span class="line">    routes:[</span><br><span class="line">        &#x2F;&#x2F; 一个个对象</span><br><span class="line">        &#123; path:&#39;&#x2F;&#39;,</span><br><span class="line">            components:&#123;</span><br><span class="line">                header:header,</span><br><span class="line">                default:footer,</span><br><span class="line">                footer:footer</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;div&gt;我是头部啊&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;hr &#x2F;&gt;</span><br><span class="line">        &lt;router-view class&#x3D;&quot;b&quot; name&#x3D;&quot;header&quot;&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line">        &lt;router-view class&#x3D;&quot;b&quot; &gt;&lt;&#x2F;router-view&gt;</span><br><span class="line">        &lt;router-view class&#x3D;&quot;b&quot; name&#x3D;&quot;footer&quot;&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line">        &lt;hr &#x2F;&gt;</span><br><span class="line">        &lt;div&gt;我是底部啊&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data()&#123;</span><br><span class="line">            return &#123;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h4 id="嵌套路由"><a href="#嵌套路由" class="headerlink" title="嵌套路由"></a>嵌套路由</h4><ul>
<li>用单页去实现多页应用，复杂的嵌套路由</li>
<li>开发中一般会需要使用</li>
<li>视图包含视图</li>
<li>路由父子级关系路由</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">案例见:<span class="number">11</span>_next_router</span><br><span class="line">期组件内包含着第一层router-view</span><br><span class="line">&#123; <span class="attr">name</span>:<span class="string">'music'</span> ,<span class="attr">path</span>:<span class="string">'/music'</span>, <span class="attr">component</span>:Music ,</span><br><span class="line">children:[   子路由的path /就是绝对路径   不/就是相对父级路径</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'music.oumei'</span> ,<span class="attr">path</span>:<span class="string">'oumei'</span>, <span class="attr">component</span>:Oumei &#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">'music.guochan'</span> ,<span class="attr">path</span>:<span class="string">'guochan'</span>, <span class="attr">component</span>:Guochan &#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="vue-resource-了解"><a href="#vue-resource-了解" class="headerlink" title="vue-resource(了解)"></a>vue-resource(了解)</h4><ul>
<li>可以安装插件，早期vue团队开发的插件</li>
<li>停止维护了，作者推荐使用axios</li>
<li>options预检请求，是当浏览器发现跨域 + application/json的请求，就会自动发起</li>
<li>并且发起的时候携带了一个content-type的头</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">1.npm i vue-resource axios -S 会报错 要用 cnpm i vue-resource axios -S 安装</span><br><span class="line">详细案例见12_vue_resource</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &#123;&#123;data&#125;&#125;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data()&#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                data:[]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,created()&#123;</span><br><span class="line">            &#x2F;&#x2F; console.log(this.$http);</span><br><span class="line">            &#x2F;&#x2F; get 请求</span><br><span class="line">            &#x2F;&#x2F; this.$http.get(&#39;http:&#x2F;&#x2F;182.254.146.100:8899&#x2F;api&#x2F;getlunbo&#39;)</span><br><span class="line">            &#x2F;&#x2F; .then(res&#x3D;&gt;&#123;</span><br><span class="line">            &#x2F;&#x2F;     this.data &#x3D; res.body.message;</span><br><span class="line">            &#x2F;&#x2F; &#125;,err&#x3D;&gt; &#123;</span><br><span class="line">            &#x2F;&#x2F;     console.log(err)</span><br><span class="line">            &#x2F;&#x2F; &#125;)</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F;post 请求</span><br><span class="line">            this.$http.post(&#39;http:&#x2F;&#x2F;182.254.146.100:8899&#x2F;api&#x2F;postcomment&#x2F;300&#39;,&#123;</span><br><span class="line">                content:&#39;传智27期，霸气的一批&#39;</span><br><span class="line">            &#125;,&#123;</span><br><span class="line">                emulateJSON:true</span><br><span class="line">            &#125;)</span><br><span class="line">            .then(res&#x3D;&gt;&#123;</span><br><span class="line">                    this.data &#x3D; res.body.message;</span><br><span class="line">                &#125;,err&#x3D;&gt;&#123;</span><br><span class="line">                    console.log(err);</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>


<h4 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h4><ul>
<li><a href="https://segmentfault.com/a/1190000008470355?utm_source=tuicool&amp;utm_medium=referral" target="_blank" rel="noopener">https://segmentfault.com/a/1190000008470355?utm_source=tuicool&amp;utm_medium=referral</a></li>
<li>post请求的时候，如果数据是字符串 默认头就是键值对，否则是对象就是application/json</li>
<li>this.$axios.get(url,options)</li>
<li>this.$axios.post(url,data,options)</li>
<li>options:{ params:{id:1}//查询字符串, headers:{ ‘content-type’:’xxxxx’ },baseURL:’’  }</li>
<li>全局默认设置 ：Axios.defaults.baseURL = ‘xxxxx’;</li>
<li>针对当前这一次请求的相关设置</li>
</ul>
<h4 id="如何练习"><a href="#如何练习" class="headerlink" title="如何练习"></a>如何练习</h4><ul>
<li>1:路由核心<ul>
<li>路由基本使用</li>
<li>任选一种路由参数的方式(查询字符串)</li>
<li>404(路由匹配规则)</li>
<li>嵌套路由</li>
<li>编程导航</li>
</ul>
</li>
<li>2:http请求<ul>
<li>axios 发起get、post请求 （300）</li>
<li>获取 <a href="http://182.254.146.100:8899/api/getcomments/300?pageindex=1" target="_blank" rel="noopener">http://182.254.146.100:8899/api/getcomments/300?pageindex=1</a></li>
<li>发起 <a href="http://182.254.146.100:8899/api/postcomment/300" target="_blank" rel="noopener">http://182.254.146.100:8899/api/postcomment/300</a></li>
<li>axios挂载属性方式</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2019/01/29/vue%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%B8%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/01/29/vue%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%B8%80/" class="post-title-link" itemprop="url">vue学习分享一</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-01-29 10:48:22" itemprop="dateCreated datePublished" datetime="2019-01-29T10:48:22+08:00">2019-01-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-02-01 15:49:37" itemprop="dateModified" datetime="2019-02-01T15:49:37+08:00">2019-02-01</time>
              </span>

          
            <span id="/2019/01/29/vue%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%B8%80/" class="post-meta-item leancloud_visitors" data-flag-title="vue学习分享一" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2019/01/29/vue%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%B8%80/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/01/29/vue%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%B8%80/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>一.webpack属性配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">const path &#x3D; require(&#39;path&#39;)</span><br><span class="line">module.exports&#x3D; &#123;</span><br><span class="line">    entry: &#123; main是默认入口，也可以是多入口</span><br><span class="line">        main:&#39;.&#x2F;src&#x2F;main.js&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">    出口</span><br><span class="line">    output:&#123;</span><br><span class="line">        filename:&#39;.&#x2F;build.js&#39;, 指定js文件</span><br><span class="line">        path: path.join(__dirname,&#39;..&#39;,&#39;dist&#39;)   最好是绝对路径 </span><br><span class="line">        &#x2F;&#x2F; 代表当前目录的上一级的dist</span><br><span class="line">    &#125;,</span><br><span class="line">    module:&#123;</span><br><span class="line">        一样的功能rules: webpack2.x之后新加的</span><br><span class="line">        loaders:[  require(&#39;.&#x2F;a.css||.&#x2F;a.js&#39;)</span><br><span class="line">            &#123;test: &#x2F;\.css$&#x2F;,</span><br><span class="line">            loader:&#39;style-loader!css-loader&#39;,</span><br><span class="line">            顺序是反过来的2!1</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;test: &#x2F;\.(jpg|svg))$&#x2F;,</span><br><span class="line">            loader:&#39;style-loader?limit&#x3D;4096&amp;name&#x3D;[name].[ext]&#39;,</span><br><span class="line">            顺序是反过来的2!1</span><br><span class="line">            [name].[ext]内置提供的，因为本身是先读这个文件</span><br><span class="line">            options:&#123;</span><br><span class="line">                limit:4096,</span><br><span class="line">                name:&#39;[name].[ext]&#39;</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins:[</span><br><span class="line">        插件的执行顺序是依次执行的</span><br><span class="line">        new htnlWebpackPlugin(&#123;</span><br><span class="line">            template:&#39;.&#x2F;src&#x2F;index.html&#39;</span><br><span class="line">        &#125;)</span><br><span class="line">        将src下的template属性描述的文件根据当前配置的output.path</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="今日重点"><a href="#今日重点" class="headerlink" title="今日重点"></a>今日重点</h4><ul>
<li>运行起来Vue</li>
<li>vue常用指令</li>
<li>组件的使用</li>
</ul>
<h3 id="es6"><a href="#es6" class="headerlink" title="es6"></a>es6</h3><hr>
<h4 id="webpack-ES6的处理"><a href="#webpack-ES6的处理" class="headerlink" title="webpack-ES6的处理"></a>webpack-ES6的处理</h4><ul>
<li>ES6的模块，vue本身默认支持es6的模块导入导出</li>
<li>babel<ul>
<li>babel-loader(内部依赖babel-core)<ul>
<li>关键字(presets es2015)</li>
<li>函数(plugins babel-plugin-transform-runtime)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="ES6中模块"><a href="#ES6中模块" class="headerlink" title="ES6中模块"></a>ES6中模块</h4><p>一.坑的地方，教程里面的webpack版本是<a href="mailto:&#119;&#101;&#98;&#x70;&#x61;&#99;&#107;&#x40;&#x33;&#46;&#52;&#46;&#49;">&#119;&#101;&#98;&#x70;&#x61;&#99;&#107;&#x40;&#x33;&#46;&#52;&#46;&#49;</a>,而最新版本已经到了<a href="mailto:&#x77;&#101;&#x62;&#x70;&#x61;&#x63;&#107;&#x40;&#52;&#46;&#50;&#x37;&#46;&#x31;">&#x77;&#101;&#x62;&#x70;&#x61;&#x63;&#107;&#x40;&#52;&#46;&#50;&#x37;&#46;&#x31;</a>,新版本不想下兼容老版本，各种错误需要谷歌解决，主要是版本问题。因为版本问题，所以决定重新来过。最终参考了文章解决:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;juejin.im&#x2F;post&#x2F;5ad1ef5d518825556534f137#heading-20</span><br></pre></td></tr></table></figure>

<p>二.ES6两种不一样的导出模块的方式</p>
<ul>
<li>默认<ul>
<li>导入<code>import [,..xxx] [,..from] &#39;./xxx.ext&#39;</code></li>
<li>导出 <code>export default obj;</code></li>
</ul>
</li>
<li>声明式<ul>
<li>1导出 <code>export var obj = xxx;</code></li>
<li>2导出 <code>export var obj2 = {};</code></li>
<li>3单独导出 <code> export {stu};</code></li>
<li>导入 <code>import {obj,obj2,stu} from &#39;./xxx.js&#39;;  直接使用obj</code></li>
</ul>
</li>
<li>全体</li>
<li>默认导出和声明式导入在使用上的区别<ul>
<li>要注意，声明式导入的时候，必须{名称} 名称要一致（按需导入)</li>
<li>默认导入，可以随意的使用变量名</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 默认导出</span><br><span class="line">var temp1 &#x3D; &#39;我是默认导出的结果&#39;;</span><br><span class="line">export default temp1;</span><br><span class="line">&#x2F;&#x2F; 导入方式是  import xxx from &#39;.&#x2F;cal.js&#39;，这种名称可以随便写</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;声明式导出</span><br><span class="line">export var obj1 &#x3D; &#39;我是声明式导出1&#39;;</span><br><span class="line">export var obj2 &#x3D; &#39;我是声明式导出2&#39;;</span><br><span class="line">export var obj3 &#x3D; &#39;我是声明式导出3&#39;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 导入方式是</span><br><span class="line">&#x2F;&#x2F; 声明式导入必须写对名字</span><br><span class="line">&#x2F;&#x2F; import &#123;obj1,obj2&#125; from &#39;.&#x2F;cal.js&#39;; </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;另一种方式声明导出</span><br><span class="line">var obj4 &#x3D; &#39;我是声明式导出4&#39;</span><br><span class="line">export &#123;obj4&#125;;</span><br><span class="line">&#x2F;&#x2F; 导入方式是</span><br><span class="line">&#x2F;&#x2F; import &#123;obj1,obj2,obj4&#125; from &#39;.&#x2F;cal.js&#39;;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;默认导入</span><br><span class="line">&#x2F;&#x2F; import defaultObj from &#39;.&#x2F;cal.js&#39;;</span><br><span class="line">&#x2F;&#x2F; console.log(defaultObj);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;声明式导入(按需加载)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; function test()&#123;&#x2F;&#x2F;不能包含在函数内部，只能在最外层作用域import和export</span><br><span class="line">&#x2F;&#x2F;     import &#123;obj1,obj2,obj4&#125; from &#39;.&#x2F;cal.js&#39;</span><br><span class="line">&#x2F;&#x2F;     console.log(obj1,obj2,obj4);</span><br><span class="line">&#x2F;&#x2F; &#125;</span><br><span class="line">&#x2F;&#x2F; test();</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; import &#123;obj1,obj2,obj4&#125; from &#39;.&#x2F;cal.js&#39;</span><br><span class="line">&#x2F;&#x2F; console.log(obj1,obj2,obj4);</span><br><span class="line">&#x2F;&#x2F; </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;全体导入</span><br><span class="line">import * as obj from &#39;.&#x2F;cal.js&#39;;</span><br><span class="line">console.log(obj)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">default:&quot;我是默认导出的结果&quot;    </span><br><span class="line">        import xxx from &#39;.&#x2F;cal.js&#39;会获取到整个对象的default属性</span><br><span class="line">obj1:&quot;我是声明式导出1&quot;</span><br><span class="line">obj2:&quot;我是声明式导出2&quot; </span><br><span class="line">obj3:&quot;我是声明式导出3&quot;     import &#123;obj1,obj2&#125;</span><br><span class="line">obj4:&quot;我是声明式导出4&quot;</span><br><span class="line">&#125;</span><br><span class="line">    import * as allObj from &#39;.&#x2F;cal.js&#39;;  获取的就是一整个对象</span><br></pre></td></tr></table></figure>
<ul>
<li>import 和export一定写在顶级，不要包含在{}内</li>
</ul>
<h4 id="ES6中的代码变化"><a href="#ES6中的代码变化" class="headerlink" title="ES6中的代码变化"></a>ES6中的代码变化</h4><ul>
<li>对象属性的声明 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">var name &#x3D; &#39;abc&#39;;</span><br><span class="line">var person &#x3D; &#123;name&#125;; 简写-&gt; var person &#x3D; &#123;name:name&#125;;</span><br><span class="line"></span><br><span class="line">声明函数 </span><br><span class="line">var cal &#x3D; &#123;</span><br><span class="line">    add:function()&#123;</span><br><span class="line">        return 1;</span><br><span class="line">    &#125;,</span><br><span class="line">    add2()&#123;</span><br><span class="line">        return 2;</span><br><span class="line">    &#125;,</span><br><span class="line">    add3:funtion(n1,n2)&#123;</span><br><span class="line">        return n1 + n2;</span><br><span class="line">    &#125;,</span><br><span class="line">    add4(n1,n2)&#123;  干掉了function</span><br><span class="line">        return n1 + n2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>当属性的key和变量的名相同,而要使用变量的值做value,</li>
<li>就可以简写{name}-&gt;{name:name}</li>
<li>es6中的函数声明<ul>
<li>就是干掉了:function   只需要写成add(){ }</li>
</ul>
</li>
</ul>
<h4 id="vue单文件方式"><a href="#vue单文件方式" class="headerlink" title="vue单文件方式"></a>vue单文件方式</h4><ul>
<li>单文件就是以*.vue结尾的文件。最终通过webpack也会编译成*.js在浏览器运行</li>
<li>内容： <template></template> + <script></script> + <style></style><ul>
<li>1:template中只能有一个根节点 2.x</li>
<li>2:script中  按照 export default {配置} 来写</li>
<li>3:style中 可以设置scoped属性，让其只在template中生效</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">第一步:</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;01_第一个vue程序启动&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!--1:在index.html中写上div id&#x3D;&quot;app&quot; app可以随意--&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;!--以上内容是一个坑，未来vue编译好代码，往里面插入--&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br><span class="line">第二步:</span><br><span class="line">&#x2F;&#x2F;2:引入 Vue</span><br><span class="line">import Vue from &#39;Vue&#39;;</span><br><span class="line"></span><br><span class="line">安装:npm i vue -S ; npm i vue-loader vue-template-compiler -D</span><br><span class="line">&#x2F;&#x2F;3:创建一个Vue的实例,一般一个项目,大多就是一个vue实例来完成显示</span><br><span class="line">new Vue(&#123;</span><br><span class="line">   el: &#39;#app&#39;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">碰到报错:vue-loader was used without the corresponding plugin. Make sure to include VueLoaderPlugin in your webpack config.</span><br><span class="line"></span><br><span class="line">通过 https:&#x2F;&#x2F;blog.csdn.net&#x2F;cominglately&#x2F;article&#x2F;details&#x2F;80555210 解决</span><br></pre></td></tr></table></figure>

<p>npm i 和 npm –production区别
npm i 是全部恢复
npm –production 只有 dependencies</p>
<p>webpack-dev-server 的配置，教程上是老版本新版本的话要重新安装插件，详情参考以下地址解决:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;juejin.im&#x2F;post&#x2F;5ad1ef5d518825556534f137</span><br></pre></td></tr></table></figure>

<p>用package.json文件实现命令的简化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;build&quot;: &quot;npx webpack --config webpack.config.js&quot;,</span><br><span class="line">    &quot;start&quot;: &quot;npx webpack-dev-server --config webpack.config.js --color --progress --hot&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>之后通过:npm run start 来实现快速命令</p>
<h4 id="vue介绍"><a href="#vue介绍" class="headerlink" title="vue介绍"></a>vue介绍</h4><ul>
<li>2014年诞生,2013年react,09年angularjs</li>
<li>作者 尤雨溪</li>
<li>核心概念:     组件化  双向数据流 (基于ES5中的defineProperty来实现的),IE9才支持</li>
<li>angular核心： 模块化 双向数据绑定(脏检测:一个数组（$watch）)<ul>
<li>开发一个登陆的模块，登陆需要显示的头部、底部、中部</li>
<li>组件:组合起来的一个部件（头部、底部、中部）</li>
<li><strong>细分代码</strong><ul>
<li>头部: 页面、样式、动态效果</li>
<li>代码: template style script</li>
</ul>
</li>
</ul>
</li>
<li>框架对比，建议学完vue再看</li>
<li><a href="https://cn.vuejs.org/v2/guide/comparison.html#Reacts" target="_blank" rel="noopener">https://cn.vuejs.org/v2/guide/comparison.html#Reacts</a></li>
</ul>
<h4 id="双向数据流"><a href="#双向数据流" class="headerlink" title="双向数据流"></a>双向数据流</h4><ul>
<li>1向：js内存属性发生改变，影响页面的变化</li>
<li>1向：页面的改变影响js内存属性的改变</li>
</ul>
<h4 id="vue中常用的v-指令演示"><a href="#vue中常用的v-指令演示" class="headerlink" title="vue中常用的v-指令演示"></a>vue中常用的v-指令演示</h4><ul>
<li>常用指令 </li>
<li>v-text 是元素的innerText只能在双标签中使用</li>
<li>v-html 是元素的innerHTML，不能包含<!-- –&gt;</li>
<li>v-if 元素是否移除或者插入</li>
<li>v-show 元素是否显示或隐藏</li>
<li>v-model 双向数据绑定，v-bind是单向数据绑定(内存js改变影响页面)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">1.先在src创建index.html,声明div id&#x3D;app</span><br><span class="line">2.写main.js</span><br><span class="line">    &#x2F;&#x2F; 1:引入vue</span><br><span class="line">    import Vue from &#39;vue&#39;;</span><br><span class="line">    &#x2F;&#x2F; 2:引入app.vue 用他的内容来替换div id &#x3D; app</span><br><span class="line">    import App from &#39;.&#x2F;app.vue&#39;</span><br><span class="line">    &#x2F;&#x2F; 3:构建vue实例</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        &#x2F;&#x2F; 渲染内容的目的地</span><br><span class="line">        el:&#39;#app&#39;,</span><br><span class="line">        &#x2F;&#x2F; 渲染内容</span><br><span class="line">        render:function(c)&#123; &#x2F;&#x2F; c只是一个形参,叫什么都可以</span><br><span class="line">            return c(App);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    &#x2F;&#x2F; 一般来说,key是固定的,值是你设定(可变的)</span><br><span class="line">3.写app.vue</span><br><span class="line">    &lt;template&gt;</span><br><span class="line">        &lt;!--只能有一个根结点--&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;!--pre原样输出--&gt;</span><br><span class="line">            &lt;pre&gt;</span><br><span class="line">                * v-text 是元素的innerText只能在双标签中使用</span><br><span class="line">                * v-html 是元素的innerHTML,不能包含&lt;!--&#123;&#123;xxx&#125;&#125;--&gt;</span><br><span class="line">                * v-if 元素是否移除或者插入</span><br><span class="line">                * v-show 元素是否显示或隐藏</span><br><span class="line">                * v-model 双向数据绑定,v-bind是单向数据绑定(内存js改变影响页面)</span><br><span class="line">            &lt;&#x2F;pre&gt;</span><br><span class="line">            v-text :</span><br><span class="line">            &lt;!--一般而言v-xxx可以写变量--&gt;</span><br><span class="line">            &lt;span v-text&#x3D;&quot;text&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;&quot; v-text&#x3D;&quot;text&quot;&gt;</span><br><span class="line">            &lt;hr&#x2F;&gt;</span><br><span class="line">            v-html :</span><br><span class="line">            &lt;span v-html&#x3D;&quot;html&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;hr&#x2F;&gt;</span><br><span class="line">            v-if:</span><br><span class="line">            &lt;div v-if&#x3D;&quot;isShow&quot; style&#x3D;&quot;height:100px;background-color:red&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">            v-show:</span><br><span class="line">            &lt;div v-show&#x3D;&quot;isShow&quot; style&#x3D;&quot;height:100px;background-color:green&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">            v-model:</span><br><span class="line">            &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;&quot; v-model&#x3D;&quot;mTest&quot;&gt;</span><br><span class="line">            &#123;&#123;mTest&#125;&#125;</span><br><span class="line">            &lt;br&#x2F;&gt;&lt;!--给下面的input的value复制用v-bind:value&#x3D;&quot;mTest&quot;--&gt;</span><br><span class="line">            &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;&quot; v-bind:value&#x3D;&quot;mTest&quot;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;template&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        export default &#123;</span><br><span class="line">            data()&#123;</span><br><span class="line">                return&#123;</span><br><span class="line">                    text:&#39;我是v-text玩的东西&#39;,</span><br><span class="line">                    html:&#96;</span><br><span class="line">                        &lt;ul&gt;</span><br><span class="line">                            &lt;li&gt;哈哈&lt;&#x2F;li&gt;</span><br><span class="line">                            &lt;li&gt;呵呵&lt;&#x2F;li&gt;</span><br><span class="line">                        &lt;&#x2F;ul&gt;</span><br><span class="line">                        &#96;,</span><br><span class="line">                    isShow:false,</span><br><span class="line">                    mTest:&#39;haha&#39;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h4 id="class结合v-bind使用"><a href="#class结合v-bind使用" class="headerlink" title="class结合v-bind使用"></a>class结合v-bind使用</h4><ul>
<li>需要根据可变的表达式的结果来给class赋值，就需要用到v-bind:class=”xxx”</li>
<li>v-bind:属性名=”表达式”，最终表达式运算结束的结果赋值给该属性名<ul>
<li>简化的写法是: <code>:属性名=&quot;表达式&quot;</code></li>
</ul>
</li>
<li>class:结果的分类<ul>
<li>一个样式: 返回字符串(三元表达式和key和样式的清单对象)</li>
<li>多个样式：返回对象(样式做key，true或false做值)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">vue css You may need an appropriate loader to handle this file type.报错</span><br><span class="line">解决方法参考:https:&#x2F;&#x2F;github.com&#x2F;webpack&#x2F;webpack&#x2F;issues&#x2F;1470</span><br><span class="line">https:&#x2F;&#x2F;www.jianshu.com&#x2F;p&#x2F;5ba253651c3b</span><br><span class="line">加完要重启下服务器</span><br><span class="line">#案例#</span><br><span class="line">    &lt;template&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;div v-bind:class&#x3D;&quot;isRed?&#39;red&#39;:&#39;green&#39;&quot;&gt;1111111111&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div :class&#x3D;&quot;&#123;&#39;red&#39;:true,&#39;big&#39;:true&#125;&quot;&gt;多个class&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;!--复杂情况，通过遍历，根据当前对象的成绩,匹配key和样式的清单对象，用成绩做key,取对象的value,最终返回字符串做样式名--&gt;</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">                &lt;li v-for&#x3D;&quot;stu in stus&quot; :class&#x3D;&quot;&#123;&#39;A&#39;:&#39;red&#39;,&#39;B&#39;:&#39;green&#39;&#125;[stu.score]&quot;&gt;</span><br><span class="line">                    &#123;&#123;stu.name&#125;&#125;</span><br><span class="line">                &lt;&#x2F;li&gt;</span><br><span class="line">            &lt;&#x2F;ul&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;template&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">    &#x2F;&#x2F; class 取一个 返回一个字符串</span><br><span class="line">    &#x2F;&#x2F; 取多个 返回一个对象</span><br><span class="line">    &#x2F;&#x2F; 一个学生列表 每个人都有成绩 AB,根据当前学生的成绩匹配显示不同的颜色</span><br><span class="line">    &#x2F;&#x2F; A-red B-green</span><br><span class="line">        export default &#123;</span><br><span class="line">            data()&#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    isRed:false,</span><br><span class="line">                    stus:[&#123;name:&#39;jack&#39;,score:&#39;A&#39;&#125;,&#123;name:&#39;rose&#39;,score:&#39;B&#39;&#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .red&#123;</span><br><span class="line">            background-color: red;</span><br><span class="line">        &#125;</span><br><span class="line">        .green&#123;</span><br><span class="line">            background-color: green;</span><br><span class="line">        &#125;</span><br><span class="line">        .big&#123;</span><br><span class="line">            font-size: 30px;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="methods和v-on的使用"><a href="#methods和v-on的使用" class="headerlink" title="methods和v-on的使用"></a>methods和v-on的使用</h4><ul>
<li>绑定事件的方法<ul>
<li><code>v-on:事件名=&quot;表达式||函数名&quot;</code></li>
<li>简写: <code>@事件名=&quot;表达式||函数名&quot;</code></li>
</ul>
</li>
<li>函数名如果没有参数，可以省略()  只给一个函数名称</li>
<li>声明组件内函数，在export default这个对象的根属性加上methods属性，其是一个对象<ul>
<li>key 是函数名 值是函数体</li>
</ul>
</li>
<li>在export default这个对象的根属性加上data属性，其是一个函数，返回一个对象<ul>
<li>对象的属性是我们初始化的变量的名称</li>
</ul>
</li>
<li>凡是在template中使用变量或者函数，不需要加this</li>
<li>在script中使用就需要加上this</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;div v-bind:class&#x3D;&quot;isRed?&#39;red&#39;:&#39;green&#39;&quot;&gt;1111111111&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div :class&#x3D;&quot;&#123;&#39;red&#39;:true,&#39;big&#39;:true&#125;&quot;&gt;多个class&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;!--复杂情况，通过遍历，根据当前对象的成绩,匹配成绩和样式的清单对象，用成绩做key,取对象的value,最终返回字符串做样式名--&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li v-for&#x3D;&quot;stu in stus&quot; :class&#x3D;&quot;&#123;&#39;A&#39;:&#39;red&#39;,&#39;B&#39;:&#39;green&#39;&#125;[stu.score]&quot;&gt;</span><br><span class="line">                &#123;&#123;stu.name&#125;&#125;</span><br><span class="line">            &lt;&#x2F;li&gt;</span><br><span class="line">        &lt;&#x2F;ul&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!--&lt;button v-on:click&#x3D;&quot;isRed &#x3D; !isRed&quot;&gt;点我大变化&lt;&#x2F;button&gt;--&gt;</span><br><span class="line">        &lt;button @click&#x3D;&quot;change&quot;&gt;点我大变化&lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data()&#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                isRed:false,</span><br><span class="line">                stus:[&#123;name:&#39;jack&#39;,score:&#39;A&#39;&#125;,&#123;name:&#39;rose&#39;,score:&#39;B&#39;&#125;]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#x2F;&#x2F; 声明函数,属于组件对象的</span><br><span class="line">        methods:&#123;</span><br><span class="line">            &#x2F;&#x2F;包含多个函数名做key,函数体做value</span><br><span class="line">            change()&#123;</span><br><span class="line">                &#x2F;&#x2F; 在script中能使用的对象，基本template中也能使用,但是</span><br><span class="line">                &#x2F;&#x2F; 在script中加this,template中不需要this</span><br><span class="line">                this.isRed &#x3D; !this.isRed;</span><br><span class="line">                this.stus.push(&#123;</span><br><span class="line">                    name:&#39;mick&#39;,score:&#39;A&#39;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    .red&#123;</span><br><span class="line">        background-color: red;</span><br><span class="line">    &#125;</span><br><span class="line">    .green&#123;</span><br><span class="line">        background-color: green;</span><br><span class="line">    &#125;</span><br><span class="line">    .big&#123;</span><br><span class="line">        font-size: 30px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>


<h4 id="v-for的使用"><a href="#v-for的使用" class="headerlink" title="v-for的使用"></a>v-for的使用</h4><ul>
<li><p>可以使用操作数组 (item,index)</p>
</li>
<li><p>可以使用操作对象 (value,key,index)</p>
</li>
<li><p>key 是类似trank by 的一个属性</p>
</li>
<li><p>为的是告诉vue，js中的元素，与页面之间的关联，当识图删除元素的时候，是单个元素的删除而不是正版替换，所以需要关联其关系，设置(必须,性能)  </p>
</li>
<li><p>2.2.0+ 的版本里，当在组件中使用 v-for 时，key 现在是必须的。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li v-for&#x3D;&quot;(stu,index) in stus&quot; v-bind:key&#x3D;index&gt;</span><br><span class="line">            index:&#123;&#123;index&#125;&#125;,stu:&#123;&#123;stu&#125;&#125;</span><br><span class="line">            &lt;&#x2F;li&gt;</span><br><span class="line"></span><br><span class="line">        使用对象的方式 &lt;hr&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">            &lt;li v-for&#x3D;&quot;(value,key,i) in person&quot; v-bind:key&#x3D;&quot;i+&#39;-label&#39;&quot;&gt; </span><br><span class="line">                value:&#123;&#123;value&#125;&#125;</span><br><span class="line">                key:&#123;&#123;key&#125;&#125;</span><br><span class="line">                i:&#123;&#123;i&#125;&#125;</span><br><span class="line">            &lt;&#x2F;li&gt;</span><br><span class="line">        &lt;&#x2F;ul&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data()&#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                stus:[&#123;name:&#39;jack&#39;,score:&#39;A&#39;&#125;,&#123;name:&#39;rose&#39;,score:&#39;B&#39;&#125;],</span><br><span class="line">                person:&#123;name:&#39;mick&#39;,alise:&#39;麦克&#39;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    .red&#123;</span><br><span class="line">        background-color: red;</span><br><span class="line">    &#125;</span><br><span class="line">    .green&#123;</span><br><span class="line">        background-color: green;</span><br><span class="line">    &#125;</span><br><span class="line">    .big&#123;</span><br><span class="line">        font-size: 30px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">[Vue warn]: Duplicate keys detected: &#39;0&#39;. This may cause an update error. -b 警告解决方案:https:&#x2F;&#x2F;www.jianshu.com&#x2F;p&#x2F;4bc3c6688e09</span><br></pre></td></tr></table></figure>
<h4 id="漂亮的列表"><a href="#漂亮的列表" class="headerlink" title="漂亮的列表"></a>漂亮的列表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li v-for&#x3D;&quot;(hero,index) in heros&quot; :key&#x3D;&quot;index&quot;</span><br><span class="line">                :class&#x3D;&quot;&#123;&#39;A&#39;:&#39;red&#39;,&#39;B&#39;:&#39;blue&#39;,&#39;C&#39;:&#39;green&#39;,&#39;D&#39;:&#39;pink&#39;&#125;[hero.score]</span><br><span class="line">&quot;&gt;</span><br><span class="line">                &#123;&#123;hero.name&#125;&#125;,&#123;&#123;hero.score&#125;&#125;</span><br><span class="line">                &lt;button @click&#x3D;&quot;del(index)&quot;&gt;删除英雄&lt;&#x2F;button&gt;</span><br><span class="line">            &lt;&#x2F;li&gt;</span><br><span class="line">        &lt;&#x2F;ul&gt;</span><br><span class="line"></span><br><span class="line">        英雄姓名:&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;&quot; v-model&#x3D;&quot;name&quot;&gt;&lt;br&#x2F;&gt;</span><br><span class="line">        英雄成绩:&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;&quot; v-model&#x3D;&quot;score&quot;&gt;</span><br><span class="line">        &lt;button @click&#x3D;&quot;addHero&quot;&gt;添加英雄&lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                name:&#39;&#39;,</span><br><span class="line">                score:&#39;&#39;,</span><br><span class="line">                heros: [&#123;</span><br><span class="line">                    id: 1,</span><br><span class="line">                    name: &#39;奥利安娜&#39;,</span><br><span class="line">                    score: &#39;A&#39;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    id: 2,</span><br><span class="line">                    name: &#39;崔斯特&#39;,</span><br><span class="line">                    score: &#39;B&#39;</span><br><span class="line">                &#125;,&#123;</span><br><span class="line">                    id: 3,</span><br><span class="line">                    name: &#39;妲己&#39;,</span><br><span class="line">                    score: &#39;C&#39;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    id: 4,</span><br><span class="line">                    name: &#39;阿拉斯加&#39;,</span><br><span class="line">                    score: &#39;D&#39;</span><br><span class="line">                &#125;]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            addHero()&#123;</span><br><span class="line">                &#x2F;&#x2F; 获取页面输入的值的时候,你用什么?v-model</span><br><span class="line">                this.heros.push(&#123;</span><br><span class="line">                    name:this.name,</span><br><span class="line">                    score:this.score</span><br><span class="line">                &#125;);</span><br><span class="line">                this.name&#x3D;&#39;&#39;;</span><br><span class="line">                this.score&#x3D;&#39;&#39;</span><br><span class="line">            &#125;,</span><br><span class="line">            del(index)&#123;</span><br><span class="line">                this.heros.splice(index,1)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    .red &#123;</span><br><span class="line">        background-color: red;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .green &#123;</span><br><span class="line">        background-color: yellowgreen;</span><br><span class="line">    &#125;</span><br><span class="line">    .blue &#123;</span><br><span class="line">        background-color: skyblue;</span><br><span class="line">    &#125;</span><br><span class="line">    .pink &#123;</span><br><span class="line">        background-color: hotpink;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">splice的使用 查看文档:http:&#x2F;&#x2F;www.w3school.com.cn&#x2F;jsref&#x2F;jsref_splice.asp</span><br></pre></td></tr></table></figure>

<h4 id="父子组件的使用"><a href="#父子组件的使用" class="headerlink" title="父子组件的使用"></a>父子组件的使用</h4><ul>
<li>父和子，使用的是父，被用的是子</li>
<li>父需要声明子组件，引入子组件对象，声明方式如下</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import 子组件对象 from &#39;.&#x2F;xxx.vue&#39;;</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line">        components:&#123;</span><br><span class="line">            组件名:子组件对象</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>案例:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;headerVue&gt;&lt;&#x2F;headerVue&gt;</span><br><span class="line">        &lt;bodyVue&gt;&lt;&#x2F;bodyVue&gt;</span><br><span class="line">        &lt;footerVue&gt;&lt;&#x2F;footerVue&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">&#x2F;&#x2F;引入子组件对象</span><br><span class="line">以下为父组件</span><br><span class="line">import headerVue from &#39;.&#x2F;components&#x2F;header.vue&#39;</span><br><span class="line">import bodyVue from &#39;.&#x2F;components&#x2F;body.vue&#39;</span><br><span class="line">import footerVue from &#39;.&#x2F;components&#x2F;footer.vue&#39;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;&#125;,</span><br><span class="line">        &#x2F;&#x2F;必须声明</span><br><span class="line">        components:&#123;</span><br><span class="line">            &#x2F;&#x2F;组件名(在模板中使用) :组件对象</span><br><span class="line">            headerVue:headerVue,</span><br><span class="line">            bodyVue, &#x2F;&#x2F;简写</span><br><span class="line">            footerVue,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">以下为子组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        我是头</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data()&#123;</span><br><span class="line">            return &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    div&#123;</span><br><span class="line">        height: 100px;</span><br><span class="line">        background-color: yellowgreen;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>全局组件，使用更为方便，不需要声明，直接用</li>
<li>在main.js中引入一次，在main.js中使用 <code>vue.component(&#39;组件名&#39;,组件对象);</code></li>
<li>所有的组件就可以直接通过组件名，使用<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">main.js中组件全局声明</span><br><span class="line">&#x2F;&#x2F; 1:引入vue</span><br><span class="line">import Vue from &#39;vue&#39;;</span><br><span class="line">import App from &#39;.&#x2F;app.vue&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;引入子组件对象</span><br><span class="line">import headerVue from &#39;.&#x2F;components&#x2F;header.vue&#39;</span><br><span class="line">import bodyVue from &#39;.&#x2F;components&#x2F;body.vue&#39;</span><br><span class="line">import footerVue from &#39;.&#x2F;components&#x2F;footer.vue&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;声明全局组件</span><br><span class="line">Vue.component(&#39;headerVue&#39;,headerVue);</span><br><span class="line">Vue.component(&#39;bodyVue&#39;,bodyVue);</span><br><span class="line">Vue.component(&#39;footerVue&#39;,footerVue);</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el:&#39;.app&#39;,</span><br><span class="line">    render:c &#x3D;&gt; c(App)</span><br><span class="line">    &#x2F;&#x2F; 1: 当参数是一个的时候，小括号可以省略</span><br><span class="line">    &#x2F;&#x2F; 2: 当代码只有一行且是返回值的时候，可以省略打括号</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="父传子"><a href="#父传子" class="headerlink" title="父传子"></a>父传子</h4><ul>
<li>父组件通过子组件的属性将值进行传递<ul>
<li>方式有2:<ul>
<li>常量:  prop1=”常量值”</li>
<li>变量:  :prop2=”变量名”</li>
</ul>
</li>
</ul>
</li>
<li>子组件需要声明<ul>
<li>根属性props:[‘prop1’,’prop2’]</li>
<li>在页面中直接使用</li>
<li>在js中应该如何使用prop1？   this.prop1获取<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">父组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;headerVue textone&#x3D;&quot;大&quot;&gt;&lt;&#x2F;headerVue&gt;</span><br><span class="line">        &lt;bodyVue :texttwo&#x3D;&quot;text2&quot;&gt;&lt;&#x2F;bodyVue&gt;</span><br><span class="line">        &lt;footerVue&gt;&lt;&#x2F;footerVue&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">&#x2F;&#x2F;引入子组件对象</span><br><span class="line">import headerVue from &#39;.&#x2F;components&#x2F;header.vue&#39;</span><br><span class="line">import bodyVue from &#39;.&#x2F;components&#x2F;body.vue&#39;</span><br><span class="line">import footerVue from &#39;.&#x2F;components&#x2F;footer.vue&#39;</span><br><span class="line"></span><br><span class="line">    export default &#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                text2:&#39;哈哈呵呵&#39;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;&#125;,</span><br><span class="line">        &#x2F;&#x2F;必须声明</span><br><span class="line">        components:&#123;</span><br><span class="line">            &#x2F;&#x2F;组件名(在模板中使用) :组件对象</span><br><span class="line">            headerVue:headerVue,</span><br><span class="line">            bodyVue, &#x2F;&#x2F;简写</span><br><span class="line">            footerVue,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">子组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        我是&#123;&#123;textone&#125;&#125;头</span><br><span class="line">        &lt;button @click&#x3D;&quot;show&quot;&gt;从js中获取父组件值&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data()&#123;</span><br><span class="line">            return &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#x2F;&#x2F;接受父组件值参数的设置</span><br><span class="line">        props:[&#39;textone&#39;],</span><br><span class="line">        methods:&#123;</span><br><span class="line">            show()&#123;</span><br><span class="line">                alert(this.textone)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    div&#123;</span><br><span class="line">        height: 100px;</span><br><span class="line">        background-color: yellowgreen;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
<h4 id="看文档的对象分类"><a href="#看文档的对象分类" class="headerlink" title="看文档的对象分类"></a>看文档的对象分类</h4></li>
</ul>
</li>
<li>1:全局的代表Vue.的</li>
<li>2:实例的代表this.或者new Vue().</li>
<li>3:选项代表 new Vue() 的参数</li>
<li>或者 export default里边的属性</li>
</ul>
<h4 id="子向父组件通信（vuebus）-扩展"><a href="#子向父组件通信（vuebus）-扩展" class="headerlink" title="子向父组件通信（vuebus）(扩展)"></a>子向父组件通信（vuebus）(扩展)</h4><ul>
<li>通过new Vue()这样的一个对象，来$on(‘事件名’,fn(prop1,pro2))</li>
<li>另一个组件引入同一个vuebus,  来$emit(‘事件名’,prop1,pro2)</li>
</ul>
--></li></ul>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2019/01/21/reactNative%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%BA%94/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/01/21/reactNative%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%BA%94/" class="post-title-link" itemprop="url">reactNative学习分享五</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-01-21 13:58:36" itemprop="dateCreated datePublished" datetime="2019-01-21T13:58:36+08:00">2019-01-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-02-01 15:40:15" itemprop="dateModified" datetime="2019-02-01T15:40:15+08:00">2019-02-01</time>
              </span>

          
            <span id="/2019/01/21/reactNative%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%BA%94/" class="post-meta-item leancloud_visitors" data-flag-title="reactNative学习分享五" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2019/01/21/reactNative%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%BA%94/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/01/21/reactNative%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%BA%94/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>一.Functions are not valid as a React child. This may happen if you return a Component instead of <Component> from render 的错误,写函数的时候不要忘记加()</Component></p>
<p>二.scrollView 当一帧滚动完之后的属性,onMomentumScrollEnd </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;&#x2F; 当一帧滚动结束的时候调用</span><br><span class="line">onScrollAnimationEnd(e)&#123;</span><br><span class="line">    &#x2F;&#x2F; 求出当前的页码</span><br><span class="line">    let currentPage &#x3D; Math.floor(e.nativeEvent.contentOffset.x &#x2F; width);</span><br><span class="line">    &#x2F;&#x2F; 更新状态机</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">       activePage: currentPage</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>会自动将scrollView事件传进去，需要一个e作为接受</p>
<p>三.this.setState is not a function错误
需要再constructor 加上 this.onScrollAnimationEnd = this.onScrollAnimationEnd.bind(this)</p>
<p>四.js开发中能写成局部的就写成局部的</p>
<p>五. 查找url里面是否含有w.h,如果找到了返回任意正数，否则返回负一。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if (url.search(&#39;w.h&#39;))</span><br></pre></td></tr></table></figure>

<p>六. Image的resizeMode 用contain 完全展示出来</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Image source&#x3D;&#123;&#123;uri: this.props.rightIcon&#125;&#125;</span><br><span class="line">   style&#x3D;&#123;&#123;width:64,height:43,resizeMode:&#39;contain&#39;&#125;&#125;</span><br><span class="line">&#x2F;&gt;</span><br></pre></td></tr></table></figure>

<p>七.navigator传递参数问题
首先这个借口已经不在维护，其实用新的接口更好，建议大家迁移到新的react-navigation库,但是由于教程
是老的所以我还是用的这个，传递参数的时候有问题，找了好久发现了传递的参数的位置: 
相关文档可以参考：<a href="http://bbs.reactnative.cn/topic/20/%E6%96%B0%E6%89%8B%E7%90%86%E8%A7%A3navigator%E7%9A%84%E6%95%99%E7%A8%8B" target="_blank" rel="noopener">http://bbs.reactnative.cn/topic/20/%E6%96%B0%E6%89%8B%E7%90%86%E8%A7%A3navigator%E7%9A%84%E6%95%99%E7%A8%8B</a> 
以及自己的收藏夹内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.props.navigator.state.routeStack[1].passProps.url</span><br></pre></td></tr></table></figure>

<p>八.WebView的使用犯的低级错误，需要把WebView属性写到 /&gt; 内</p>
<p>九.instance.render is not a function error in reactjs 错误，语法问题 改成es6写法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">constructor(props) &#123;</span><br><span class="line">        super(props);</span><br><span class="line">        &#x2F;&#x2F; 初始化数据源</span><br><span class="line">        this.state &#x3D; &#123;</span><br><span class="line">            dataSource: new ListView.DataSource(</span><br><span class="line">                &#123;rowHasChanged: (row1, row2) &#x3D;&gt; row1 !&#x3D;&#x3D; row2&#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2019/01/02/reactNative%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E5%9B%9B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/01/02/reactNative%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E5%9B%9B/" class="post-title-link" itemprop="url">reactNative学习分享四</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-01-02 17:16:36" itemprop="dateCreated datePublished" datetime="2019-01-02T17:16:36+08:00">2019-01-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-01-21 09:40:49" itemprop="dateModified" datetime="2019-01-21T09:40:49+08:00">2019-01-21</time>
              </span>

          
            <span id="/2019/01/02/reactNative%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E5%9B%9B/" class="post-meta-item leancloud_visitors" data-flag-title="reactNative学习分享四" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2019/01/02/reactNative%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E5%9B%9B/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/01/02/reactNative%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E5%9B%9B/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>一 初始化操作
    1. 改app 的图标和载入页面 点Xcode 标题 然后在App Icons and Launch Images中进行修改。特别要注意Source里面填了之后，launch Screen File 不需要填写，否则无法看到载入图片。
    2. 改app的名称，在info.plist里面改，Bundle display name小码电商
    3.把二级目录里面的Main导出，并且把Text的内容改成,以此其它模块修改类名，导出组件名，和Text中内容
    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 输出组件类</span><br><span class="line">module.exports &#x3D; Main;</span><br></pre></td></tr></table></figure>
    4. 在app.js中删除不要的内容，引入Main
    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let Main &#x3D; require(&#39;.&#x2F;Component&#x2F;Main&#x2F;XMGMain&#39;);</span><br><span class="line">export default class App extends Component&lt;Props&gt; &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">      return (</span><br><span class="line">          &lt;Main &#x2F;&gt;</span><br><span class="line">      );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
二 设置主要框架,底部图标选定切换
    1. 在控制台输入命令安装，react-native-tab-navigator 适用于安卓和ios的tabbar。propTypes规定了属性的类型。
    <figure class="highlight plain"><figcaption><span>i react-native-tab-navigator --save```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2. 引入底部图片的时候注意:这里有个坑，因为需要安卓和ios同时能够找到图片，需要把图片位置放到外面。</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;renderIcon&#x3D;&#123;() &#x3D;&gt; &lt;Image source&#x3D;&#123;require(&#39;.&#x2F;imgicon_tabbar_merchant_normal.png&#39;)&#125;style&#x3D;&#123;styles.iconstyle&#125;&#x2F;&gt;&#125; &#x2F;&#x2F; 图标</span><br></pre></td></tr></table></figure></p>
<p>三 包装Navigator
    1. 把组件导入到main中</p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let Home &#x3D; require(&#39;..&#x2F;home&#x2F;XMGhome&#39;);</span><br><span class="line">let Shop &#x3D; require(&#39;..&#x2F;shop&#x2F;XMGShop&#39;);</span><br><span class="line">let Mine &#x3D; require(&#39;..&#x2F;mine&#x2F;XMGMine&#39;);</span><br><span class="line">let More &#x3D; require(&#39;..&#x2F;more&#x2F;XMGMore&#39;);</span><br></pre></td></tr></table></figure>

2. 初始化变量设置,用到constructor,类似python init

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">class Main extends Component &#123;</span><br><span class="line">&#x2F;&#x2F; 初始化函数(变量是可以改变的，充当状态机的角色)</span><br><span class="line">constructor()&#123;</span><br><span class="line">    super();</span><br><span class="line">    this.state &#x3D; &#123;</span><br><span class="line">        selectedTab: &#39;home&#39; &#x2F;&#x2F; 默认是第一个</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

3. 在不同的平台 图标的大小显示不同 用到Platform 实现

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import &#123;Platform &#x2F;&#x2F; 判断当前运行的系统</span><br><span class="line">, StyleSheet, Text, View,Image&#125; from &#39;react-native&#39;;</span><br><span class="line">const styles &#x3D; StyleSheet.create(&#123;</span><br><span class="line">iconStyle:&#123;</span><br><span class="line">    width: Platform.OS &#x3D;&#x3D;&#x3D; &#39;30&#39; ? 30 : 25,</span><br><span class="line">    height: Platform.OS &#x3D;&#x3D;&#x3D; &#39;30&#39; ? 30 : 25,</span><br><span class="line">    backgroundColor:&#39;yellow&#39;</span><br><span class="line">&#125;&#125;);</span><br></pre></td></tr></table></figure>

4. navigator的两个核心要素
    navigator : 一个用来管理所有界面对象的栈，人称之 “路由栈”, 学名 “导航”。
    route : 路由栈里的每一个对象，称之为“路由”，用来存储每一个页面组件以及一些需要传递给对应界面的props参数。

5. 用navigator替换之前的&lt;Home /&gt;,这里有个坑,导入Navigator的时候:
第一.由于组件被移除了所以必须先npm
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install react-native-deprecated-custom-components --save</span><br></pre></td></tr></table></figure>
第二.导入的时候，需要加花括号
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123;Navigator&#125; from &#39;react-native-deprecated-custom-components&#39;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;Navigator</span><br><span class="line">initialRoute&#x3D;&#123;&#123;</span><br><span class="line">    name: &#39;首页&#39;, &#x2F;&#x2F; 可选</span><br><span class="line">    component: Home</span><br><span class="line">&#125;&#125;</span><br><span class="line">configureScene&#x3D;&#123;() &#x3D;&gt; &#123;</span><br><span class="line">    return Navigator.SceneConfigs.PushFromRight;</span><br><span class="line">&#125;&#125;</span><br><span class="line">renderScene &#x3D;&#123;(route, navigator) &#x3D;&gt; &#123;</span><br><span class="line">    let Component &#x3D; route.component;</span><br><span class="line">    return &lt;Component &#123;...route.passProps&#125; navigator&#x3D;&#123;navigator&#125;&#x2F;&gt;</span><br><span class="line">&#125;&#125;&#x2F;&gt;</span><br></pre></td></tr></table></figure></code></pre>
<p>四 设置头部样式
    1. 修改ios顶部状态栏的样式，在AppDelegate.m中修改
    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">      NSURL *jsCodeLocation;</span><br><span class="line">        &#x2F;&#x2F; 设置状态栏</span><br><span class="line">      [[UIApplication sharedApplication] setStatusBarStyle:</span><br><span class="line">       UIStatusBarStyleLightContent];</span><br><span class="line">    &#96;&#96;&#96;  </span><br><span class="line">五 设置安卓中的启动图片</span><br><span class="line">    1. 利用Dimensions模块找到设备尺寸，导入图片，设置大小合适的图片</span><br><span class="line"></span><br><span class="line">    &#96;&#96;&#96;let &#123;width, height&#125; &#x3D; Dimensions.get(&#39;window&#39;);</span><br><span class="line">        return (</span><br><span class="line">            &lt;Image source&#x3D;&#123;require(&#39;.&#x2F;img&#x2F;launchimage.png&#39;)&#125; style&#x3D;&#123;styles.launchImageStyle&#125;&#x2F;&gt;</span><br><span class="line">        );</span><br><span class="line">        const styles &#x3D; StyleSheet.create(&#123;</span><br><span class="line">            launchImageStyle:&#123;</span><br><span class="line">                flex:1,</span><br><span class="line">                width:width</span><br><span class="line">            &#125;&#125;);</span><br></pre></td></tr></table></figure></p>
<pre><code>2. 让图片自动跳转到页面
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 复杂的一些操作:定时器\网络请求</span><br><span class="line">componentDidMount()&#123;</span><br><span class="line">    &#x2F;&#x2F; 定时: 隔2s切换到Main</span><br><span class="line">    setTimeout(()&#x3D;&gt;&#123;</span><br><span class="line">        &#x2F;&#x2F; 页面的切换</span><br><span class="line">        this.props.navigator.replace(&#123;</span><br><span class="line">            component: Main, &#x2F;&#x2F; 具体路由的板块</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,2000);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></code></pre>
<p>六 &lt;更多&gt;页面开发
    1. 莫名其妙爆了一个require unknown module “610”的错误，重新写了代码之后好了。</p>
<p>七 &lt;我的&gt;页面开发
    1. 从前面传递参数的时候需要注意
    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;MyCell</span><br><span class="line">    leftIconName&#x3D;&#123;require(&#39;..&#x2F;img&#x2F;draft.png&#39;)&#125;</span><br><span class="line">    leftTitle&#x3D;&#39;小码哥钱包&#39;</span><br><span class="line">    rightTitle&#x3D;&#39;账号余额:¥100&#39;</span><br><span class="line">    &#x2F;&gt;</span><br></pre></td></tr></table></figure>
    后面这么写取到的时候这么写
    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">class MyCell extends Component&lt;Props&gt; &#123;</span><br><span class="line">static defaultProps &#x3D; &#123;</span><br><span class="line">    leftIconName:&#39;&#39;,</span><br><span class="line">    leftTitle:&#39;&#39;,</span><br><span class="line">    rightIconName: &#39;&#39;,</span><br><span class="line">    rightTitle:&#39;&#39;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;Image source&#x3D;&#123;this.props.leftIconName&#125; style&#x3D;&#123;styles.leftImgStyle&#125;&#x2F;&gt;</span><br></pre></td></tr></table></figure>
    2.scrollView背景设置问题
这样写的话背景只有单行.</p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">return (</span><br><span class="line">    &lt;ScrollView</span><br><span class="line">        contentContainerStyle&#x3D;&#123;styles.scrollViewStyle&#125;</span><br><span class="line">    &gt;</span><br><span class="line">        &lt;View style&#x3D;&#123;&#123;marginTop:20&#125;&#125;&gt;</span><br><span class="line">            &lt;MyCell</span><br><span class="line">                leftIconName&#x3D;&#123;require(&#39;..&#x2F;img&#x2F;draft.png&#39;)&#125;</span><br><span class="line">                leftTitle&#x3D;&#39;小码哥钱包&#39;</span><br><span class="line">                rightTitle&#x3D;&#39;账号余额:¥100&#39;</span><br><span class="line">            &#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;View&gt;</span><br><span class="line">    &lt;&#x2F;ScrollView&gt;</span><br><span class="line">);</span><br><span class="line">const styles &#x3D; StyleSheet.create(&#123;</span><br><span class="line">scrollViewStyle:&#123;</span><br><span class="line">    backgroundColor:&#39;#e8e8e8&#39;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></code></pre>
<p>要改成，就整个都会变</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;ScrollView</span><br><span class="line">    style&#x3D;&#123;styles.scrollViewStyle&#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>

<pre><code>3. json 数据里面如果包含require 图片 ，要放到内部，不能抽到外面否则会报错。</code></pre>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let MiddleData &#x3D; [</span><br><span class="line">    &#123;iconName:require(&#39;..&#x2F;img&#x2F;order1.png&#39;),title:&quot;待付款&quot;&#125;,</span><br><span class="line">    &#123;iconName:require(&#39;..&#x2F;img&#x2F;order2.png&#39;),title:&quot;待使用&quot;&#125;,</span><br><span class="line">    &#123;iconName:require(&#39;..&#x2F;img&#x2F;order3.png&#39;),title:&quot;待评价&quot;&#125;,</span><br><span class="line">    &#123;iconName:require(&#39;..&#x2F;img&#x2F;order4.png&#39;),title:&quot;退款&#x2F;售后&quot;&#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure>






      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2018/12/24/%E5%AE%9E%E9%AA%8C%E5%AE%A4%E7%9B%AE%E5%BD%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/12/24/%E5%AE%9E%E9%AA%8C%E5%AE%A4%E7%9B%AE%E5%BD%95/" class="post-title-link" itemprop="url">实验室目录</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2018-12-24 16:40:56 / Modified: 16:56:34" itemprop="dateCreated datePublished" datetime="2018-12-24T16:40:56+08:00">2018-12-24</time>
            </span>

          
            <span id="/2018/12/24/%E5%AE%9E%E9%AA%8C%E5%AE%A4%E7%9B%AE%E5%BD%95/" class="post-meta-item leancloud_visitors" data-flag-title="实验室目录" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2018/12/24/%E5%AE%9E%E9%AA%8C%E5%AE%A4%E7%9B%AE%E5%BD%95/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2018/12/24/%E5%AE%9E%E9%AA%8C%E5%AE%A4%E7%9B%AE%E5%BD%95/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a href="https://mp.weixin.qq.com/s/wBNeyQSRmnIZcbumBoVuyA" target="_blank" rel="noopener">001 用水流量大小与压力变化关系(基础实验)</a>
<a href="https://mp.weixin.qq.com/s/qnbyowZcqOIvGa6Zf95jPQ" target="_blank" rel="noopener">002 压力下降幅度与漏损率变化的关系</a>
<a href="https://mp.weixin.qq.com/s/wGP7Hjv2UFMkJBsctmNfDQ" target="_blank" rel="noopener">003 罐式供水与前端压力实验</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2018/12/24/ReactNative%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%B8%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/12/24/ReactNative%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%B8%89/" class="post-title-link" itemprop="url">ReactNative学习分享三</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-12-24 08:56:13" itemprop="dateCreated datePublished" datetime="2018-12-24T08:56:13+08:00">2018-12-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-01-02 17:06:21" itemprop="dateModified" datetime="2019-01-02T17:06:21+08:00">2019-01-02</time>
              </span>

          
            <span id="/2018/12/24/ReactNative%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%B8%89/" class="post-meta-item leancloud_visitors" data-flag-title="ReactNative学习分享三" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2018/12/24/ReactNative%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%B8%89/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2018/12/24/ReactNative%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%E4%B8%89/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li>ListView组件的介绍</li>
</ul>
<p>— 啤酒案例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">import React,&#123; Component &#125; from &#39;react&#39;;</span><br><span class="line">import &#123;</span><br><span class="line">        StyleSheet,</span><br><span class="line">        Text,</span><br><span class="line">        View,</span><br><span class="line">        ListView,</span><br><span class="line">        Image,</span><br><span class="line">        TouchableOpacity,</span><br><span class="line">        AlertIOS</span><br><span class="line">    &#125; from &#39;react-native&#39;;</span><br><span class="line">&#x2F;&#x2F; 导入json数据</span><br><span class="line">const Wine &#x3D; require(&#39;.&#x2F;Wine.json&#39;); &#x2F;&#x2F; 数组</span><br><span class="line">const Dimensions &#x3D; require(&#39;Dimensions&#39;);</span><br><span class="line">let &#123;width&#125; &#x3D; Dimensions.get(&#39;window&#39;);</span><br><span class="line">export default class DTouchabelDemo extends Component&lt;Props&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; 设置初始值</span><br><span class="line">    constructor(props)&#123;</span><br><span class="line">        super(props);</span><br><span class="line">        &#x2F;&#x2F; 1.1 设置数据源</span><br><span class="line">        let ds &#x3D; new ListView.DataSource(&#123; rowHasChanged:(r1,r2) &#x3D;&gt; r1 !&#x3D;&#x3D; r2 &#125;);</span><br><span class="line">        this.state &#x3D; &#123;</span><br><span class="line">            &#x2F;&#x2F; 1.2 设置返回数据</span><br><span class="line">            dataSource: ds.cloneWithRows(Wine) &#x2F;&#x2F; cloneWithRows 放置数组</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; 设置render函数</span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;ListView</span><br><span class="line">                dataSource&#x3D;&#123;this.state.dataSource&#125; &#x2F;&#x2F; 数据源</span><br><span class="line">                renderRow&#x3D;&#123;this.renderRow&#125;</span><br><span class="line">            &#x2F;&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; 返回具体的cell</span><br><span class="line">    renderRow(rowData,sectionID,rowID,highlightRow)&#123;</span><br><span class="line">        &#x2F;&#x2F; console.log(&quot;rowData&quot;,rowData);</span><br><span class="line">        &#x2F;&#x2F; console.log(&quot;sectionID&quot;,sectionID);</span><br><span class="line">        &#x2F;&#x2F; console.log(&quot;rowID&quot;,rowID);</span><br><span class="line">        &#x2F;&#x2F; console.log(&quot;hightlightRow&quot;,highlightRow);</span><br><span class="line">        return(</span><br><span class="line">            &lt;TouchableOpacity activeOpacity&#x3D;&#123;0.5&#125; onPress&#x3D;&#123;()&#x3D;&gt;AlertIOS.alert(&#39;点击了&#39;+rowID+&#39;行&#39;)&#125;&gt;</span><br><span class="line">                &lt;View style&#x3D;&#123;styles.cellViewStyle&#125;&gt;</span><br><span class="line">                    &#123;&#x2F;*左边的图片*&#x2F;&#125;</span><br><span class="line">                    &lt;Image source&#x3D;&#123;&#123;uri: rowData.image&#125;&#125; style&#x3D;&#123;styles.leftImageStyle&#125;&#x2F;&gt;</span><br><span class="line">                    &#123;&#x2F;*右边的View*&#x2F;&#125;</span><br><span class="line">                    &lt;View style&#x3D;&#123;styles.rightViewStyle&#125;&gt;</span><br><span class="line">                        &#123;&#x2F;*上边的Text*&#x2F;&#125;</span><br><span class="line">                        &lt;Text style&#x3D;&#123;styles.topTitleStyle&#125;&gt;&#123;rowData.name&#125;&lt;&#x2F;Text&gt;</span><br><span class="line">                        &#123;&#x2F;*下边的text*&#x2F;&#125;</span><br><span class="line">                        &lt;Text style&#x3D;&#123;styles.bottomTitleStyle&#125;&gt;¥&#123;rowData.money&#125;&lt;&#x2F;Text&gt;</span><br><span class="line">                    &lt;&#x2F;View&gt;</span><br><span class="line">                &lt;&#x2F;View&gt;</span><br><span class="line">            &lt;&#x2F;TouchableOpacity&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">const styles &#x3D; StyleSheet.create(&#123;</span><br><span class="line">    cellViewStyle:&#123;</span><br><span class="line">        padding:10,</span><br><span class="line">        backgroundColor:&#39;white&#39;,</span><br><span class="line">        &#x2F;&#x2F; 下划线</span><br><span class="line">        borderBottomWidth:0.5,</span><br><span class="line">        borderBottomColor:&#39;#e8e8e8&#39;,</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 确定主轴的方向</span><br><span class="line">        flexDirection:&#39;row&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">    rightViewStyle:&#123;</span><br><span class="line">        &#x2F;&#x2F; 主轴的对齐方式</span><br><span class="line">        justifyContent:&#39;center&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">    leftImageStyle:&#123;</span><br><span class="line">        width:60,</span><br><span class="line">        height:60,</span><br><span class="line">        marginRight: 15</span><br><span class="line">    &#125;,</span><br><span class="line">    topTitleStyle:&#123;</span><br><span class="line">        color:&#39;red&#39;,</span><br><span class="line">        fontSize:15,</span><br><span class="line">        width:width * 0.7,</span><br><span class="line">        marginBottom: 8</span><br><span class="line">    &#125;,</span><br><span class="line">    bottomTitleStyle:&#123;</span><br><span class="line">        color:&#39;blue&#39;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>— QQ九宫格案例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">import React,&#123; Component &#125; from &#39;react&#39;;</span><br><span class="line">import &#123;</span><br><span class="line">    StyleSheet,</span><br><span class="line">    Text,</span><br><span class="line">    View,</span><br><span class="line">    ListView,</span><br><span class="line">    Image,</span><br><span class="line">    TouchableOpacity, &#x2F;&#x2F; 不透明度触摸</span><br><span class="line">    AlertIOS</span><br><span class="line">&#125; from &#39;react-native&#39;;</span><br><span class="line">&#x2F;&#x2F; 导入json数据</span><br><span class="line">let shareData &#x3D; require(&#39;.&#x2F;shareData&#39;);</span><br><span class="line">&#x2F;&#x2F; 一些常量设置</span><br><span class="line">const Dimensions &#x3D; require(&#39;Dimensions&#39;);</span><br><span class="line">const screenWidth &#x3D; Dimensions.get(&#39;window&#39;).width;</span><br><span class="line">const cols &#x3D; 3;</span><br><span class="line">const cellWH &#x3D; 100;</span><br><span class="line">const vMargin &#x3D; (screenWidth - cellWH * cols) &#x2F; (cols + 1);</span><br><span class="line">const hMargin &#x3D; 25;</span><br><span class="line">export default class DTouchabelDemo extends Component&lt;Props&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; 设置默认值，固定值</span><br><span class="line">    static defaultProps &#x3D; &#123;</span><br><span class="line">        &#x2F;&#x2F; duration:　3000</span><br><span class="line">    &#125;;</span><br><span class="line">    &#x2F;&#x2F; 设置一些初始值(可以变化)</span><br><span class="line">    constructor(props)&#123;</span><br><span class="line">        super(props);</span><br><span class="line">        &#x2F;&#x2F; 创建数据源</span><br><span class="line">        let ds &#x3D; new ListView.DataSource(&#123; rowHasChanged:(r1,r2) &#x3D;&gt; r1 !&#x3D;&#x3D; r2 &#125;);</span><br><span class="line">        this.state &#x3D; &#123;</span><br><span class="line">            &#x2F;&#x2F; 1.2 设置返回数据</span><br><span class="line">            dataSource: ds.cloneWithRows(shareData.data) &#x2F;&#x2F; cloneWithRows 放置数组</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;ListView</span><br><span class="line">                dataSource&#x3D;&#123;this.state.dataSource&#125;</span><br><span class="line">                renderRow&#x3D;&#123;this.renderRow&#125;</span><br><span class="line">                contentContainerStyle&#x3D;&#123;styles.listViewStyle&#125;</span><br><span class="line">            &#x2F;&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; 单独的cell</span><br><span class="line">    renderRow(rowData)&#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;TouchableOpacity activeOpacity&#x3D;&#123;0.5&#125; onPress &#x3D; &#123;()&#x3D;&gt;&#123;AlertIOS.alert(&#39;哈哈&#39;)&#125;&#125;&gt;</span><br><span class="line">                &lt;View style&#x3D;&#123;styles.innerViewStyle&#125;&gt;</span><br><span class="line">                    &lt;Image source&#x3D;&#123;&#123;uri:rowData.icon&#125;&#125; style&#x3D;&#123;styles.iconStyle&#125;&#x2F;&gt;</span><br><span class="line">                    &lt;Text&gt;&#123;rowData.title&#125;&lt;&#x2F;Text&gt;</span><br><span class="line">                &lt;&#x2F;View&gt;</span><br><span class="line">            &lt;&#x2F;TouchableOpacity&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line">const styles &#x3D; StyleSheet.create(&#123;</span><br><span class="line">    listViewStyle:&#123;</span><br><span class="line">        &#x2F;&#x2F; 改变主轴的方向</span><br><span class="line">        flexDirection: &#39;row&#39;,</span><br><span class="line">        &#x2F;&#x2F; 多行显示</span><br><span class="line">        flexWrap:&#39;wrap&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">    iconStyle:&#123;</span><br><span class="line">        width:80,</span><br><span class="line">        height:80</span><br><span class="line">    &#125;,</span><br><span class="line">    innerViewStyle:&#123;</span><br><span class="line">        width:cellWH,</span><br><span class="line">        height:cellWH,</span><br><span class="line">        marginLeft:vMargin,</span><br><span class="line">        marginTop:hMargin,</span><br><span class="line">        &#x2F;&#x2F; 居中</span><br><span class="line">        alignItems: &#39;center&#39;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>— listView车子综合案例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line">import React,&#123; Component &#125; from &#39;react&#39;;</span><br><span class="line">import &#123;</span><br><span class="line">    StyleSheet,</span><br><span class="line">    Text,</span><br><span class="line">    View,</span><br><span class="line">    ListView,</span><br><span class="line">    Image,</span><br><span class="line">    TouchableOpacity</span><br><span class="line">&#125; from &#39;react-native&#39;;</span><br><span class="line">&#x2F;&#x2F; 导入外部的json数据</span><br><span class="line">let Car &#x3D; require(&#39;.&#x2F;Car.json&#39;);</span><br><span class="line">export default class BListViewDemo extends Component&lt;Props&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; 设置默认值，固定值</span><br><span class="line">    static defaultProps &#x3D; &#123;</span><br><span class="line">        &#x2F;&#x2F; duration:　3000</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 设置一些初始值(可以变化)</span><br><span class="line">    constructor(props)&#123;</span><br><span class="line">        super(props);</span><br><span class="line">        &#x2F;&#x2F; let ds &#x3D; new ListView.DataSource(&#123; rowHasChanged:(r1,r2) &#x3D;&gt; r1 !&#x3D;&#x3D; r2 &#125;);</span><br><span class="line">        let getSectionData &#x3D; (dataBlob, sectionID) &#x3D;&gt; &#123;</span><br><span class="line">            return dataBlob[sectionID];</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        let getRowData &#x3D; (dataBlob, sectionID, rowID) &#x3D;&gt; &#123;</span><br><span class="line">            return dataBlob[sectionID + &#39;:&#39; + rowID]</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        this.state &#x3D; &#123;</span><br><span class="line">            dataSource: new ListView.DataSource(&#123;</span><br><span class="line">                getSectionData:getSectionData, &#x2F;&#x2F; 获取组中数据</span><br><span class="line">                getRowData: getRowData, &#x2F;&#x2F; 获取行中的数据</span><br><span class="line">                rowHasChanged: (r1,r2)&#x3D;&gt; r1 !&#x3D;&#x3D; r2,</span><br><span class="line">                sectionHeaderHasChanged:(s1,s2) &#x3D;&gt; s1 !&#x3D;&#x3D; s2</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#x2F;&#x2F; 复杂的操作: 数据请求 或者 异步操作(定时器)</span><br><span class="line">    componentDidMount()&#123;</span><br><span class="line">        &#x2F;&#x2F; 调用json数据</span><br><span class="line">        this.loadDataFromJson();</span><br><span class="line">    &#125;</span><br><span class="line">    loadDataFromJson()&#123;</span><br><span class="line">        &#x2F;&#x2F; 拿到json数据</span><br><span class="line">        var jsonData &#x3D; Car.data;</span><br><span class="line">        &#x2F;&#x2F; 定义一些变量</span><br><span class="line">        var dataBlob &#x3D; &#123;&#125;,</span><br><span class="line">            sectionIDs &#x3D; [],</span><br><span class="line">            rowIDs &#x3D; [],</span><br><span class="line">            cars &#x3D; [];</span><br><span class="line">        &#x2F;&#x2F; 遍历</span><br><span class="line">        for(var i&#x3D;0;i&lt;jsonData.length;i++)&#123;</span><br><span class="line">            &#x2F;&#x2F; 1.把组号放入sectionIDs数组中</span><br><span class="line">            sectionIDs.push(i);</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; 2.把组中内容放入dataBlob对象中</span><br><span class="line">            dataBlob[i] &#x3D; jsonData[i].title;</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; 3.取出该组中所有的车</span><br><span class="line">            cars &#x3D; jsonData[i].cars;</span><br><span class="line">            rowIDs[i] &#x3D; [];</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; 4.遍历所有的车数组</span><br><span class="line">            for(var j&#x3D;0; j&lt;cars.length; j++)&#123;</span><br><span class="line">                &#x2F;&#x2F; 把行号放入rowIDs</span><br><span class="line">                rowIDs[i].push(j);</span><br><span class="line">                &#x2F;&#x2F; 把每一行中的内容放入dataBlob对象中</span><br><span class="line">                dataBlob[i+&#39;:&#39;+j]&#x3D;cars[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F; 更新状态</span><br><span class="line">        this.setState(&#123;</span><br><span class="line">            dataSource: this.state.dataSource.cloneWithRowsAndSections(dataBlob,sectionIDs,rowIDs)</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    render()&#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;View style&#x3D;&#123;styles.outerViewStyle&#125;&gt;</span><br><span class="line">                &#123;&#x2F;* 头部 *&#x2F;&#125;</span><br><span class="line">                &lt;View style&#x3D;&#123;styles.headerViewStyle&#125;&gt;</span><br><span class="line">                    &lt;Text style&#x3D;&#123;&#123;color:&#39;white&#39;,fontSize:25&#125;&#125;&gt;SeeMyGo品牌&lt;&#x2F;Text&gt;</span><br><span class="line">                &lt;&#x2F;View&gt;</span><br><span class="line">                &#123;&#x2F;* ListView *&#x2F;&#125;</span><br><span class="line">                &lt;ListView</span><br><span class="line">                    dataSource&#x3D;&#123;this.state.dataSource&#125;</span><br><span class="line">                    renderRow&#x3D;&#123;this.renderRow&#125;</span><br><span class="line">                    renderSectionHeader&#x3D;&#123;this.renderSectionHeader&#125;</span><br><span class="line">                &#x2F;&gt;</span><br><span class="line">            &lt;&#x2F;View&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; 每一行的数据</span><br><span class="line">    renderRow(rowData)&#123;</span><br><span class="line">        return(</span><br><span class="line">            &lt;TouchableOpacity activeOpacity&#x3D;&#123;0.5&#125;&gt;</span><br><span class="line">                &lt;View style&#x3D;&#123;styles.rowStyle&#125;&gt;</span><br><span class="line">                    &lt;Image source&#x3D;&#123;&#123;uri: rowData.icon&#125;&#125; style&#x3D;&#123;styles.rowImageStyle&#125;&#x2F;&gt;</span><br><span class="line">                    &lt;Text style&#x3D;&#123;&#123;marginLeft: 5&#125;&#125;&gt;&#123;rowData.name&#125;&lt;&#x2F;Text&gt;</span><br><span class="line">                &lt;&#x2F;View&gt;</span><br><span class="line">            &lt;&#x2F;TouchableOpacity&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 每一组中的数据</span><br><span class="line">    renderSectionHeader(sectionData, sectionID)&#123;</span><br><span class="line">        return(</span><br><span class="line">            &lt;View style&#x3D;&#123;styles.sectionHeaderViewStyle&#125;&gt;</span><br><span class="line">                &lt;Text style&#x3D;&#123;&#123;marginLeft:5,color:&#39;red&#39;&#125;&#125;&gt;&#123;sectionData&#125;&lt;&#x2F;Text&gt;</span><br><span class="line">            &lt;&#x2F;View&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">const styles &#x3D; StyleSheet.create(&#123;</span><br><span class="line">    outerViewStyle: &#123;</span><br><span class="line">        flex:1</span><br><span class="line">    &#125;,</span><br><span class="line">    headerViewStyle:&#123;</span><br><span class="line">        height:64,</span><br><span class="line">        backgroundColor:&#39;orange&#39;,</span><br><span class="line">        justifyContent: &#39;center&#39;,</span><br><span class="line">        alignItems:&#39;center&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">    rowStyle: &#123;</span><br><span class="line">        &#x2F;&#x2F; 设置主轴的方向</span><br><span class="line">        flexDirection: &#39;row&#39;,</span><br><span class="line">        &#x2F;&#x2F; 侧轴方向居中</span><br><span class="line">        alignItems:&#39;center&#39;,</span><br><span class="line">        padding:10,</span><br><span class="line">        borderBottomColor:&#39;#e8e8e8&#39;,</span><br><span class="line">        borderBottomWidth: 0.5</span><br><span class="line">    &#125;,</span><br><span class="line">    rowImageStyle:&#123;</span><br><span class="line">        width:70,</span><br><span class="line">        height:70,</span><br><span class="line">    &#125;,</span><br><span class="line">    sectionHeaderViewStyle:&#123;</span><br><span class="line">        backgroundColor:&#39;#e8e8e8&#39;,</span><br><span class="line">        height:25,</span><br><span class="line">        justifyContent:&#39;center&#39;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>— tabbar 案例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* ------------tabbar选项卡切换案例-------------- *&#x2F;</span><br><span class="line">import React,&#123; Component &#125; from &#39;react&#39;;</span><br><span class="line">import &#123;</span><br><span class="line">    StyleSheet,</span><br><span class="line">    Text,</span><br><span class="line">    View,</span><br><span class="line">    TabBarIOS</span><br><span class="line">&#125; from &#39;react-native&#39;;</span><br><span class="line">export default class DNavDemo extends Component&lt;Props&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; 设置默认值，固定值</span><br><span class="line">    static defaultProps &#x3D; &#123;</span><br><span class="line">        &#x2F;&#x2F; duration:　3000</span><br><span class="line">    &#125;;</span><br><span class="line">    &#x2F;&#x2F; 设置一些初始值(可以变化)</span><br><span class="line">    constructor(props)&#123;</span><br><span class="line">        super(props);</span><br><span class="line">        &#x2F;&#x2F; 1.1 设置数据源</span><br><span class="line">        &#x2F;&#x2F; let ds &#x3D; new ListView.DataSource(&#123; rowHasChanged:(r1,r2) &#x3D;&gt; r1 !&#x3D;&#x3D; r2 &#125;);</span><br><span class="line">        this.state &#x3D; &#123;</span><br><span class="line">            &#x2F;&#x2F; 默认被选中的tabBarItem</span><br><span class="line">            selectedTabBarItem: &#39;home&#39;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    render()&#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;View style&#x3D;&#123;styles.container&#125;&gt;</span><br><span class="line">                &#123;&#x2F;* 头部 *&#x2F;&#125;</span><br><span class="line">                &lt;View style&#x3D;&#123;styles.headerViewStyle&#125;&gt;</span><br><span class="line">                    &lt;Text style&#x3D;&#123;&#123;color:&#39;white&#39;&#125;&#125;&gt;Tab选项卡的切换&lt;&#x2F;Text&gt;</span><br><span class="line">                &lt;&#x2F;View&gt;</span><br><span class="line">                &#123;&#x2F;* 选项卡 *&#x2F;&#125;</span><br><span class="line">                &lt;TabBarIOS</span><br><span class="line">                    barTintColor&#x3D;&#39;orange&#39;</span><br><span class="line">                    &#x2F;&#x2F; style&#x3D;&#123;&#123;width:375&#125;&#125;</span><br><span class="line">                    tintColor &#x3D; &#39;purple&#39;</span><br><span class="line">                &gt;</span><br><span class="line">                    &#123;&#x2F;*第一块*&#x2F;&#125;</span><br><span class="line">                    &lt;TabBarIOS.Item</span><br><span class="line">                        systemIcon&#x3D;&quot;contacts&quot;</span><br><span class="line">                        &#x2F;&#x2F; title&#x3D;&quot;张三&quot;</span><br><span class="line">                        badge&#x3D;&quot;3&quot;</span><br><span class="line">                        selected&#x3D;&#123;this.state.selectedTabBarItem &#x3D;&#x3D; &#39;home&#39;&#125;</span><br><span class="line">                        onPress &#x3D; &#123;()&#x3D;&gt;&#123;this.setState(&#123;selectedTabBarItem: &#39;home&#39;&#125;)&#125;&#125;</span><br><span class="line">                    &gt;</span><br><span class="line">                        &lt;View style&#x3D;&#123;[styles.commonViewStyle,&#123;backgroundColor:&#39;red&#39;&#125;]&#125;&gt;</span><br><span class="line">                            &lt;Text&gt;首页&lt;&#x2F;Text&gt;</span><br><span class="line">                        &lt;&#x2F;View&gt;</span><br><span class="line">                    &lt;&#x2F;TabBarIOS.Item&gt;</span><br><span class="line">                    &#123;&#x2F;*第二块*&#x2F;&#125;</span><br><span class="line">                    &lt;TabBarIOS.Item</span><br><span class="line">                        systemIcon&#x3D;&quot;bookmarks&quot;</span><br><span class="line">                        selected&#x3D;&#123;this.state.selectedTabBarItem &#x3D;&#x3D; &#39;second&#39;&#125;</span><br><span class="line">                        onPress &#x3D; &#123;()&#x3D;&gt;&#123;this.setState(&#123;selectedTabBarItem: &#39;second&#39;&#125;)&#125;&#125;</span><br><span class="line">                    &gt;</span><br><span class="line">                        &lt;View style&#x3D;&#123;[styles.commonViewStyle,&#123;backgroundColor:&#39;green&#39;&#125;]&#125;&gt;</span><br><span class="line">                            &lt;Text&gt;第二页&lt;&#x2F;Text&gt;</span><br><span class="line">                        &lt;&#x2F;View&gt;</span><br><span class="line">                    &lt;&#x2F;TabBarIOS.Item&gt;</span><br><span class="line">                    &#123;&#x2F;*第三块*&#x2F;&#125;</span><br><span class="line">                    &lt;TabBarIOS.Item</span><br><span class="line">                        systemIcon&#x3D;&quot;downloads&quot;</span><br><span class="line">                        selected&#x3D;&#123;this.state.selectedTabBarItem &#x3D;&#x3D; &#39;downloads&#39;&#125;</span><br><span class="line">                        onPress &#x3D; &#123;()&#x3D;&gt;&#123;this.setState(&#123;selectedTabBarItem: &#39;downloads&#39;&#125;)&#125;&#125;</span><br><span class="line">                    &gt;</span><br><span class="line">                        &lt;View style&#x3D;&#123;[styles.commonViewStyle,&#123;backgroundColor:&#39;blue&#39;&#125;]&#125;&gt;</span><br><span class="line">                            &lt;Text&gt;第三页&lt;&#x2F;Text&gt;</span><br><span class="line">                        &lt;&#x2F;View&gt;</span><br><span class="line">                    &lt;&#x2F;TabBarIOS.Item&gt;</span><br><span class="line">                    &#123;&#x2F;*第四块*&#x2F;&#125;</span><br><span class="line">                    &lt;TabBarIOS.Item</span><br><span class="line">                        systemIcon&#x3D;&quot;search&quot;</span><br><span class="line">                        selected&#x3D;&#123;this.state.selectedTabBarItem &#x3D;&#x3D; &#39;第四块&#39;&#125;</span><br><span class="line">                        onPress &#x3D; &#123;()&#x3D;&gt;&#123;this.setState(&#123;selectedTabBarItem: &#39;第四块&#39;&#125;)&#125;&#125;</span><br><span class="line">                    &gt;</span><br><span class="line">                        &lt;View style&#x3D;&#123;[styles.commonViewStyle,&#123;backgroundColor:&#39;purple&#39;&#125;]&#125;&gt;</span><br><span class="line">                            &lt;Text&gt;第四页&lt;&#x2F;Text&gt;</span><br><span class="line">                        &lt;&#x2F;View&gt;</span><br><span class="line">                    &lt;&#x2F;TabBarIOS.Item&gt;</span><br><span class="line">                &lt;&#x2F;TabBarIOS&gt;</span><br><span class="line">            &lt;&#x2F;View&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">const styles &#x3D; StyleSheet.create(&#123;</span><br><span class="line">    container: &#123;</span><br><span class="line">        &#x2F;&#x2F; justifyContent: &#39;center&#39;,</span><br><span class="line">        flex:1,</span><br><span class="line">        &#x2F;&#x2F; alignItems: &#39;center&#39;,</span><br><span class="line">        &#x2F;&#x2F; backgroundColor: &#39;#F5FCFF&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">    commonViewStyle:&#123;</span><br><span class="line">        flex:1,</span><br><span class="line">        justifyContent: &#39;center&#39;,</span><br><span class="line">        alignItems:&#39;center&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">    headerViewStyle:&#123;</span><br><span class="line">        height:64,</span><br><span class="line">        backgroundColor:&#39;black&#39;,</span><br><span class="line">        justifyContent: &#39;center&#39;,</span><br><span class="line">        alignItems: &#39;center&#39;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>— 网易新闻客户端案例
App.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* navigator案例---网易新闻界面 *&#x2F;</span><br><span class="line">import React,&#123; Component &#125; from &#39;react&#39;;</span><br><span class="line">import &#123;</span><br><span class="line">    AppRegistry,</span><br><span class="line">    StyleSheet,</span><br><span class="line">    Text,</span><br><span class="line">    View</span><br><span class="line">&#125; from &#39;react-native&#39;;</span><br><span class="line">&#x2F;&#x2F; 引入外部的组件</span><br><span class="line">let Main &#x3D; require(&#39;.&#x2F;Component&#x2F;XMGMain&#39;);</span><br><span class="line">export default class DnewsDemo extends Component&lt;Props&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; 设置一些初始值(可以变化)</span><br><span class="line">    render()&#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;View style&#x3D;&#123;styles.container&#125;&gt;</span><br><span class="line">                &lt;Main&gt;&lt;&#x2F;Main&gt;</span><br><span class="line">            &lt;&#x2F;View&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">const styles &#x3D; StyleSheet.create(&#123;</span><br><span class="line">    container: &#123;</span><br><span class="line">        flex:1</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>XMGMain.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line">import React,&#123; Component &#125; from &#39;react&#39;;</span><br><span class="line">import &#123;</span><br><span class="line">    StyleSheet,</span><br><span class="line">    Text,</span><br><span class="line">    View,</span><br><span class="line">    TabBarIOS,</span><br><span class="line">    NavigatorIOS,</span><br><span class="line">    Image,</span><br><span class="line">&#125; from &#39;react-native&#39;;</span><br><span class="line">&#x2F;&#x2F; 引入外部的组件</span><br><span class="line">let Home &#x3D; require(&#39;..&#x2F;Component&#x2F;XMGHome&#39;);</span><br><span class="line">let Find &#x3D; require(&#39;..&#x2F;Component&#x2F;XMGFind&#39;);</span><br><span class="line">let Message &#x3D; require(&#39;..&#x2F;Component&#x2F;XMGMessage&#39;);</span><br><span class="line">let Mine &#x3D; require(&#39;..&#x2F;Component&#x2F;XMGMine&#39;);</span><br><span class="line">class Main extends Component&lt;Props&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; 设置一些初始值(可以变化)</span><br><span class="line">    constructor(props)&#123;</span><br><span class="line">        super(props);</span><br><span class="line">        this.state &#x3D; &#123;</span><br><span class="line">            &#x2F;&#x2F; 设置选中标识</span><br><span class="line">            selectedItem: &#39;home&#39; &#x2F;&#x2F; 默认首页被选中</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    render()&#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;TabBarIOS tintColor&#x3D;&quot;orange&quot; style&#x3D;&#123;styles.TabBar_style&#125;&gt;</span><br><span class="line">                &#123;&#x2F;*首页*&#x2F;&#125;</span><br><span class="line">                &lt;TabBarIOS.Item</span><br><span class="line">                    icon&#x3D;&#123;require(&#39;.&#x2F;img&#x2F;tabbar_home.png&#39;)&#125;</span><br><span class="line">                    title&#x3D;&quot;主页&quot;</span><br><span class="line">                    selected&#x3D;&#123;this.state.selectedItem &#x3D;&#x3D; &#39;home&#39;&#125;</span><br><span class="line">                    onPress&#x3D;&#123;()&#x3D;&gt;&#123;this.setState(&#123;selectedItem: &#39;home&#39;&#125;)&#125;&#125;</span><br><span class="line">                &gt;</span><br><span class="line">                    &lt;NavigatorIOS</span><br><span class="line">                        tintColor&#x3D;&quot;orange&quot;</span><br><span class="line">                        style&#x3D;&#123;&#123;flex:1&#125;&#125;</span><br><span class="line">                        initialRoute&#x3D;&#123;</span><br><span class="line">                            &#123;</span><br><span class="line">                                component:Home, &#x2F;&#x2F; 具体的板块</span><br><span class="line">                                title:&#39;网易&#39;,</span><br><span class="line">                                leftButtonIcon:require(&#39;.&#x2F;img&#x2F;navigationbar_friendattention.png&#39;),</span><br><span class="line">                                rightButtonIcon:require(&#39;.&#x2F;img&#x2F;navigationbar_pop.png&#39;)</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &gt;</span><br><span class="line">                    &lt;&#x2F;NavigatorIOS&gt;</span><br><span class="line">                &lt;&#x2F;TabBarIOS.Item&gt;</span><br><span class="line">                 &#123;&#x2F;*消息*&#x2F;&#125;</span><br><span class="line">                &lt;TabBarIOS.Item</span><br><span class="line">                    icon &#x3D; &#123;require(&#39;.&#x2F;img&#x2F;tabbar_discover.png&#39;)&#125;</span><br><span class="line">                    title &#x3D; &quot;发现&quot;</span><br><span class="line">                    selected&#x3D;&#123;this.state.selectedItem &#x3D;&#x3D;&#x3D; &#39;find&#39;&#125;</span><br><span class="line">                    onPress&#x3D;&#123;()&#x3D;&gt;&#123;this.setState(&#123;selectedItem: &#39;find&#39;&#125;)&#125;&#125;</span><br><span class="line">                &gt;</span><br><span class="line">                    &lt;NavigatorIOS</span><br><span class="line">                        style&#x3D;&#123;&#123;flex:1&#125;&#125;</span><br><span class="line">                        initialRoute&#x3D;&#123;</span><br><span class="line">                            &#123;</span><br><span class="line">                                component:Find, &#x2F;&#x2F; 具体的板块</span><br><span class="line">                                title:&#39;发现&#39;,</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &gt;</span><br><span class="line">                    &lt;&#x2F;NavigatorIOS&gt;</span><br><span class="line">                &lt;&#x2F;TabBarIOS.Item&gt;</span><br><span class="line">                &#123;&#x2F;* 发现 *&#x2F;&#125;</span><br><span class="line">                &lt;TabBarIOS.Item</span><br><span class="line">                    icon &#x3D; &#123;require(&#39;.&#x2F;img&#x2F;tabbar_message_center.png&#39;)&#125;</span><br><span class="line">                    title &#x3D; &quot;消息&quot;</span><br><span class="line">                    selected&#x3D;&#123;this.state.selectedItem &#x3D;&#x3D;&#x3D; &#39;discover&#39;&#125;</span><br><span class="line">                    onPress&#x3D;&#123;()&#x3D;&gt;&#123;this.setState(&#123;selectedItem: &#39;discover&#39;&#125;)&#125;&#125;</span><br><span class="line">                &gt;</span><br><span class="line">                    &lt;NavigatorIOS</span><br><span class="line">                        style&#x3D;&#123;&#123;flex:1&#125;&#125;</span><br><span class="line">                        initialRoute&#x3D;&#123;</span><br><span class="line">                            &#123;</span><br><span class="line">                                component:Message, &#x2F;&#x2F; 具体的板块</span><br><span class="line">                                title:&#39;消息&#39;,</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &gt;</span><br><span class="line">                    &lt;&#x2F;NavigatorIOS&gt;</span><br><span class="line">                &lt;&#x2F;TabBarIOS.Item&gt;</span><br><span class="line">                &#123;&#x2F;* 我的 *&#x2F;&#125;</span><br><span class="line">                &lt;TabBarIOS.Item</span><br><span class="line">                    icon &#x3D; &#123;require(&#39;.&#x2F;img&#x2F;tabbar_profile.png&#39;)&#125;</span><br><span class="line">                    title &#x3D; &quot;我的&quot;</span><br><span class="line">                    selected&#x3D;&#123;this.state.selectedItem &#x3D;&#x3D;&#x3D; &#39;mine&#39;&#125;</span><br><span class="line">                    onPress&#x3D;&#123;()&#x3D;&gt;&#123;this.setState(&#123;selectedItem: &#39;mine&#39;&#125;)&#125;&#125;</span><br><span class="line">                &gt;</span><br><span class="line">                    &lt;NavigatorIOS</span><br><span class="line">                        tintColor &#x3D; &quot;orange&quot;</span><br><span class="line">                        style&#x3D;&#123;&#123;flex:1&#125;&#125;</span><br><span class="line">                        initialRoute&#x3D;&#123;</span><br><span class="line">                            &#123;</span><br><span class="line">                                component:Mine, &#x2F;&#x2F; 具体的板块</span><br><span class="line">                                title:&#39;我的&#39;,</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &gt;</span><br><span class="line">                    &lt;&#x2F;NavigatorIOS&gt;</span><br><span class="line">                &lt;&#x2F;TabBarIOS.Item&gt;</span><br><span class="line">            &lt;&#x2F;TabBarIOS&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">const styles &#x3D; StyleSheet.create(&#123;</span><br><span class="line">&#125;);</span><br><span class="line">&#x2F;&#x2F; 输出类</span><br><span class="line">module.exports &#x3D; Main;</span><br></pre></td></tr></table></figure>

<p>XMGHome.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br></pre></td><td class="code"><pre><span class="line">import React,&#123; Component &#125; from &#39;react&#39;;</span><br><span class="line">import &#123;</span><br><span class="line">    StyleSheet,</span><br><span class="line">    Text,</span><br><span class="line">    View,</span><br><span class="line">    ListView,</span><br><span class="line">    Image,</span><br><span class="line">    TouchableOpacity</span><br><span class="line">&#125; from &#39;react-native&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 导入json数据</span><br><span class="line">const LocalData &#x3D; require(&#39;..&#x2F;LocalData&#39;);</span><br><span class="line">&#x2F;&#x2F; 导入外部的组件类</span><br><span class="line">let ScrollImage &#x3D; require(&#39;..&#x2F;Component&#x2F;XMGScrollImage&#39;);</span><br><span class="line">let NewsDetail &#x3D; require(&#39;..&#x2F;Component&#x2F;XMGNewsDetail&#39;);</span><br><span class="line">class Home extends Component&lt;Props&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; 设置默认值，固定值</span><br><span class="line">    static defaultProps &#x3D; &#123;</span><br><span class="line">        uri_api:&quot;http:&#x2F;&#x2F;c.m.163.com&#x2F;nc&#x2F;article&#x2F;headline&#x2F;T1348647853363&#x2F;0-10.html&quot;,</span><br><span class="line">        key_word:&#39;T1348647853363&#39;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#x2F;&#x2F; 设置一些初始值(可以变化)</span><br><span class="line">    constructor(props)&#123;</span><br><span class="line">        super(props);</span><br><span class="line">        this.state&#x3D;&#123;</span><br><span class="line">            headerDataArr:[],</span><br><span class="line">            dataSource: new ListView.DataSource(&#123;</span><br><span class="line">                rowHasChanged:(r1,r2) &#x3D;&gt; r1 !&#x3D;&#x3D; r2</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    render()&#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;ListView</span><br><span class="line">                dataSource&#x3D;&#123;this.state.dataSource&#125;</span><br><span class="line">                renderRow&#x3D;&#123;this.renderRow.bind(this)&#125;</span><br><span class="line">                renderHeader&#x3D;&#123;this.renderHeader.bind(this)&#125;</span><br><span class="line">            &#x2F;&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; 单独的一个cell</span><br><span class="line">    renderRow(rowData)&#123;</span><br><span class="line">        return(</span><br><span class="line">            &lt;TouchableOpacity activeOpacity&#x3D;&#123;0.5&#125; onPress&#x3D;&#123;()&#x3D;&gt;&#123;this.pushToNewsDetail(rowData)&#125;&#125;&gt;</span><br><span class="line">                &lt;View style&#x3D;&#123;styles.cellViewStyle&#125;&gt;</span><br><span class="line">                    &#123;&#x2F;*左边*&#x2F;&#125;</span><br><span class="line">                    &lt;Image source&#x3D;&#123;&#123;uri:rowData.imgsrc&#125;&#125; style&#x3D;&#123;styles.imgStyle&#125;&#x2F;&gt;</span><br><span class="line">                    &#123;&#x2F;*右边*&#x2F;&#125;</span><br><span class="line">                    &lt;View style&#x3D;&#123;styles.rightViewStyle&#125;&gt;</span><br><span class="line">                        &lt;Text style&#x3D;&#123;styles.titleStyle&#125;&gt;&#123;rowData.title&#125;&lt;&#x2F;Text&gt;</span><br><span class="line">                        &lt;Text style&#x3D;&#123;styles.flowTitleStyle&#125;&gt;&#123;rowData.replyCount&#125;跟帖&lt;&#x2F;Text&gt;</span><br><span class="line">                    &lt;&#x2F;View&gt;</span><br><span class="line">                &lt;&#x2F;View&gt;</span><br><span class="line">            &lt;&#x2F;TouchableOpacity&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; 跳转到新闻详情页</span><br><span class="line">    pushToNewsDetail(rowData)&#123;</span><br><span class="line">        this.props.navigator.push(&#123;</span><br><span class="line">            component:NewsDetail,</span><br><span class="line">            title: rowData.title,</span><br><span class="line">            passProps:&#123;rowData&#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; 头部</span><br><span class="line">    renderHeader()&#123;</span><br><span class="line">        &#x2F;&#x2F; 判断</span><br><span class="line">        if (this.state.headerDataArr.length &#x3D;&#x3D;&#x3D; 0) return;</span><br><span class="line">        return(</span><br><span class="line">            &lt;ScrollImage</span><br><span class="line">                imageDataArr &#x3D; &#123;this.state.headerDataArr&#125;</span><br><span class="line">            &#x2F;&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; 请求网络数据</span><br><span class="line">    componentDidMount()&#123;</span><br><span class="line">        this.loadDataFromNet();</span><br><span class="line">    &#125;</span><br><span class="line">    loadDataFromNet()&#123;</span><br><span class="line">        fetch(this.props.uri_api)</span><br><span class="line">            .then((response)&#x3D;&gt;response.json())</span><br><span class="line">            .then((responseData)&#x3D;&gt;&#123;</span><br><span class="line">                &#x2F;&#x2F; 拿到所有的数据</span><br><span class="line">                let jsonData &#x3D; responseData[this.props.key_word];</span><br><span class="line">                &#x2F;&#x2F; 处理网络数据</span><br><span class="line">                this.dealWithData(jsonData);</span><br><span class="line">            &#125;)</span><br><span class="line">            .catch((error)&#x3D;&gt;&#123;</span><br><span class="line">                if(error)&#123;</span><br><span class="line">                    &#x2F;&#x2F; 拿到所有的数据</span><br><span class="line">                    let jsonData &#x3D; LocalData[this.props.key_word];</span><br><span class="line">                    &#x2F;&#x2F; 特殊处理</span><br><span class="line">                    this.dealWithData(jsonData)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; 处理网络数据</span><br><span class="line">    dealWithData(jsonData)&#123;</span><br><span class="line">        &#x2F;&#x2F; 定义临时变量</span><br><span class="line">        let headerArr &#x3D; [], listDataArr &#x3D; [];</span><br><span class="line">        &#x2F;&#x2F; 遍历拿到的json数据</span><br><span class="line">        for(let i&#x3D;0; i&lt;jsonData.length; i++)&#123;</span><br><span class="line">            &#x2F;&#x2F; 取出单独的对象</span><br><span class="line">            let data &#x3D; jsonData[i];</span><br><span class="line">            &#x2F;&#x2F; 判断</span><br><span class="line">            if(data.hasAD &#x3D;&#x3D;&#x3D; 1)&#123;</span><br><span class="line">                &#x2F;&#x2F; 取出广告数据</span><br><span class="line">                headerArr &#x3D; data.ads;</span><br><span class="line">            &#125;else&#123; &#x2F;&#x2F; 剩余的行数据</span><br><span class="line">                if (data.imgsrc)&#123;</span><br><span class="line">                    listDataArr.push(data);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F; 更新状态机器</span><br><span class="line">        this.setState(&#123;</span><br><span class="line">            headerDataArr:headerArr,</span><br><span class="line">            dataSource: this.state.dataSource.cloneWithRows(listDataArr)</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">const styles &#x3D; StyleSheet.create(&#123;</span><br><span class="line">    cellViewStyle:&#123;</span><br><span class="line">        &#x2F;&#x2F; 确定主轴方向</span><br><span class="line">        &#x2F;&#x2F; backgroundColor:&quot;red&quot;,</span><br><span class="line">        flexDirection: &#39;row&#39;,</span><br><span class="line">        &#x2F;&#x2F; 设置测轴的对齐方式</span><br><span class="line">        &#x2F;&#x2F; alignItems: &#39;stretch&#39;,</span><br><span class="line">        padding:10,</span><br><span class="line">        &#x2F;&#x2F; 设置下边框</span><br><span class="line">        borderBottomColor:&#39;#e8e8e8&#39;,</span><br><span class="line">        borderBottomWidth:0.5,</span><br><span class="line">        &#x2F;&#x2F; backgroundColor: &quot;red&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    imgStyle:&#123;</span><br><span class="line">        width:90,</span><br><span class="line">        height:90,</span><br><span class="line">    &#125;,</span><br><span class="line">    rightViewStyle:&#123;</span><br><span class="line">        width:260,</span><br><span class="line">        marginLeft:8,</span><br><span class="line">        &#x2F;&#x2F; backgroundColor:&quot;green&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    titleStyle:&#123;</span><br><span class="line">        fontSize:16,</span><br><span class="line">        marginBottom:5</span><br><span class="line">    &#125;,</span><br><span class="line">    subTitleStyle:&#123;</span><br><span class="line">        color:&#39;gray&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">    flowTitleStyle:&#123;</span><br><span class="line">        position:&#39;absolute&#39;,</span><br><span class="line">        right:10,</span><br><span class="line">        bottom:10,</span><br><span class="line">        &#x2F;&#x2F; 边框</span><br><span class="line">        borderWidth:0.5,</span><br><span class="line">        borderColor:&#39;gray&#39;,</span><br><span class="line">        borderRadius:5,</span><br><span class="line">        padding:3,</span><br><span class="line">        color:&#39;gray&#39;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">module.exports &#x3D; Home;</span><br></pre></td></tr></table></figure>

<p>XMGScrollImage.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &#39;react&#39;;</span><br><span class="line">import &#123;</span><br><span class="line">    AppRegistry,</span><br><span class="line">    StyleSheet,</span><br><span class="line">    Text,</span><br><span class="line">    View,</span><br><span class="line">    ScrollView,</span><br><span class="line">    Image</span><br><span class="line">&#125; from &#39;react-native&#39;;</span><br><span class="line">const Dimensions &#x3D; require(&#39;Dimensions&#39;);</span><br><span class="line">let &#123;width&#125; &#x3D; Dimensions.get(&#39;window&#39;);</span><br><span class="line">class ScrollImage extends Component&lt;Props&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; 设置固定值</span><br><span class="line">    static defaultProps &#x3D; &#123;</span><br><span class="line">        &#x2F;&#x2F; 每隔多少时间</span><br><span class="line">        duration:　1000,</span><br><span class="line">        &#x2F;&#x2F; 所有的Image对象数组</span><br><span class="line">        imageDataArr:[]</span><br><span class="line">    &#125;;</span><br><span class="line">    &#x2F;&#x2F; 设置可变的和初始值</span><br><span class="line">    constructor(props)&#123;</span><br><span class="line">        super(props);</span><br><span class="line">        this.state &#x3D; &#123;</span><br><span class="line">            &#x2F;&#x2F; 当前页码</span><br><span class="line">            currentPage:0,</span><br><span class="line">            &#x2F;&#x2F; 标题</span><br><span class="line">            title: this.props.imageDataArr[0].title</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;View style&#x3D;&#123;styles.container&#125;&gt;</span><br><span class="line">                &lt;ScrollView</span><br><span class="line">                    ref&#x3D;&quot;scrollView&quot;</span><br><span class="line">                    horizontal&#x3D;&#123;true&#125;</span><br><span class="line">                    &#x2F;&#x2F; 隐藏水平滚动条</span><br><span class="line">                    showsHorizontalScrollIndicator&#x3D;&#123;false&#125;</span><br><span class="line">                    &#x2F;&#x2F; 自动分页</span><br><span class="line">                    pagingEnabled &#x3D; &#123;true&#125;</span><br><span class="line">                    onMomentumScrollEnd&#x3D;&#123;(e)&#x3D;&gt;this.onAnimationEnd(e)&#125;</span><br><span class="line">                    &#x2F;&#x2F; 开始拖拽</span><br><span class="line">                    onScrollBeginDrag&#x3D;&#123;this.onScrollBeginDrag&#125;</span><br><span class="line">                    &#x2F;&#x2F; 停止拖拽</span><br><span class="line">                    onScrollEndDrag&#x3D;&#123;this.onScrollEndDrag&#125;</span><br><span class="line">                &gt;</span><br><span class="line">                    &#123;this.renderAllImage()&#125;</span><br><span class="line">                    &#123;&#x2F;*返回指示器    *&#x2F;&#125;</span><br><span class="line">                &lt;&#x2F;ScrollView&gt;</span><br><span class="line">                &lt;View style&#x3D;&#123;styles.pageViewStyle&#125;&gt;</span><br><span class="line">                    &#123;&#x2F;*返回对应的标题*&#x2F;&#125;</span><br><span class="line">                    &lt;Text style&#x3D;&#123;&#123;color:&#39;white&#39;&#125;&#125;&gt;&#123;this.state.title&#125;&lt;&#x2F;Text&gt;</span><br><span class="line">                    &#123;&#x2F;*返回五个圆点*&#x2F;&#125;</span><br><span class="line">                    &lt;View style&#x3D;&#123;&#123;flexDirection:&quot;row&quot;&#125;&#125;&gt;</span><br><span class="line">                        &#123;this.renderPageCircle()&#125;</span><br><span class="line">                    &lt;&#x2F;View&gt;</span><br><span class="line">                &lt;&#x2F;View&gt;</span><br><span class="line">            &lt;&#x2F;View&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; 返回所有的图片</span><br><span class="line">    renderAllImage() &#123;</span><br><span class="line">        &#x2F;&#x2F; 数组</span><br><span class="line">        let allImage &#x3D; [];</span><br><span class="line">        &#x2F;&#x2F; 拿到图像数组</span><br><span class="line">        let imgsArr &#x3D; this.props.imageDataArr;</span><br><span class="line">        &#x2F;&#x2F; 遍历</span><br><span class="line">        for (let i &#x3D; 0; i &lt; imgsArr.length; i++) &#123;</span><br><span class="line">            &#x2F;&#x2F; 取出单独的每一个对象</span><br><span class="line">            let imgItem &#x3D; imgsArr[i];</span><br><span class="line">            &#x2F;&#x2F; console.log(imgItem);</span><br><span class="line">            &#x2F;&#x2F; 创建组件装入数组</span><br><span class="line">            allImage.push(</span><br><span class="line">                &lt;Image key&#x3D;&#123;i&#125; source&#x3D;&#123;&#123;uri: imgItem.imgsrc&#125;&#125; style&#x3D;&#123;&#123;width: width, height: 120&#125;&#125;&#x2F;&gt;</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">        return allImage</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; 返回所有的圆点</span><br><span class="line">    renderPageCircle()&#123;</span><br><span class="line">        &#x2F;&#x2F; 定义一个数组放置所有的圆点</span><br><span class="line">        var indicatorArr &#x3D; [];</span><br><span class="line">        &#x2F;&#x2F; 拿到图像数组</span><br><span class="line">        let imgsArr &#x3D; this.props.imageDataArr;</span><br><span class="line">        &#x2F;&#x2F; 遍历</span><br><span class="line">        for(var i&#x3D;0; i&lt;imgsArr.length;i++)&#123;</span><br><span class="line">            &#x2F;&#x2F; 判断</span><br><span class="line">            var style &#x3D; (i &#x3D;&#x3D;&#x3D; this.state.currentPage) ? &#123;color:&#39;orange&#39;&#125;:&#123;color:&#39;#ffffff&#39;&#125;</span><br><span class="line">            &#x2F;&#x2F; 把圆点装入数组</span><br><span class="line">            indicatorArr.push(</span><br><span class="line">                &lt;Text key&#x3D;&#123;i&#125; style&#x3D;&#123;[&#123;fontSize:25&#125;,style]&#125;&gt;&amp;bull;&lt;&#x2F;Text&gt;</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F; 返回</span><br><span class="line">        return indicatorArr;</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; 当一帧滚动结束的时候调用</span><br><span class="line">    onAnimationEnd(e)&#123;</span><br><span class="line">        e.persist();</span><br><span class="line">        &#x2F;&#x2F; 1. 求出水平方向的偏移量</span><br><span class="line">        let offSet &#x3D; e.nativeEvent.contentOffset.x;</span><br><span class="line">        &#x2F;&#x2F; 2.求出当前的页数</span><br><span class="line">        let currentPage &#x3D; Math.floor(offSet &#x2F; width);</span><br><span class="line">        &#x2F;&#x2F; 3.更新状态机,重新绘制UI</span><br><span class="line">        this.setState(&#123;</span><br><span class="line">            &#x2F;&#x2F; 当前的页码</span><br><span class="line">            currentPage: currentPage,</span><br><span class="line">            &#x2F;&#x2F; 标题</span><br><span class="line">            title: this.props.imageDataArr[currentPage].title</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; 实现一些复杂的操作</span><br><span class="line">    componentDidMount() &#123;</span><br><span class="line">        &#x2F;&#x2F; 开启定时器</span><br><span class="line">        this.startTimer();</span><br><span class="line">    &#125;</span><br><span class="line">    onScrollBeginDrag &#x3D; ()&#x3D;&gt; &#123;</span><br><span class="line">        clearInterval(this.timer);</span><br><span class="line">    &#125;;</span><br><span class="line">    &#x2F;&#x2F;停止拖拽</span><br><span class="line">    onScrollEndDrag &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F;开启定时器</span><br><span class="line">        this.startTimer();</span><br><span class="line">    &#125;;</span><br><span class="line">    startTimer()&#123;</span><br><span class="line">        &#x2F;&#x2F; 1. 拿到scrollView</span><br><span class="line">        let scrollView &#x3D; this.refs.scrollView;</span><br><span class="line">        let imgCount &#x3D; this.props.imageDataArr.length;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 2. 添加定时器,可看作一个隐式全局变量</span><br><span class="line">        this.timer &#x3D; setInterval(() &#x3D;&gt; &#123;</span><br><span class="line">            &#x2F;&#x2F; 2.1 设置圆点,其实可以不写</span><br><span class="line">            let activePage &#x3D; 0;</span><br><span class="line">            &#x2F;&#x2F; 2.2 判断</span><br><span class="line">            if((this.state.currentPage+1) &gt;&#x3D; imgCount)&#123; &#x2F;&#x2F; 越界</span><br><span class="line">                activePage &#x3D; 0;</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                activePage&#x3D;this.state.currentPage+1;</span><br><span class="line">            &#125;</span><br><span class="line">            &#x2F;&#x2F; 2.3 更新状态机</span><br><span class="line">            this.setState(&#123;</span><br><span class="line">                currentPage: activePage</span><br><span class="line">            &#125;);</span><br><span class="line">            &#x2F;&#x2F; 2.4 让ScrollView滚动起来</span><br><span class="line">            let offsetX &#x3D; activePage * width;</span><br><span class="line">            scrollView.scrollResponderScrollTo(&#123;x:offsetX,y:0,animated:true&#125;);</span><br><span class="line">        &#125;, this.props.duration);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">const styles &#x3D; StyleSheet.create(&#123;</span><br><span class="line">    container:&#123;</span><br><span class="line">        &#x2F;&#x2F; marginTop:25</span><br><span class="line">    &#125;,</span><br><span class="line">    pageViewStyle:&#123;</span><br><span class="line">        width:width,</span><br><span class="line">        height:25,</span><br><span class="line">        backgroundColor:&#39;rgba(0,0,0,0.4)&#39;,</span><br><span class="line">        &#x2F;&#x2F; 定位</span><br><span class="line">        position:&#39;absolute&#39;,</span><br><span class="line">        bottom:0,</span><br><span class="line">        &#x2F;&#x2F; 设置主轴的方向</span><br><span class="line">        flexDirection: &#39;row&#39;,</span><br><span class="line">        &#x2F;&#x2F; 设置测轴方式的对齐方式</span><br><span class="line">        alignItems: &#39;center&#39;,</span><br><span class="line">        &#x2F;&#x2F; 设置主轴的对齐方式</span><br><span class="line">        justifyContent: &#39;space-between&#39;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">module.exports &#x3D; ScrollImage;</span><br></pre></td></tr></table></figure>

<p>XMGNewsDetail.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">import React,&#123; Component &#125; from &#39;react&#39;;</span><br><span class="line">import &#123;</span><br><span class="line">    StyleSheet,</span><br><span class="line">    Text,</span><br><span class="line">    View,</span><br><span class="line">    WebView</span><br><span class="line">&#125; from &#39;react-native&#39;;</span><br><span class="line">class NewsDetail extends Component&lt;Props&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; 设置一些初始值(可以变化)</span><br><span class="line">    constructor(props)&#123;</span><br><span class="line">        super(props);</span><br><span class="line">        this.state &#x3D; &#123;</span><br><span class="line">            &#x2F;&#x2F; 具体的数据</span><br><span class="line">            detailData:&#39;&#39;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    render()&#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;WebView</span><br><span class="line">                automaticallyAdjustContentInsets&#x3D;&#123;true&#125;</span><br><span class="line">                source&#x3D;&#123;&#123;html: this.state.detailData&#125;&#125;</span><br><span class="line">                javaScriptEnabled&#x3D;&#123;true&#125;</span><br><span class="line">                domStorageEnabled&#x3D;&#123;true&#125;</span><br><span class="line">                &#x2F;&#x2F; startInLoadingState&#x3D;&#123;true&#125;</span><br><span class="line">                scalesPageToFit&#x3D;&#123;this.state.scalesPageToFit&#125;</span><br><span class="line">                injectedJavaScript&#x3D;&quot;</span><br><span class="line">                let p &#x3D; document.getElementsByTagName(&#39;p&#39;);</span><br><span class="line">                for(var i&#x3D;0; i&lt; p.length; i++)&#123;</span><br><span class="line">                    p[i].style.fontSize&#x3D;&#39;30px&#39;;</span><br><span class="line">                &#125;&quot;</span><br><span class="line">            &#x2F;&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">    componentDidMount()&#123;</span><br><span class="line">        &#x2F;&#x2F; 请求的路径</span><br><span class="line">        let url_api &#x3D; &#39;http:&#x2F;&#x2F;c.3g.163.com&#x2F;nc&#x2F;article&#x2F;&#39;+this.props.rowData.docid+&#39;&#x2F;full.html&#39;</span><br><span class="line">        &#x2F;&#x2F; 发送请求</span><br><span class="line">        return fetch(url_api)</span><br><span class="line">            .then(</span><br><span class="line">                (response) &#x3D;&gt; (</span><br><span class="line">                    response.json()</span><br><span class="line">                )</span><br><span class="line">            ).then(</span><br><span class="line">                (responseJson) &#x3D;&gt; &#123;</span><br><span class="line">                    let allData &#x3D; responseJson[this.props.rowData.docid];</span><br><span class="line">                    let bodyHtml &#x3D; allData[&#39;body&#39;];</span><br><span class="line">                    &#x2F;&#x2F; 拿到图片数据</span><br><span class="line">                    if(allData[&quot;img&quot;].length &gt; 0)&#123;</span><br><span class="line">                        &#x2F;&#x2F; 遍历</span><br><span class="line">                        for(let i&#x3D;0; i&lt;allData[&#39;img&#39;].length;i++)&#123;</span><br><span class="line">                            &#x2F;&#x2F; 取出单个图片对象</span><br><span class="line">                            let img &#x3D; allData[&#39;img&#39;][i];</span><br><span class="line">                            &#x2F;&#x2F; 取出src</span><br><span class="line">                            let imgSrc &#x3D; img[&#39;src&#39;];</span><br><span class="line">                            let imgHtml &#x3D; &#39;&lt;img src&#x3D;&quot;&#39; + imgSrc + &#39;&quot; width&#x3D;&quot;100%&quot;&gt;&#39;</span><br><span class="line">                            console.log(imgHtml);</span><br><span class="line">                            &#x2F;&#x2F; 替换body中的图像占位符</span><br><span class="line">                            bodyHtml &#x3D; bodyHtml.replace(img[&#39;ref&#39;],imgHtml);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    this.setState(&#123;</span><br><span class="line">                        detailData:bodyHtml</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            ).catch((error) &#x3D;&gt; &#123;</span><br><span class="line">                console.log( &quot;error&quot; )</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">const styles &#x3D; StyleSheet.create(&#123;</span><br><span class="line">    container: &#123;</span><br><span class="line">        flex:1,</span><br><span class="line">        justifyContent: &#39;center&#39;,</span><br><span class="line">        alignItems: &#39;center&#39;,</span><br><span class="line">        backgroundColor: &#39;#F5FCFF&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br><span class="line">module.exports &#x3D; NewsDetail;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/22/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/22/">22</a><span class="page-number current">23</span><a class="page-number" href="/page/24/">24</a><a class="page-number" href="/page/25/">25</a><a class="extend next" rel="next" href="/page/24/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Ories"
      src="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
  <p class="site-author-name" itemprop="name">Ories</p>
  <div class="site-description" itemprop="description">这个博客用来记录自己的生活</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">244</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">71</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/codingories" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;codingories" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ories</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('https://cdn.jsdelivr.net/npm/valine@1.3.9/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : true,
      notify     : true,
      appId      : 'HHvArpMYcwuYjNb3703JgvvS-gzGzoHsz',
      appKey     : '5lSamU58UyScrMIQcUygcD2I',
      placeholder: "欢迎畅所欲言",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : 'true'
    });
  }, window.Valine);
});
</script>

</body>
</html>
