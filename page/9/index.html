<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"codingories.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="这个博客用来记录自己的生活">
<meta property="og:type" content="website">
<meta property="og:title" content="OriesノBlog">
<meta property="og:url" content="codingories.github.io/page/9/index.html">
<meta property="og:site_name" content="OriesノBlog">
<meta property="og:description" content="这个博客用来记录自己的生活">
<meta property="article:author" content="Ories">
<meta property="article:tag" content="编程 吉他 rap">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="codingories.github.io/page/9/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-Hans'
  };
</script>

  <title>OriesノBlog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">OriesノBlog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">朱骏杰的私人博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2020/02/13/%E7%95%AA%E8%8C%84%E9%97%B9%E9%92%9F%E4%B8%89-%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8C%E9%A1%B5%E9%9D%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/13/%E7%95%AA%E8%8C%84%E9%97%B9%E9%92%9F%E4%B8%89-%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8C%E9%A1%B5%E9%9D%A2/" class="post-title-link" itemprop="url">番茄闹钟三(登录注册页面)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-13 18:48:43" itemprop="dateCreated datePublished" datetime="2020-02-13T18:48:43+08:00">2020-02-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-02-15 10:36:54" itemprop="dateModified" datetime="2020-02-15T10:36:54+08:00">2020-02-15</time>
              </span>

          
            <span id="/2020/02/13/%E7%95%AA%E8%8C%84%E9%97%B9%E9%92%9F%E4%B8%89-%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8C%E9%A1%B5%E9%9D%A2/" class="post-meta-item leancloud_visitors" data-flag-title="番茄闹钟三(登录注册页面)" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/02/13/%E7%95%AA%E8%8C%84%E9%97%B9%E9%92%9F%E4%B8%89-%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8C%E9%A1%B5%E9%9D%A2/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/13/%E7%95%AA%E8%8C%84%E9%97%B9%E9%92%9F%E4%B8%89-%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8C%E9%A1%B5%E9%9D%A2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="一-axios-配置需求"><a href="#一-axios-配置需求" class="headerlink" title="一. axios 配置需求"></a>一. axios 配置需求</h4><ul>
<li><a href="https://github.com/axios/axios" target="_blank" rel="noopener">axios 文档</a></li>
<li>配置 axios<ul>
<li>配置 appid 和 appsecret</li>
<li>配置 gwt 验证的 gwt token</li>
</ul>
</li>
</ul>
<h4 id="二-安装-axios"><a href="#二-安装-axios" class="headerlink" title="二. 安装 axios"></a>二. 安装 axios</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add axios</span><br></pre></td></tr></table></figure>

<h4 id="三-配置-axios"><a href="#三-配置-axios" class="headerlink" title="三. 配置 axios"></a>三. 配置 axios</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import axios from &#39;axios&#39;</span><br><span class="line">const appID &#x3D; &quot;PzutokfofqknrEzTaJUBkmJA&quot;</span><br><span class="line">const appSecret &#x3D; &quot;GUxobVHJT88pGFeDLtBpyT3D&quot;</span><br><span class="line"></span><br><span class="line">const instance &#x3D; axios.create(&#123;</span><br><span class="line">baseURL: &#39;https:&#x2F;&#x2F;gp-server.hunger-valley.com&#x2F;&#39;,</span><br><span class="line">headers: &#123;</span><br><span class="line">  &#39;t-app-id&#39; : appID,</span><br><span class="line">  &#39;t-app-secret&#39;: appSecret</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="四-配置拦截器"><a href="#四-配置拦截器" class="headerlink" title="四. 配置拦截器"></a>四. 配置拦截器</h4><ul>
<li>interceptors 的作用是，比如发起请求的时候在参数上再加点东西。response 也是在 response 的时候先拿一点数据，然后再走到 axios,then 的那一步</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; axios.ts</span><br><span class="line">import axios from &#39;axios&#39;</span><br><span class="line"></span><br><span class="line">const appID &#x3D; &#39;PzutokfofqknrEzTaJUBkmJA&#39;</span><br><span class="line">const appSecret &#x3D; &#39;GUxobVHJT88pGFeDLtBpyT3D&#39;</span><br><span class="line"></span><br><span class="line">const instance &#x3D; axios.create(&#123;</span><br><span class="line">  baseURL: &#39;https:&#x2F;&#x2F;gp-server.hunger-valley.com&#x2F;&#39;,</span><br><span class="line">  headers: &#123;</span><br><span class="line">    &#39;t-app-id&#39;: appID,</span><br><span class="line">    &#39;t-app-secret&#39;: appSecret</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">instance.interceptors.request.use(function (config) &#123;</span><br><span class="line">  const xToken &#x3D; localStorage.getItem(&#39;x-token&#39;)</span><br><span class="line">  if (xToken) &#123;</span><br><span class="line">    config.headers[&#39;Authorization&#39;] &#x3D; &#96;Bearer $&#123;xToken&#125;&#96;</span><br><span class="line">  &#125;</span><br><span class="line">  return config</span><br><span class="line">&#125;, function (error) &#123;</span><br><span class="line">  console.error(error)</span><br><span class="line">  return Promise.reject(error)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">instance.interceptors.response.use(function (response) &#123;</span><br><span class="line">  if (response.headers[&#39;x-token&#39;]) &#123;</span><br><span class="line">    localStorage.setItem(&#39;x-token&#39;, response.headers[&#39;x-token&#39;])</span><br><span class="line">  &#125;</span><br><span class="line">  return response</span><br><span class="line">&#125;, function (error) &#123;</span><br><span class="line">  return Promise.reject(error)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">export default instance</span><br></pre></td></tr></table></figure>

<h4 id="五-登录注册页面初步制作"><a href="#五-登录注册页面初步制作" class="headerlink" title="五. 登录注册页面初步制作"></a>五. 登录注册页面初步制作</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">import * as React from &#39;react&#39;;</span><br><span class="line">import &#123; Input,Icon,Button &#125; from &#39;antd&#39;;</span><br><span class="line">import axios from &#39;..&#x2F;..&#x2F;..&#x2F;src&#x2F;config&#x2F;axios&#39;</span><br><span class="line"></span><br><span class="line">interface ISignUpState &#123; &#x2F;&#x2F; 如果不声明会报Property &#39;account&#39; does not exist on type &#39;Readonly&lt;&#123;&#125;&gt;&#39;.的错误</span><br><span class="line">  account: string,</span><br><span class="line">  password: string,</span><br><span class="line">  passwordConformation: string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class SignUp extends React.Component&lt;any,ISignUpState&gt; &#123; &#x2F;&#x2F; 第一个参数声明prop的类型，第二个参数声明state的类型</span><br><span class="line">  constructor(props:any)&#123;</span><br><span class="line">    super(props)</span><br><span class="line">    this.state &#x3D; &#123;</span><br><span class="line">      account: &#39;&#39;,</span><br><span class="line">      password: &#39;&#39;,</span><br><span class="line">      passwordConformation: &#39;&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  onChangeAccount &#x3D; (e:any) &#x3D;&gt; &#123;</span><br><span class="line">    this.setState(&#123;account: e.target.value&#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  onChangePassword &#x3D; (e:any) &#x3D;&gt; &#123;</span><br><span class="line">    this.setState(&#123;password: e.target.value&#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  onChangePasswordConformation &#x3D; (e:any) &#x3D;&gt; &#123;</span><br><span class="line">    this.setState(&#123;passwordConformation: e.target.value&#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  submit &#x3D; async () &#x3D;&gt; &#123;</span><br><span class="line">    const &#123; account,password,passwordConformation &#125; &#x3D; this.state;</span><br><span class="line">    try&#123;</span><br><span class="line">      await axios.post(&#39;sign_up&#x2F;user&#39;,&#123;</span><br><span class="line">        account,</span><br><span class="line">        password_confirmation:passwordConformation,</span><br><span class="line">        password</span><br><span class="line">      &#125;)</span><br><span class="line">      console.log(&#39;成功&#39;)</span><br><span class="line">    &#125;catch (e) &#123;</span><br><span class="line">      throw new Error(e)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  public render() &#123;</span><br><span class="line">    const &#123; account,password,passwordConformation &#125; &#x3D; this.state;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div className&#x3D;&quot;SignUp&quot;&gt;</span><br><span class="line">        &lt;Input</span><br><span class="line">          placeholder&#x3D;&quot;请输入你的用户名&quot;</span><br><span class="line">          prefix&#x3D;&#123;&lt;Icon type&#x3D;&quot;user&quot; style&#x3D;&#123;&#123; color: &#39;rgba(0,0,0,.25)&#39; &#125;&#125; &#x2F;&gt;&#125;</span><br><span class="line">          value &#x3D; &#123;account&#125;</span><br><span class="line">          onChange&#x3D;&#123;this.onChangeAccount&#125;</span><br><span class="line">        &#x2F;&gt;</span><br><span class="line">        &lt;Input.Password value&#x3D;&#123;password&#125; placeholder&#x3D;&quot;请输入密码&quot; onChange&#x3D;&#123;this.onChangePassword&#125;&#x2F;&gt;</span><br><span class="line">        &lt;Input.Password value&#x3D;&#123;passwordConformation&#125; placeholder&#x3D;&quot;请确认密码&quot; onChange&#x3D;&#123;this.onChangePasswordConformation&#125;&#x2F;&gt;</span><br><span class="line">        &lt;Button onClick&#x3D;&#123;this.submit&#125;&gt;注册&lt;&#x2F;Button&gt;</span><br><span class="line">        &lt;&#x2F;p&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default SignUp</span><br></pre></td></tr></table></figure>

<h4 id="六-Link-跳转页面的用法"><a href="#六-Link-跳转页面的用法" class="headerlink" title="六. Link 跳转页面的用法"></a>六. Link 跳转页面的用法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;import &#123;Link&#125; from &#39;react-router-dom&#39;</span><br><span class="line">&lt;Link to&#x3D;&quot;&#x2F;login&quot;&gt;登录&lt;&#x2F;Link&gt;</span><br></pre></td></tr></table></figure>

<h4 id="七-注册页的页面样式"><a href="#七-注册页的页面样式" class="headerlink" title="七. 注册页的页面样式"></a>七. 注册页的页面样式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#SignUp&#123;</span><br><span class="line">  max-width: 500px;</span><br><span class="line">  margin: auto;</span><br><span class="line">  padding: 50px 0;</span><br><span class="line">  &gt;*&#123;</span><br><span class="line">    margin: 10px 0;</span><br><span class="line">  &#125;</span><br><span class="line">  &gt;h1&#123;</span><br><span class="line">    text-align: center;</span><br><span class="line">  &#125;</span><br><span class="line">  &gt;.loginButton&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="八-登录页的页面样式"><a href="#八-登录页的页面样式" class="headerlink" title="八. 登录页的页面样式"></a>八. 登录页的页面样式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#SignUp&#123;</span><br><span class="line">  max-width: 500px;</span><br><span class="line">  margin: auto;</span><br><span class="line">  padding: 50px 0;</span><br><span class="line">  &gt;*&#123;</span><br><span class="line">    margin: 10px 0;</span><br><span class="line">  &#125;</span><br><span class="line">  &gt;h1&#123;</span><br><span class="line">    text-align: center;</span><br><span class="line">  &#125;</span><br><span class="line">  &gt;.loginButton&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="九-将-onChangeAccount-和-onChangePassword-抽成一个"><a href="#九-将-onChangeAccount-和-onChangePassword-抽成一个" class="headerlink" title="九. 将 onChangeAccount 和 onChangePassword 抽成一个"></a>九. 将 onChangeAccount 和 onChangePassword 抽成一个</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">interface ILoginState &#123;</span><br><span class="line">  account?: string,</span><br><span class="line">  password?: string</span><br><span class="line">&#125;</span><br><span class="line">onChange &#x3D; (key: keyof ILoginState,value:string) &#x3D;&gt; &#123;</span><br><span class="line">  this.setState(&#123;[key]:value&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="十-开始制作首页"><a href="#十-开始制作首页" class="headerlink" title="十. 开始制作首页"></a>十. 开始制作首页</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">到了首页检查用户登录信息，如果可以登录就直接登录，如果不能登录也就是token是过期的话，我们就跳转到登录页</span><br><span class="line">&#x2F;&#x2F; Index.ts</span><br><span class="line">getMe &#x3D; async () &#x3D;&gt; &#123;</span><br><span class="line">    try&#123;</span><br><span class="line">      const response &#x3D; await axios.get(&#39;me&#39;)</span><br><span class="line">      this.setState(&#123;user: response.data&#125;)</span><br><span class="line">    &#125;catch (e) &#123;</span><br><span class="line">      console.error(&#39;获取用户失败&#39;)</span><br><span class="line">      if(e.response.status &#x3D;&#x3D;&#x3D; 401)&#123;</span><br><span class="line">        this.props.history.push(&#39;&#x2F;login&#39;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="十一-全局拦截-完成登出逻辑"><a href="#十一-全局拦截-完成登出逻辑" class="headerlink" title="十一. 全局拦截,完成登出逻辑"></a>十一. 全局拦截,完成登出逻辑</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 服务器约定，凡是用户获取失败，返回状态都是401</span><br><span class="line">instance.interceptors.response.use(function (response) &#123;</span><br><span class="line">  if (response.headers[&#39;x-token&#39;]) &#123;</span><br><span class="line">    localStorage.setItem(&#39;x-token&#39;, response.headers[&#39;x-token&#39;])</span><br><span class="line">  &#125;</span><br><span class="line">  return response</span><br><span class="line">&#125;, function (error) &#123;</span><br><span class="line">  window.location.href&#x3D;&#39;&#x2F;login&#39; &#x2F;&#x2F; 页面会再次跳转,粗暴的方式</span><br><span class="line">  return Promise.reject(error)</span><br><span class="line">&#125;)</span><br><span class="line">&#x2F;&#x2F; 通过react Router的方式，不会刷新</span><br><span class="line">&#x2F;&#x2F; 封装history.ts</span><br><span class="line">import &#123; createBrowserHistory &#125; from &#39;history&#39;;</span><br><span class="line">const history &#x3D; createBrowserHistory()</span><br><span class="line"></span><br><span class="line">export default  history</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 解决app.tsx没监听到组件的变化问题</span><br><span class="line">import history from &#39;.&#x2F;config&#x2F;history&#39;</span><br><span class="line">class Component extends React.Component  &#123;</span><br><span class="line">  public render()&#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;Router history&#x3D;&#123;history&#125;&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;Route exact&#x3D;&#123;true&#125; path&#x3D;&quot;&#x2F;&quot; component&#x3D;&#123;Index&#125;&#x2F;&gt;</span><br><span class="line">          &lt;Route path&#x3D;&quot;&#x2F;login&quot; component&#x3D;&#123;Login&#125; &#x2F;&gt;</span><br><span class="line">          &lt;Route path&#x3D;&quot;&#x2F;signUp&quot; component&#x3D;&#123;SignUp&#125; &#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;Router&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">export default Component</span><br></pre></td></tr></table></figure>
<h4 id="最后-个人微信-欢迎交流！"><a href="#最后-个人微信-欢迎交流！" class="headerlink" title="最后,个人微信,欢迎交流！"></a>最后,个人微信,欢迎交流！</h4><p><img src="https://i.loli.net/2020/01/30/mbV7Q3XqxedsJKP.jpg" alt="wechat0.jpg"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2020/02/12/python-boss%E7%9B%B4%E8%81%98%E8%87%AA%E5%8A%A8%E5%8C%96%E8%84%9A%E6%9C%AC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/12/python-boss%E7%9B%B4%E8%81%98%E8%87%AA%E5%8A%A8%E5%8C%96%E8%84%9A%E6%9C%AC/" class="post-title-link" itemprop="url">python-boss直聘自动化脚本</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-12 20:13:49" itemprop="dateCreated datePublished" datetime="2020-02-12T20:13:49+08:00">2020-02-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-02-13 18:17:01" itemprop="dateModified" datetime="2020-02-13T18:17:01+08:00">2020-02-13</time>
              </span>

          
            <span id="/2020/02/12/python-boss%E7%9B%B4%E8%81%98%E8%87%AA%E5%8A%A8%E5%8C%96%E8%84%9A%E6%9C%AC/" class="post-meta-item leancloud_visitors" data-flag-title="python-boss直聘自动化脚本" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/02/12/python-boss%E7%9B%B4%E8%81%98%E8%87%AA%E5%8A%A8%E5%8C%96%E8%84%9A%E6%9C%AC/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/12/python-boss%E7%9B%B4%E8%81%98%E8%87%AA%E5%8A%A8%E5%8C%96%E8%84%9A%E6%9C%AC/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ol>
<li>利用 python 实现自动发送信息</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">import random</span><br><span class="line">import sys</span><br><span class="line"></span><br><span class="line">from pymouse import PyMouse</span><br><span class="line">from pykeyboard import PyKeyboard</span><br><span class="line"></span><br><span class="line">from time import sleep</span><br><span class="line"></span><br><span class="line">m &#x3D; PyMouse()</span><br><span class="line">k &#x3D; PyKeyboard()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def dialog_once():</span><br><span class="line">    t &#x3D; round(random.uniform(2.0, 3.0), 2)</span><br><span class="line">    sleep(t)</span><br><span class="line">    m.click(685, 262, 1)</span><br><span class="line">    sleep(t)</span><br><span class="line">    m.click(740, 760, 1)</span><br><span class="line">    sleep(t)</span><br><span class="line">    m.click(740, 760, 1)</span><br><span class="line">    sleep(t)</span><br><span class="line">    m.click(470, 768, 1)</span><br><span class="line">    sleep(t)</span><br><span class="line">    m.click(662, 703, 1)</span><br><span class="line">    sleep(t)</span><br><span class="line">    m.click(867, 770, 1)</span><br><span class="line">    sleep(t)</span><br><span class="line">    m.click(456, 90, 1)</span><br><span class="line">    sleep(t)</span><br><span class="line">    m.click(456, 90, 1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def switch():</span><br><span class="line">    m.press(680, 440)</span><br><span class="line">    sleep(1)</span><br><span class="line">    m.drag(685, 270)</span><br><span class="line">    sleep(0.1)</span><br><span class="line">    m.release(685, 270)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def start():</span><br><span class="line">    sleep(1.5)</span><br><span class="line">    dialog_once()</span><br><span class="line">    sleep(3)</span><br><span class="line">    switch()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">for n in range(sys.maxsize):</span><br><span class="line">    start()</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2020/02/12/%E7%95%AA%E8%8C%84%E9%97%B9%E9%92%9F%E4%BA%8C-%E5%BC%95%E5%85%A5react-router/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/12/%E7%95%AA%E8%8C%84%E9%97%B9%E9%92%9F%E4%BA%8C-%E5%BC%95%E5%85%A5react-router/" class="post-title-link" itemprop="url">番茄闹钟二(引入react-router)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-12 17:04:58" itemprop="dateCreated datePublished" datetime="2020-02-12T17:04:58+08:00">2020-02-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-02-13 18:15:46" itemprop="dateModified" datetime="2020-02-13T18:15:46+08:00">2020-02-13</time>
              </span>

          
            <span id="/2020/02/12/%E7%95%AA%E8%8C%84%E9%97%B9%E9%92%9F%E4%BA%8C-%E5%BC%95%E5%85%A5react-router/" class="post-meta-item leancloud_visitors" data-flag-title="番茄闹钟二(引入react-router)" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/02/12/%E7%95%AA%E8%8C%84%E9%97%B9%E9%92%9F%E4%BA%8C-%E5%BC%95%E5%85%A5react-router/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/12/%E7%95%AA%E8%8C%84%E9%97%B9%E9%92%9F%E4%BA%8C-%E5%BC%95%E5%85%A5react-router/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="1-安装-react-router"><a href="#1-安装-react-router" class="headerlink" title="1. 安装 react-router"></a>1. 安装 react-router</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yarn add react-router-dom</span><br><span class="line">yarn add @types&#x2F;react-router-dom &#x2F;&#x2F; 引入声明类型文件</span><br></pre></td></tr></table></figure>

<h4 id="2-引入-react-router"><a href="#2-引入-react-router" class="headerlink" title="2. 引入 react-router"></a>2. 引入 react-router</h4><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">import React from &#39;react&#39;</span><br><span class="line">import &#39;.&#x2F;App.css&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import &#123;BrowserRouter as Router, Switch, Route, Link, useRouteMatch, useParams&#125; from &#39;react-router-dom&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function Home() &#123;</span><br><span class="line">  return &lt;h2&gt;Home&lt;&#x2F;h2&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function About() &#123;</span><br><span class="line">  return &lt;h2&gt;About&lt;&#x2F;h2&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function Topics() &#123;</span><br><span class="line">  let match &#x3D; useRouteMatch()</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h2&gt;Topics&lt;&#x2F;h2&gt;</span><br><span class="line"></span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;Link to&#x3D;&#123;&#96;$&#123;match.url&#125;&#x2F;components&#96;&#125;&gt;Components&lt;&#x2F;Link&gt;</span><br><span class="line">        &lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;Link to&#x3D;&#123;&#96;$&#123;match.url&#125;&#x2F;props-v-state&#96;&#125;&gt;</span><br><span class="line">            Props v. State</span><br><span class="line">          &lt;&#x2F;Link&gt;</span><br><span class="line">        &lt;&#x2F;li&gt;</span><br><span class="line">      &lt;&#x2F;ul&gt;</span><br><span class="line"></span><br><span class="line">      &#123;&#x2F;* The Topics page has its own &lt;Switch&gt; with more routes</span><br><span class="line">          that build on the &#x2F;topics URL path. You can think of the</span><br><span class="line">          2nd &lt;Route&gt; here as an &quot;index&quot; page for all topics, or</span><br><span class="line">          the page that is shown when no topic is selected *&#x2F;&#125;</span><br><span class="line">      &lt;Switch&gt;</span><br><span class="line">        &lt;Route path&#x3D;&#123;&#96;$&#123;match.path&#125;&#x2F;:topicId&#96;&#125;&gt;</span><br><span class="line">          &lt;Topic&#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;Route&gt;</span><br><span class="line">        &lt;Route path&#x3D;&#123;match.path&#125;&gt;</span><br><span class="line">          &lt;h3&gt;Please select a topic.&lt;&#x2F;h3&gt;</span><br><span class="line">        &lt;&#x2F;Route&gt;</span><br><span class="line">      &lt;&#x2F;Switch&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function Topic() &#123;</span><br><span class="line">  let &#123;topicId&#125; &#x3D; useParams()</span><br><span class="line">  return &lt;h3&gt;Requested topic ID: &#123;topicId&#125;&lt;&#x2F;h3&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default function App() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;Router&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">          &lt;li&gt;</span><br><span class="line">            &lt;Link to&#x3D;&quot;&#x2F;&quot;&gt;Home&lt;&#x2F;Link&gt;</span><br><span class="line">          &lt;&#x2F;li&gt;</span><br><span class="line">          &lt;li&gt;</span><br><span class="line">            &lt;Link to&#x3D;&quot;&#x2F;about&quot;&gt;About&lt;&#x2F;Link&gt;</span><br><span class="line">          &lt;&#x2F;li&gt;</span><br><span class="line">          &lt;li&gt;</span><br><span class="line">            &lt;Link to&#x3D;&quot;&#x2F;topics&quot;&gt;Topics&lt;&#x2F;Link&gt;</span><br><span class="line">          &lt;&#x2F;li&gt;</span><br><span class="line">        &lt;&#x2F;ul&gt;</span><br><span class="line"></span><br><span class="line">        &lt;Switch&gt;</span><br><span class="line">          &lt;Route path&#x3D;&quot;&#x2F;about&quot;&gt;</span><br><span class="line">            &lt;About&#x2F;&gt;</span><br><span class="line">          &lt;&#x2F;Route&gt;</span><br><span class="line">          &lt;Route path&#x3D;&quot;&#x2F;topics&quot;&gt;</span><br><span class="line">            &lt;Topics&#x2F;&gt;</span><br><span class="line">          &lt;&#x2F;Route&gt;</span><br><span class="line">          &lt;Route path&#x3D;&quot;&#x2F;&quot;&gt;</span><br><span class="line">            &lt;Home&#x2F;&gt;</span><br><span class="line">          &lt;&#x2F;Route&gt;</span><br><span class="line">        &lt;&#x2F;Switch&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;Router&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></code></pre>
<h4 id="3-路由的基本引入"><a href="#3-路由的基本引入" class="headerlink" title="3. 路由的基本引入"></a>3. 路由的基本引入</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; App.tsx</span><br><span class="line">import React from &#39;react&#39;</span><br><span class="line">import &#39;.&#x2F;App.css&#39;</span><br><span class="line">import &#123;BrowserRouter as Router, Route&#125; from &#39;react-router-dom&#39;</span><br><span class="line">import Login from &quot;.&#x2F;components&#x2F;Login&#x2F;Login&quot;</span><br><span class="line">import SignUp from &quot;.&#x2F;components&#x2F;SignUp&#x2F;SignUp&quot;</span><br><span class="line">import Index from &#39;.&#x2F;components&#x2F;Index&#x2F;Index&#39;</span><br><span class="line"></span><br><span class="line">class Component extends React.Component  &#123;</span><br><span class="line">  public render()&#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;Router&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;Route exact&#x3D;&#123;true&#125; path&#x3D;&quot;&#x2F;&quot; component&#x3D;&#123;Index&#125;&#x2F;&gt;</span><br><span class="line">          &lt;Route path&#x3D;&quot;&#x2F;login&quot; component&#x3D;&#123;Login&#125; &#x2F;&gt;</span><br><span class="line">          &lt;Route path&#x3D;&quot;&#x2F;signUp&quot; component&#x3D;&#123;SignUp&#125; &#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;Router&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">export default Component</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; index.tsx</span><br><span class="line">import * as React from &#39;react&#39;;</span><br><span class="line"></span><br><span class="line">class Component extends React.Component &#123;</span><br><span class="line">  public render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div className&#x3D;&quot;Component&quot;&gt;</span><br><span class="line">        Index</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Component</span><br></pre></td></tr></table></figure>

<h4 id="4-Index-页面跳转到登录页面"><a href="#4-Index-页面跳转到登录页面" class="headerlink" title="4. Index 页面跳转到登录页面"></a>4. Index 页面跳转到登录页面</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import * as React from &#39;react&#39;;</span><br><span class="line">import &#123; Button &#125; from &#39;antd&#39;;</span><br><span class="line"></span><br><span class="line">interface Irouter &#123;</span><br><span class="line">  history: any</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; router 给 Index 传 props 属性, 要声明 props 的类型,也可以直接声明一个接口</span><br><span class="line">class Component extends React.Component&lt;Irouter&gt; &#123;</span><br><span class="line"></span><br><span class="line">  login &#x3D; ()&#x3D;&gt;&#123;</span><br><span class="line">    this.props.history.push(&#39;&#x2F;login&#39;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div className&#x3D;&quot;Component&quot;&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;this.login&#125;&gt;登录&lt;&#x2F;Button&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Component</span><br></pre></td></tr></table></figure>

<h4 id="5-withRouter-的用法"><a href="#5-withRouter-的用法" class="headerlink" title="5. withRouter 的用法"></a>5. withRouter 的用法</h4><ul>
<li>index 是直接通过 Router 组件传过来的值，所以会带有 props.history,如果不是通过 Router 渲染出来的路由,也想知道当前的路由信息，那么必须要用到 withRouter 的组件，</li>
</ul>
<h4 id="6-BrowserRouter-和-HashRouter-的区别"><a href="#6-BrowserRouter-和-HashRouter-的区别" class="headerlink" title="6. BrowserRouter 和 HashRouter 的区别"></a>6. BrowserRouter 和 HashRouter 的区别</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># 后面相当于就是个 hash</span><br><span class="line"></span><br><span class="line">browser 的坏处是，如果用 BrowerRouter,部署到服务器上输入</span><br><span class="line">http:&#x2F;&#x2F;localhost:3000&#x2F;login可能会找不到,只能找到http:&#x2F;&#x2F;localhost:3000&#x2F;,</span><br><span class="line">因为这个是个单页面应用，单页应用只是映射到 index 上面，login 的话可能会返回 404,如果使用 browserrouter,</span><br><span class="line">必须要配置服务器把http:&#x2F;&#x2F;localhost:3000&#x2F;下的所有路径指向index这个入口文件</span><br></pre></td></tr></table></figure>

<h4 id="最后-个人微信-欢迎交流！"><a href="#最后-个人微信-欢迎交流！" class="headerlink" title="最后,个人微信,欢迎交流！"></a>最后,个人微信,欢迎交流！</h4><p><img src="https://i.loli.net/2020/01/30/mbV7Q3XqxedsJKP.jpg" alt="wechat0.jpg"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2020/02/10/%E7%95%AA%E8%8C%84%E9%97%B9%E9%92%9F%E4%B8%80-React-Antd-Typescript-%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/10/%E7%95%AA%E8%8C%84%E9%97%B9%E9%92%9F%E4%B8%80-React-Antd-Typescript-%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/" class="post-title-link" itemprop="url">番茄闹钟一(React-Antd-Typescript 框架搭建)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-10 18:51:38" itemprop="dateCreated datePublished" datetime="2020-02-10T18:51:38+08:00">2020-02-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-02-12 13:12:11" itemprop="dateModified" datetime="2020-02-12T13:12:11+08:00">2020-02-12</time>
              </span>

          
            <span id="/2020/02/10/%E7%95%AA%E8%8C%84%E9%97%B9%E9%92%9F%E4%B8%80-React-Antd-Typescript-%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/" class="post-meta-item leancloud_visitors" data-flag-title="番茄闹钟一(React-Antd-Typescript 框架搭建)" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/02/10/%E7%95%AA%E8%8C%84%E9%97%B9%E9%92%9F%E4%B8%80-React-Antd-Typescript-%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/10/%E7%95%AA%E8%8C%84%E9%97%B9%E9%92%9F%E4%B8%80-React-Antd-Typescript-%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="一-主要文档"><a href="#一-主要文档" class="headerlink" title="一. 主要文档"></a>一. 主要文档</h4><ul>
<li><a href="https://reactjs.org/docs/hello-world.html" target="_blank" rel="noopener">React</a></li>
<li><a href="https://reacttraining.com/react-router" target="_blank" rel="noopener">React Router</a></li>
<li><a href="https://ant.design/docs/react/getting-started-cn" target="_blank" rel="noopener">Ant design</a></li>
<li><a href="http://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes.html" target="_blank" rel="noopener">TypeScript</a></li>
<li><a href="https://redux.js.org/introduction/getting-started" target="_blank" rel="noopener">Redux</a></li>
</ul>
<h4 id="二-开始使用-体验-react-脚手架"><a href="#二-开始使用-体验-react-脚手架" class="headerlink" title="二. 开始使用,体验 react 脚手架"></a>二. 开始使用,体验 react 脚手架</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npx create-react-app react-app-demo</span><br><span class="line">cd react-app-demo</span><br><span class="line">yarn start</span><br></pre></td></tr></table></figure>

<h4 id="三-跟着文档做"><a href="#三-跟着文档做" class="headerlink" title="三. 跟着文档做"></a>三. 跟着文档做</h4><ol>
<li>渲染一个元素</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ReactDOM.render(&lt;h1&gt;Hello, world!&lt;&#x2F;h1&gt;, document.getElementById(&#39;root&#39;));</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>渲染 JSX 的使用</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const name &#x3D; &#39;Josh Perez&#39;;</span><br><span class="line">const element &#x3D; &lt;h1&gt;Hello, &#123;name&#125;&lt;&#x2F;h1&gt;;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(element, document.getElementById(&#39;root&#39;));</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>渲染一个时钟</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function tick() &#123;</span><br><span class="line">  const element &#x3D; (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;Hello, world!&lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;h2&gt;It is &#123;new Date().toLocaleTimeString()&#125;.&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">  ReactDOM.render(element, document.getElementById(&#39;root&#39;));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">setInterval(tick, 1000);</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p>组件部分 Components and Props</p>
<ul>
<li>函数组件</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; app.js</span><br><span class="line">import React from &#39;react&#39;;</span><br><span class="line"></span><br><span class="line">function Welcome(props) &#123;</span><br><span class="line">  return &lt;h1&gt;Hello, &#123;props.name&#125;&lt;&#x2F;h1&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Welcome;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; index.js</span><br><span class="line">import Welcome from &#39;.&#x2F;App&#39;;</span><br><span class="line">const element &#x3D; &lt;Welcome name&#x3D;&quot;Ories&quot; &#x2F;&gt;;</span><br><span class="line">ReactDOM.render(element, document.getElementById(&#39;root&#39;));</span><br></pre></td></tr></table></figure>

<ul>
<li>类组件</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; app.js</span><br><span class="line">class Welcome extends React.Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return &lt;h1&gt;Hello, &#123;this.props.name&#125;&lt;&#x2F;h1&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; index.js</span><br><span class="line">import Welcome from &#39;.&#x2F;App&#39;;</span><br><span class="line">const element &#x3D; &lt;Welcome name&#x3D;&quot;Ories1&quot; &#x2F;&gt;;</span><br><span class="line">ReactDOM.render(element, document.getElementById(&#39;root&#39;));</span><br></pre></td></tr></table></figure>

<ul>
<li>props</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; props 就是父组件传给子组件的值</span><br></pre></td></tr></table></figure>

<ul>
<li>注意</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; return 的时候必须要div包裹起来</span><br><span class="line">function App() &#123;</span><br><span class="line">   return (</span><br><span class="line">     &lt;div&gt;</span><br><span class="line">       &lt;Welcome name&#x3D;&quot;Sara&quot; &#x2F;&gt;</span><br><span class="line">       &lt;Welcome name&#x3D;&quot;Cahal&quot; &#x2F;&gt;</span><br><span class="line">       &lt;Welcome name&#x3D;&quot;Edite&quot; &#x2F;&gt;</span><br><span class="line">     &lt;&#x2F;div&gt;</span><br><span class="line">   );</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>State 和 Lifecycle</p>
<ul>
<li><p>State</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; index.js</span><br><span class="line">class Clock extends React.Component &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.state &#x3D; &#123;date: new Date()&#125;; &#x2F;&#x2F; 在这里给state赋值</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;Hello, world!&lt;&#x2F;h1&gt;</span><br><span class="line">        &lt;h2&gt;It is &#123;this.state.date.toLocaleTimeString()&#125;.&lt;&#x2F;h2&gt;</span><br><span class="line">        &#x2F;&#x2F; 在render这个部分,通过this.state.date访问到这个属性</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(&lt;Clock &#x2F;&gt;, document.getElementById(&#39;root&#39;));</span><br></pre></td></tr></table></figure>
</li>
<li><p>Lifecycle</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">class Clock extends React.Component &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.state &#x3D; &#123;date: new Date()&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    this.timerID &#x3D; setInterval(</span><br><span class="line">      () &#x3D;&gt; this.tick(),</span><br><span class="line">      1000</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentWillUnmount() &#123;</span><br><span class="line">    clearInterval(this.timerID);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  tick() &#123;</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      date: new Date()</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;Hello, world!&lt;&#x2F;h1&gt;</span><br><span class="line">        &lt;h2&gt;It is &#123;this.state.date.toLocaleTimeString()&#125;.&lt;&#x2F;h2&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(&lt;Clock&#x2F;&gt;, document.getElementById(&#39;root&#39;));</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>处理事件</p>
<ul>
<li><p>简单的事件绑定</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">helloWorld()&#123;</span><br><span class="line">  console.log(1)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">render() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;Hello, world!&lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;button onClick&#x3D;&#123;this.helloWorld&#125;&gt;</span><br><span class="line">        按钮</span><br><span class="line">      &lt;&#x2F;button&gt;</span><br><span class="line">      &lt;h2&gt;It is &#123;this.state.date.toLocaleTimeString()&#125;.&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>toggle 案例-绑定 this</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">class Toggle extends React.Component &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.state &#x3D; &#123;isToggleOn: true&#125;;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; This binding is necessary to make &#96;this&#96; work in the callback</span><br><span class="line">    this.handleClick &#x3D; this.handleClick.bind(this);</span><br><span class="line">    &#x2F;&#x2F; 把this进行绑定，点击一个按钮，在react中经常会出现bind this这种情况，</span><br><span class="line">    &#x2F;&#x2F; 因为点击一个按钮,其event经常会指向dom元素,而不是指向react class本身,所以需要bind this</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleClick() &#123;</span><br><span class="line">    this.setState(state &#x3D;&gt; (&#123;</span><br><span class="line">      isToggleOn: !state.isToggleOn</span><br><span class="line">    &#125;));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;button onClick&#x3D;&#123;this.handleClick&#125;&gt;</span><br><span class="line">        &#123;this.state.isToggleOn ? &#39;ON&#39; : &#39;OFF&#39;&#125;</span><br><span class="line">      &lt;&#x2F;button&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Toggle &#x2F;&gt;,</span><br><span class="line">  document.getElementById(&#39;root&#39;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>条件渲染</p>
<ul>
<li><p>案例一</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function UserGreeting(props) &#123;</span><br><span class="line">  return &lt;h1&gt;Welcome back!&lt;&#x2F;h1&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function GuestGreeting(props) &#123;</span><br><span class="line">  return &lt;h1&gt;Please sign up.&lt;&#x2F;h1&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function Greeting(props) &#123;</span><br><span class="line">  const isLoggedIn &#x3D; props.isLoggedIn;</span><br><span class="line">  if (isLoggedIn) &#123;</span><br><span class="line">    return &lt;UserGreeting &#x2F;&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">  return &lt;GuestGreeting &#x2F;&gt;;</span><br><span class="line">&#125;</span><br><span class="line">  ReactDOM.render(&lt;Greeting isLoggedIn&#x3D;&#123;true&#125; &#x2F;&gt;,   document.getElementById(&#39;root&#39;));</span><br></pre></td></tr></table></figure>
</li>
<li><p>案例二,按钮切换登录状态</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">function UserGreeting(props) &#123;</span><br><span class="line">  return &lt;h1&gt;Welcome back!&lt;&#x2F;h1&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function GuestGreeting(props) &#123;</span><br><span class="line">  return &lt;h1&gt;Please sign up.&lt;&#x2F;h1&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function Greeting(props) &#123;</span><br><span class="line">  const isLoggedIn &#x3D; props.isLoggedIn;</span><br><span class="line">  if (isLoggedIn) &#123;</span><br><span class="line">    return &lt;UserGreeting &#x2F;&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">  return &lt;GuestGreeting &#x2F;&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function LoginButton(props) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;button onClick&#x3D;&#123;props.onClick&#125;&gt;</span><br><span class="line">      Login</span><br><span class="line">    &lt;&#x2F;button&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function LogoutButton(props) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;button onClick&#x3D;&#123;props.onClick&#125;&gt;</span><br><span class="line">      Logout</span><br><span class="line">    &lt;&#x2F;button&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class LoginControl extends React.Component &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.handleLoginClick &#x3D; this.handleLoginClick.bind(this);</span><br><span class="line">    this.handleLogoutClick &#x3D; this.handleLogoutClick.bind(this);</span><br><span class="line">    this.state &#x3D; &#123;isLoggedIn: false&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleLoginClick() &#123;</span><br><span class="line">    this.setState(&#123;isLoggedIn: true&#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleLogoutClick() &#123;</span><br><span class="line">    this.setState(&#123;isLoggedIn: false&#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    const isLoggedIn &#x3D; this.state.isLoggedIn;</span><br><span class="line">    let button;</span><br><span class="line"></span><br><span class="line">    if (isLoggedIn) &#123;</span><br><span class="line">      button &#x3D; &lt;LogoutButton onClick&#x3D;&#123;this.handleLogoutClick&#125; &#x2F;&gt;;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      button &#x3D; &lt;LoginButton onClick&#x3D;&#123;this.handleLoginClick&#125; &#x2F;&gt;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;Greeting isLoggedIn&#x3D;&#123;isLoggedIn&#125; &#x2F;&gt;</span><br><span class="line">        &#123;button&#125;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;LoginControl &#x2F;&gt;,</span><br><span class="line">  document.getElementById(&#39;root&#39;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>List 和 Keys</p>
<ul>
<li><p>渲染列表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const numbers &#x3D; [1, 2, 3, 4, 5];</span><br><span class="line">const listItems &#x3D; numbers.map((number) &#x3D;&gt;</span><br><span class="line">&lt;li key&#x3D;&#123;number.toString()&#125;&gt;&#123;number&#125;&lt;&#x2F;li&gt;</span><br><span class="line">&#x2F;&#x2F; 要加keys</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;ul&gt;&#123;listItems&#125;&lt;&#x2F;ul&gt;,</span><br><span class="line">  document.getElementById(&#39;root&#39;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Forms 表单提交案例</p>
<ul>
<li>输入的值会变大写</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">class NameForm extends React.Component &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.state &#x3D; &#123;value: &#39;&#39;&#125;;</span><br><span class="line"></span><br><span class="line">    this.handleChange &#x3D; this.handleChange.bind(this);</span><br><span class="line">    this.handleSubmit &#x3D; this.handleSubmit.bind(this);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleChange(event) &#123;</span><br><span class="line">    this.setState(&#123;value: event.target.value&#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleSubmit(event) &#123;</span><br><span class="line">    alert(&#39;A name was submitted: &#39; + this.state.value);</span><br><span class="line">    event.preventDefault();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;form onSubmit&#x3D;&#123;this.handleSubmit&#125;&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">          Name:</span><br><span class="line">          &lt;input type&#x3D;&quot;text&quot; value&#x3D;&#123;this.state.value.toUpperCase()&#125; onChange&#x3D;&#123;this.handleChange&#125; &#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;label&gt;</span><br><span class="line">        &lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;Submit&quot; &#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;form&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;NameForm &#x2F;&gt;,</span><br><span class="line">  document.getElementById(&#39;root&#39;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p>状态提升</p>
<ul>
<li><p>水有没有开</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">function BoilingVerdict(props) &#123;</span><br><span class="line">if (props.celsius &gt;&#x3D; 100) &#123;</span><br><span class="line">  return &lt;p&gt;The water would boil.&lt;&#x2F;p&gt;;</span><br><span class="line">&#125;</span><br><span class="line">return &lt;p&gt;The water would not boil.&lt;&#x2F;p&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Calculator extends React.Component &#123;</span><br><span class="line">constructor(props) &#123;</span><br><span class="line">  super(props);</span><br><span class="line">  this.handleChange &#x3D; this.handleChange.bind(this);</span><br><span class="line">  this.state &#x3D; &#123;temperature: &#39;&#39;&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">handleChange(e) &#123;</span><br><span class="line">  this.setState(&#123;temperature: e.target.value&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">render() &#123;</span><br><span class="line">  const temperature &#x3D; this.state.temperature;</span><br><span class="line">  return (</span><br><span class="line">    &lt;fieldset&gt;</span><br><span class="line">      &lt;legend&gt;Enter temperature in Celsius:&lt;&#x2F;legend&gt;</span><br><span class="line">      &lt;input</span><br><span class="line">        value&#x3D;&#123;temperature&#125;</span><br><span class="line">        onChange&#x3D;&#123;this.handleChange&#125; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">      &lt;BoilingVerdict</span><br><span class="line">        celsius&#x3D;&#123;parseFloat(temperature)&#125; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;&#x2F;fieldset&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">&lt;Calculator &#x2F;&gt;,</span><br><span class="line">document.getElementById(&#39;root&#39;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>组合和继承</p>
<ul>
<li><p>组合</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; index.js</span><br><span class="line">function FancyBorder(props) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div className&#x3D;&#123;&#39;FancyBorder FancyBorder-&#39; + props.color&#125;&gt;</span><br><span class="line">      &#123;props.children&#125;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function WelcomeDialog() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;FancyBorder color&#x3D;&quot;red&quot;&gt;</span><br><span class="line">    &#x2F;&#x2F; 这里可以改成green, blue</span><br><span class="line">      &lt;h1 className&#x3D;&quot;Dialog-title&quot;&gt;</span><br><span class="line">        Welcome</span><br><span class="line">      &lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;p className&#x3D;&quot;Dialog-message&quot;&gt;</span><br><span class="line">        Thank you for visiting our spacecraft!</span><br><span class="line">      &lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;FancyBorder&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;WelcomeDialog &#x2F;&gt;,</span><br><span class="line">  document.getElementById(&#39;root&#39;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; index.css</span><br><span class="line">.FancyBorder &#123;</span><br><span class="line">  border: 1px solid;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.FancyBorder-red&#123;</span><br><span class="line">  border-color: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.FancyBorder-blue&#123;</span><br><span class="line">  border-color: blue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.FancyBorder-green&#123;</span><br><span class="line">  border-color: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>继承</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">    function FancyBorder(props) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div className&#x3D;&#123;&#39;FancyBorder FancyBorder-&#39; + props.color&#125;&gt;</span><br><span class="line">      &#123;props.children&#125;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function Dialog(props) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;FancyBorder color&#x3D;&quot;blue&quot;&gt;</span><br><span class="line">      &lt;h1 className&#x3D;&quot;Dialog-title&quot;&gt;</span><br><span class="line">        &#123;props.title&#125;</span><br><span class="line">      &lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;p className&#x3D;&quot;Dialog-message&quot;&gt;</span><br><span class="line">        &#123;props.message&#125;</span><br><span class="line">      &lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;FancyBorder&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function WelcomeDialog() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;Dialog</span><br><span class="line">      title&#x3D;&quot;Welcome&quot;</span><br><span class="line">      message&#x3D;&quot;Thank you for visiting our sda!&quot; &#x2F;&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ol>
<h4 id="四-TypeScript-简介"><a href="#四-TypeScript-简介" class="headerlink" title="四. TypeScript 简介"></a>四. TypeScript 简介</h4><ol>
<li><p>案例一</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function greeter(person: string) &#123;</span><br><span class="line">  return &quot;Hello, &quot; + person;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let user &#x3D; &quot;Jane User&quot;; &#x2F;&#x2F; 如果在这个地方改成bool,数字，下面一行会报错</span><br><span class="line"></span><br><span class="line">document.body.textContent &#x3D; greeter(user);</span><br></pre></td></tr></table></figure>
</li>
<li><p>定义 Person 的对象类型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; interface 主要用在对象上面</span><br><span class="line">interface Person &#123;</span><br><span class="line">  firstName: string;</span><br><span class="line">  lastName: string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function greeter(person: Person) &#123;</span><br><span class="line">    return &quot;Hello, &quot; + person.firstName + &quot; &quot; + person.lastName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let user &#x3D; &#123; firstName: &quot;Jane&quot;, lastName: &quot;User&quot; &#125;;</span><br><span class="line"></span><br><span class="line">document.body.textContent &#x3D; greeter(user);</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="五-构建-React-Antd-Typescript-项目"><a href="#五-构建-React-Antd-Typescript-项目" class="headerlink" title="五. 构建 React+Antd+Typescript 项目"></a>五. 构建 React+Antd+Typescript 项目</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yarn create react-app potato --template typescript</span><br><span class="line">yarn add antd</span><br><span class="line">&#x2F;&#x2F; app.css</span><br><span class="line">@import &#39;~antd&#x2F;dist&#x2F;antd.css&#39;;</span><br></pre></td></tr></table></figure>

<h4 id="最后-个人微信-欢迎交流！"><a href="#最后-个人微信-欢迎交流！" class="headerlink" title="最后,个人微信,欢迎交流！"></a>最后,个人微信,欢迎交流！</h4><p><img src="https://i.loli.net/2020/01/30/mbV7Q3XqxedsJKP.jpg" alt="wechat0.jpg"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2020/02/08/%E6%97%BA%E8%B4%A2%E8%AE%B0%E4%BA%8B%E6%9C%AC-%E6%A0%87%E7%AD%BE%E9%A1%B5-%E6%A0%87%E7%AD%BE%E7%BC%96%E8%BE%91%E9%A1%B5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/08/%E6%97%BA%E8%B4%A2%E8%AE%B0%E4%BA%8B%E6%9C%AC-%E6%A0%87%E7%AD%BE%E9%A1%B5-%E6%A0%87%E7%AD%BE%E7%BC%96%E8%BE%91%E9%A1%B5/" class="post-title-link" itemprop="url">旺财记事本(标签页 + 标签编辑页)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-08 16:13:57" itemprop="dateCreated datePublished" datetime="2020-02-08T16:13:57+08:00">2020-02-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-02-09 20:58:28" itemprop="dateModified" datetime="2020-02-09T20:58:28+08:00">2020-02-09</time>
              </span>

          
            <span id="/2020/02/08/%E6%97%BA%E8%B4%A2%E8%AE%B0%E4%BA%8B%E6%9C%AC-%E6%A0%87%E7%AD%BE%E9%A1%B5-%E6%A0%87%E7%AD%BE%E7%BC%96%E8%BE%91%E9%A1%B5/" class="post-meta-item leancloud_visitors" data-flag-title="旺财记事本(标签页 + 标签编辑页)" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/02/08/%E6%97%BA%E8%B4%A2%E8%AE%B0%E4%BA%8B%E6%9C%AC-%E6%A0%87%E7%AD%BE%E9%A1%B5-%E6%A0%87%E7%AD%BE%E7%BC%96%E8%BE%91%E9%A1%B5/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/08/%E6%97%BA%E8%B4%A2%E8%AE%B0%E4%BA%8B%E6%9C%AC-%E6%A0%87%E7%AD%BE%E9%A1%B5-%E6%A0%87%E7%AD%BE%E7%BC%96%E8%BE%91%E9%A1%B5/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="一-知识点总览"><a href="#一-知识点总览" class="headerlink" title="一. 知识点总览"></a>一. 知识点总览</h4><ol>
<li>iconfont 小技巧，编辑 SVG</li>
<li>custom.d.ts 怎么用</li>
<li>Vue Router 怎么用</li>
<li>props 怎么用</li>
</ol>
<h4 id="二-利用-MVC-思想对现有代码进行封装"><a href="#二-利用-MVC-思想对现有代码进行封装" class="headerlink" title="二. 利用 MVC 思想对现有代码进行封装"></a>二. 利用 MVC 思想对现有代码进行封装</h4><ul>
<li>TS 如何使用 js，</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 万不得以才用, Money.vue</span><br><span class="line">const model &#x3D; require(&#39;@&#x2F;model.js&#39;).model</span><br><span class="line">&#x2F;&#x2F; model.js</span><br><span class="line">const localStorageKeyName &#x3D; &#39;recordList&#39;</span><br><span class="line">const model &#x3D; &#123;</span><br><span class="line">  fetch()&#123;</span><br><span class="line">    return JSON.parse(window.localStorage.getItem(localStorageKeyName) || &quot;[]&quot;)</span><br><span class="line">  &#125;,</span><br><span class="line">  save(data)&#123;</span><br><span class="line">    window.localStorage.setItem(localStorageKeyName, JSON.stringify(this.recordList))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">export &#123;model&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>如何将 model.js 改写成 model.ts<ol>
<li>Record 是本身就有的类型，改成 RecordItem</li>
<li>在根目录新建一个 custom.d.ts, 全局声明文件</li>
<li>在里面添加类型</li>
</ol>
</li>
</ul>
<h4 id="三-在最开始的地方定义好类型"><a href="#三-在最开始的地方定义好类型" class="headerlink" title="三. 在最开始的地方定义好类型"></a>三. 在最开始的地方定义好类型</h4><ul>
<li>之后就不需要再写了</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">return JSON.parse(window.localStorage.getItem(localStorageKeyName) || &#39;[]&#39;) as RecordItem[]</span><br></pre></td></tr></table></figure>

<h4 id="四-开始做-Labels-vue"><a href="#四-开始做-Labels-vue" class="headerlink" title="四. 开始做 Labels.vue"></a>四. 开始做 Labels.vue</h4><ol>
<li>写 html 结构,在 icon 同行的文字上包一个 span,这个是经验</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;li&gt;</span><br><span class="line">  &lt;span&gt;衣&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;Icon name&#x3D;&quot;right&quot;&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;li&gt;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>写 scss 样式</li>
</ol>
<ul>
<li>能写 padding 就尽量写 padding, margin 会有合并的问题</li>
</ul>
<h4 id="五-开始做-Labels-vue-的新增标签功能"><a href="#五-开始做-Labels-vue-的新增标签功能" class="headerlink" title="五. 开始做 Labels.vue 的新增标签功能"></a>五. 开始做 Labels.vue 的新增标签功能</h4><ul>
<li>tags 的数据是 labels 不管的, 所有数据操作都有 m 自己去控制</li>
<li>创建新的 tags，会调用 model 去创建</li>
</ul>
<h4 id="六-创建时的错误处理问题"><a href="#六-创建时的错误处理问题" class="headerlink" title="六. 创建时的错误处理问题"></a>六. 创建时的错误处理问题</h4><ul>
<li>一开始想返回 boolean,但是发现错误有很多种</li>
<li>于是想通过返回数字，来表示错误</li>
<li>最后，数字没有字符串好</li>
</ul>
<h4 id="七-返回的字符串只有固定几个值的写法"><a href="#七-返回的字符串只有固定几个值的写法" class="headerlink" title="七. 返回的字符串只有固定几个值的写法"></a>七. 返回的字符串只有固定几个值的写法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 联合类型</span><br><span class="line">create:(name: string) &#x3D;&gt; &#39;success&#39; | &#39;duplicated&#39;</span><br></pre></td></tr></table></figure>

<h4 id="八-开始做编辑标签"><a href="#八-开始做编辑标签" class="headerlink" title="八. 开始做编辑标签"></a>八. 开始做编辑标签</h4><ul>
<li>首先新建路由</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  path: &#39;&#x2F;labels&#x2F;edit&#39;,</span><br><span class="line">  component: EditLabel</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<ul>
<li>修改储存数据 tag 的类型,将数据的 name 做为 id,为以后做服务器端做准备</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">type Tag &#x3D; &#123;</span><br><span class="line">  id: string;</span><br><span class="line">  name: string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type TagListModel &#x3D; &#123;</span><br><span class="line">  data: Tag[]</span><br><span class="line">  fetch: () &#x3D;&gt; Tag[]</span><br><span class="line">  create:(name: string) &#x3D;&gt; &#39;success&#39; | &#39;duplicated&#39;</span><br><span class="line">  save:()&#x3D;&gt;void</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>改写路由为后面加一个字符串</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  path: &#39;&#x2F;labels&#x2F;edit&#x2F;:id&#39;, &#x2F;&#x2F; 这个id表示为一个名字</span><br><span class="line">  component: EditLabel</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<ul>
<li>route 和 router 的区别</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">route是路由，储存了路由的信息。</span><br><span class="line">router是路由器，用于跳转等等。</span><br></pre></td></tr></table></figure>

<h4 id="九-如何封装通用组件"><a href="#九-如何封装通用组件" class="headerlink" title="九. 如何封装通用组件"></a>九. 如何封装通用组件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; notes.vue</span><br><span class="line">&lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;value&quot; :placeholder&#x3D;&quot;this.placeholder&quot;&gt;</span><br><span class="line"></span><br><span class="line">@Prop(&#123;required:true&#125;) fieldName!: string;</span><br><span class="line">@Prop() placeholder?: string;</span><br></pre></td></tr></table></figure>

<h4 id="十-解决组件没有事件的问题"><a href="#十-解决组件没有事件的问题" class="headerlink" title="十. 解决组件没有事件的问题"></a>十. 解决组件没有事件的问题</h4><ol>
<li>方式一,建议用方式一,因为别人不一定知道 native 的方式</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Button.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;button class&#x3D;&quot;Button&quot; @click&#x3D;&quot;$emit(&#39;click&#39;, $event)&quot;&gt;</span><br><span class="line">    &lt;slot&#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>方式二</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button class&#x3D;&quot;createTag&quot; @click.native&#x3D;&quot;createTag&quot;&gt;新建标签&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure>

<h4 id="十一-为-EditLabel-vue-写-css"><a href="#十一-为-EditLabel-vue-写-css" class="headerlink" title="十一. 为 EditLabel.vue 写 css"></a>十一. 为 EditLabel.vue 写 css</h4><ul>
<li>改了通用组件的高度，相关用到的地方就会影响，在外面加 wrapper 解决</li>
</ul>
<h4 id="十二-开始实现-EditLabel-vue-的功能"><a href="#十二-开始实现-EditLabel-vue-的功能" class="headerlink" title="十二. 开始实现 EditLabel.vue 的功能"></a>十二. 开始实现 EditLabel.vue 的功能</h4><ul>
<li>解决 FromItem 的 bug<ul>
<li>能不用 v-model 就不要用，因为 v-model 会造成理解上的困难<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;text&quot; :value&#x3D;&quot;value&quot; @input&#x3D;&quot;onValueChanged($event.target.value)&quot;</span><br><span class="line">:placeholder&#x3D;&quot;this.placeholder&quot;&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>展示 tag 的 name</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">export default class EditLabel extends Vue &#123;</span><br><span class="line">    tag?: &#123; id: string, name: string &#125;&#x3D; undefined</span><br><span class="line">    created()&#123;</span><br><span class="line">      const id &#x3D; this.$route.params.id;</span><br><span class="line">      &#x2F;&#x2F; 通过url获取tag,把tag放到data</span><br><span class="line">      tagListModel.fetch();</span><br><span class="line">      const tags &#x3D; tagListModel.data;</span><br><span class="line">      const tag &#x3D; tags.filter(t &#x3D;&gt; t.id &#x3D;&#x3D;&#x3D; id)[0];</span><br><span class="line">      if(tag)&#123;</span><br><span class="line">        this.tag &#x3D; tag;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        this.$router.replace(&#39;&#x2F;404&#39;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="最后-个人微信-欢迎交流！"><a href="#最后-个人微信-欢迎交流！" class="headerlink" title="最后,个人微信,欢迎交流！"></a>最后,个人微信,欢迎交流！</h4><p><img src="https://i.loli.net/2020/01/30/mbV7Q3XqxedsJKP.jpg" alt="wechat0.jpg"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2020/02/08/%E6%97%BA%E8%B4%A2%E8%AE%B0%E4%BA%8B%E6%9C%AC-%E6%95%B0%E6%8D%AE%E4%BF%9D%E5%AD%98%E8%87%B3LocalStorage/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/08/%E6%97%BA%E8%B4%A2%E8%AE%B0%E4%BA%8B%E6%9C%AC-%E6%95%B0%E6%8D%AE%E4%BF%9D%E5%AD%98%E8%87%B3LocalStorage/" class="post-title-link" itemprop="url">旺财记事本(数据保存至LocalStorage)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-02-08 10:09:21 / Modified: 16:07:57" itemprop="dateCreated datePublished" datetime="2020-02-08T10:09:21+08:00">2020-02-08</time>
            </span>

          
            <span id="/2020/02/08/%E6%97%BA%E8%B4%A2%E8%AE%B0%E4%BA%8B%E6%9C%AC-%E6%95%B0%E6%8D%AE%E4%BF%9D%E5%AD%98%E8%87%B3LocalStorage/" class="post-meta-item leancloud_visitors" data-flag-title="旺财记事本(数据保存至LocalStorage)" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/02/08/%E6%97%BA%E8%B4%A2%E8%AE%B0%E4%BA%8B%E6%9C%AC-%E6%95%B0%E6%8D%AE%E4%BF%9D%E5%AD%98%E8%87%B3LocalStorage/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/08/%E6%97%BA%E8%B4%A2%E8%AE%B0%E4%BA%8B%E6%9C%AC-%E6%95%B0%E6%8D%AE%E4%BF%9D%E5%AD%98%E8%87%B3LocalStorage/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="1-获取用户最新选择的-Tags"><a href="#1-获取用户最新选择的-Tags" class="headerlink" title="1. 获取用户最新选择的 Tags"></a>1. 获取用户最新选择的 Tags</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Tags.Vue</span><br><span class="line">this.$emit(&#39;xxx&#39;, this.selectedTags)</span><br><span class="line">&#x2F;&#x2F;Money.Vue</span><br><span class="line">&lt;Tags :data-source.sync&#x3D;&quot;tags&quot; @xxx&#x3D;&quot;yyy&quot;&#x2F;&gt;</span><br><span class="line">yyy(zzz:string[])&#123;</span><br><span class="line">  console.log(zzz);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>改名:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Tags.Vue</span><br><span class="line">this.$emit(&#39;update:selected&#39;, this.selectedTags)</span><br><span class="line">&#x2F;&#x2F;Money.Vue</span><br><span class="line">&lt;Tags :data-source.sync&#x3D;&quot;tags&quot; @update:selected&#x3D;&quot;onUpdateTags&quot;&#x2F;&gt;</span><br><span class="line">onUpdateTags(tags:string[])&#123;</span><br><span class="line">  console.log(tags);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-同理获取用户最新输入的-Notes-Types-NumberPad"><a href="#2-同理获取用户最新输入的-Notes-Types-NumberPad" class="headerlink" title="2. 同理获取用户最新输入的 Notes,Types,NumberPad"></a>2. 同理获取用户最新输入的 Notes,Types,NumberPad</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Money.vue</span><br><span class="line">&lt;Layout class-prefix&#x3D;&quot;layout&quot;&gt;</span><br><span class="line">  &lt;NumberPad @update:value&#x3D;&quot;onUpdateAmout&quot;&#x2F;&gt;</span><br><span class="line">  &lt;Types @update:value&#x3D;&quot;onUpdateType&quot;&#x2F;&gt;</span><br><span class="line">  &lt;Notes @update:value&#x3D;&quot;onUpdateNotes&quot;&#x2F;&gt;</span><br><span class="line">  &lt;Tags :data-source.sync&#x3D;&quot;tags&quot; @update:value&#x3D;&quot;onUpdateTags&quot;&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;Layout&gt;</span><br><span class="line">export default class Money extends Vue&#123;</span><br><span class="line">    tags &#x3D; [&quot;衣&quot;,&quot;食&quot;,&quot;住&quot;,&quot;行&quot;]</span><br><span class="line"></span><br><span class="line">    onUpdateTags(value:string[])&#123;</span><br><span class="line">      console.log(value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    onUpdateNotes(value:string)&#123;</span><br><span class="line">      console.log(value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    onUpdateType(value:string)&#123;</span><br><span class="line">      console.log(value)</span><br><span class="line">    &#125;</span><br><span class="line">    onUpdateAmout(value:string)&#123;</span><br><span class="line">      console.log(value)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-TS-中如何使用-Watch"><a href="#3-TS-中如何使用-Watch" class="headerlink" title="3. TS 中如何使用 Watch"></a>3. TS 中如何使用 Watch</h4><ul>
<li>Notes.vue 的 input 中每次用户输入都要向 Money.vue 更新数据</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Tag.vue</span><br><span class="line">export default class Notes extends Vue&#123;</span><br><span class="line">  value &#x3D; &#39;&#39;;</span><br><span class="line">  @Watch(&#39;value&#39;)</span><br><span class="line">  onValueChanged(value:string )&#123;</span><br><span class="line">    this.$emit(&#39;update:value&#39;,value)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-TS-中的类型声明-将所有数据记录"><a href="#4-TS-中的类型声明-将所有数据记录" class="headerlink" title="4. TS 中的类型声明-将所有数据记录"></a>4. TS 中的类型声明-将所有数据记录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">type Record &#x3D; &#123;</span><br><span class="line">  tags!: string[] &#x2F;&#x2F; ！表示可以没有这个属性</span><br><span class="line">  notes: string</span><br><span class="line">  type: string</span><br><span class="line">  amount: number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">record: Record &#x3D; &#123;</span><br><span class="line">  tags: [],notes:&#39;&#39;,type:&#39;-&#39;,amount:0</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="5-把值重新传回-types-方便维护"><a href="#5-把值重新传回-types-方便维护" class="headerlink" title="5. 把值重新传回 types,方便维护"></a>5. 把值重新传回 types,方便维护</h4><ul>
<li>如果你想给组件一个初始值，然后更新的时候时候，又要拿到最新的值，就用.sync</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;Types.Vue</span><br><span class="line">&#x2F;&#x2F; 这样就不需要之前的watch</span><br><span class="line"> export default class Types extends Vue &#123;</span><br><span class="line">  @Prop() readonly value!: string;</span><br><span class="line">  selectType(value: string) &#123;</span><br><span class="line">    if (value !&#x3D;&#x3D; &quot;-&quot; &amp;&amp; value !&#x3D;&#x3D; &quot;+&quot;) &#123;</span><br><span class="line">      throw new Error(&quot;type is unknown&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">    this.$emit(&#39;update:value&#39;, value)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; Money.Vue</span><br><span class="line">  &lt;Types :value&#x3D;&quot;record.type&quot; @update:value&#x3D;&quot;onUpdateType&quot;&#x2F;&gt;</span><br><span class="line">&#x2F;&#x2F; 可以简写成</span><br><span class="line">&lt;Types :value.sync&#x3D;&quot;record.type&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure>

<h4 id="6-解决-push-进数组数据一样的-bug"><a href="#6-解决-push-进数组数据一样的-bug" class="headerlink" title="6. 解决 push 进数组数据一样的 bug"></a>6. 解决 push 进数组数据一样的 bug</h4><ul>
<li>此 bug 产生的原因,push 进去的实际上是一个内存地址
<img src="https://i.loli.net/2020/02/08/pCXaFxKYPRirDvE.png" alt="push的bug.png"></li>
<li>解决的办法:深拷贝</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">saveRecord()&#123;</span><br><span class="line">  const record2  &#x3D; JSON.parse(JSON.stringify(this.record));</span><br><span class="line">  this.recordList.push(record2)</span><br><span class="line">  console.log(this.recordList)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="7-解决增加时间引起的数据库版本的问题"><a href="#7-解决增加时间引起的数据库版本的问题" class="headerlink" title="7. 解决增加时间引起的数据库版本的问题"></a>7. 解决增加时间引起的数据库版本的问题</h4><ul>
<li>不要一下子升级到最新版，要一个个版本的升级。
<img src="https://i.loli.net/2020/02/08/5Q6acL3RgNnbuWD.png" alt="数据迁移.png"></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if (version &#x3D;&#x3D;&#x3D; &quot;0.0.1&quot;) &#123;</span><br><span class="line">  &#x2F;&#x2F; 数据库升级, 数据迁移</span><br><span class="line">  recordList.forEach(record &#x3D;&gt; &#123;</span><br><span class="line">    record.createdAt &#x3D; new Date(2020, 0, 1);</span><br><span class="line">  &#125;)</span><br><span class="line">  &#x2F;&#x2F; 保存数据</span><br><span class="line">  window.localStorage.setItem(&quot;recordList&quot;, JSON.stringify(recordList))</span><br><span class="line">&#125;</span><br><span class="line">window.localStorage.setItem(&quot;version&quot;, &quot;0.0.2&quot;)</span><br></pre></td></tr></table></figure>

<h4 id="最后-个人微信-欢迎交流！"><a href="#最后-个人微信-欢迎交流！" class="headerlink" title="最后,个人微信,欢迎交流！"></a>最后,个人微信,欢迎交流！</h4><p><img src="https://i.loli.net/2020/01/30/mbV7Q3XqxedsJKP.jpg" alt="wechat0.jpg"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2020/02/06/%E6%97%BA%E8%B4%A2%E8%AE%B0%E8%B4%A6%E9%A1%B9%E7%9B%AE-Money-vue%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0-%E4%B8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/06/%E6%97%BA%E8%B4%A2%E8%AE%B0%E8%B4%A6%E9%A1%B9%E7%9B%AE-Money-vue%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0-%E4%B8%8B/" class="post-title-link" itemprop="url">旺财记账项目-Money.vue组件实现(下)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-06 19:23:49" itemprop="dateCreated datePublished" datetime="2020-02-06T19:23:49+08:00">2020-02-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-02-07 19:19:35" itemprop="dateModified" datetime="2020-02-07T19:19:35+08:00">2020-02-07</time>
              </span>

          
            <span id="/2020/02/06/%E6%97%BA%E8%B4%A2%E8%AE%B0%E8%B4%A6%E9%A1%B9%E7%9B%AE-Money-vue%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0-%E4%B8%8B/" class="post-meta-item leancloud_visitors" data-flag-title="旺财记账项目-Money.vue组件实现(下)" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/02/06/%E6%97%BA%E8%B4%A2%E8%AE%B0%E8%B4%A6%E9%A1%B9%E7%9B%AE-Money-vue%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0-%E4%B8%8B/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/06/%E6%97%BA%E8%B4%A2%E8%AE%B0%E8%B4%A6%E9%A1%B9%E7%9B%AE-Money-vue%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0-%E4%B8%8B/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="1-实现TypeScript的Vue组件。"><a href="#1-实现TypeScript的Vue组件。" class="headerlink" title="1. 实现TypeScript的Vue组件。"></a>1. 实现TypeScript的Vue组件。</h4><ul>
<li>以Types组件为例改写<ul>
<li>JS写法<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;ul class&#x3D;&quot;types&quot;&gt;</span><br><span class="line">      &lt;li :class&#x3D;&quot;type &#x3D;&#x3D;&#x3D; &#39;-&#39; &amp;&amp; &#39;selected&#39;&quot;</span><br><span class="line">      @click&#x3D;&quot;selectType(&#39;-&#39;)&quot;&gt;支出&lt;&#x2F;li&gt;</span><br><span class="line">      &lt;li :class&#x3D;&quot;type &#x3D;&#x3D;&#x3D; &#39;+&#39; &amp;&amp; &#39;selected&#39;&quot;</span><br><span class="line">      @click&#x3D;&quot;selectType(&#39;+&#39;)&quot;&gt;收入&lt;&#x2F;li&gt;</span><br><span class="line">    &lt;&#x2F;ul&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang&#x3D;&quot;js&quot;&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &quot;Types&quot;,</span><br><span class="line">    props: [&#39;xxx&#39;],</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        type: &#39;-&#39; &#x2F;&#x2F; &#39;-&#39;表示支出.&#39;+&#39;表示收入</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">      console.log(this.xxx)</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      selectType(type) &#123; &#x2F;&#x2F; type 只能是 &#39;-&#39; 和 &#39;+&#39; 中的一个</span><br><span class="line">        if(type !&#x3D;&#x3D; &#39;-&#39; &amp;&amp; type !&#x3D;&#x3D; &#39;+&#39;)&#123;</span><br><span class="line">          throw new Error(&#39;type is unknown&#39;)</span><br><span class="line">        &#125;</span><br><span class="line">        this.type &#x3D; type</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure></li>
<li>TS写法，用class组件写data methods 和生命周期<ol>
<li>起手<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export default class Types extends Vue &#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Component修饰符，在最上面加@Compo按下tab键，选择从vue-property-decorator引入<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import &#123;Component&#125; from &quot;vue-property-decorator&quot;</span><br><span class="line">@Component</span><br><span class="line">export default class Types extends Vue &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>必需制定参数type的类型<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">selectType(type: string) &#123; &#x2F;&#x2F; type 只能是 &#39;-&#39; 和 &#39;+&#39; 中的一个</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>代码总结<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import &#123;Component&#125; from &quot;vue-property-decorator&quot;</span><br><span class="line">  @Component</span><br><span class="line">  export default class Types extends Vue &#123;</span><br><span class="line">    type &#x3D; &#39;-&#39;  &#x2F;&#x2F; &#39;-&#39;表示支出.&#39;+&#39;表示收入</span><br><span class="line">    selectType(type: string) &#123; &#x2F;&#x2F; type 只能是 &#39;-&#39; 和 &#39;+&#39; 中的一个</span><br><span class="line">      if(type !&#x3D;&#x3D; &#39;-&#39; &amp;&amp; type !&#x3D;&#x3D; &#39;+&#39;)&#123;</span><br><span class="line">        throw new Error(&#39;type is unknown&#39;)</span><br><span class="line">      &#125;</span><br><span class="line">      this.type &#x3D; type</span><br><span class="line">    &#125;</span><br><span class="line">    created()&#123;&#125;</span><br><span class="line">    mounted()&#123;&#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li>props用法
1 查看一个包的最新版本，在终端输入<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm info typescript version</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="2-TS-组件-Prop装饰器"><a href="#2-TS-组件-Prop装饰器" class="headerlink" title="2. TS 组件 @Prop装饰器"></a>2. TS 组件 @Prop装饰器</h4><ul>
<li>用法<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 左边Number是运行时的检查，右边number是编译时的检查,编译时的检查会在写代码的时候就给提示</span><br><span class="line">@Prop(Number) xxx: number | undefined;</span><br><span class="line">&#x2F;&#x2F; Prop 告诉 Vue xxx 不是 data 是 prop</span><br><span class="line">&#x2F;&#x2F; Number 告诉 Vue xxx 运行时类型 是个 Number</span><br><span class="line">&#x2F;&#x2F; xxx 属性名</span><br><span class="line">&#x2F;&#x2F; number | undefined 就是 告诉 TS xxx 的编译时类型</span><br><span class="line">&#x2F;&#x2F; 为什么前面的Number是大些后面是小写，见3.编译时和运行时的区别</span><br></pre></td></tr></table></figure></li>
<li>TS的好处<ol>
<li>html直接空格告诉你有哪些参数</li>
<li>如果声明了类型，代码写错了会提前告诉,编译报错,无法编程js</li>
<li>检查调用的方法到底能不能调用,你不能写.tostring</li>
</ol>
</li>
</ul>
<h4 id="3-编译时和运行时的区别"><a href="#3-编译时和运行时的区别" class="headerlink" title="3. 编译时和运行时的区别"></a>3. 编译时和运行时的区别</h4><p><img src="https://i.loli.net/2020/02/07/GUtaQXr6RgIvo2s.png" alt="运行时和编译时区别.png"></p>
<h4 id="4-TS的本质"><a href="#4-TS的本质" class="headerlink" title="4. TS的本质"></a>4. TS的本质</h4><p><img src="https://i.loli.net/2020/02/07/liy68SWPOnDgAQB.png" alt="TS的本质.png"></p>
<h4 id="5-Vue但文件组件的三种写法"><a href="#5-Vue但文件组件的三种写法" class="headerlink" title="5. Vue但文件组件的三种写法"></a>5. Vue但文件组件的三种写法</h4><ol>
<li>用JS对象<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export default &#123; data,props,methods,created,... &#125;</span><br></pre></td></tr></table></figure></li>
<li>用 TS 类 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script lang&#x3D;&quot;ts&quot;&gt;</span><br><span class="line">@Component</span><br><span class="line">export default class XXX extends Vue&#123;</span><br><span class="line">  xxx: string &#x3D; &#39;hi&#39;;</span><br><span class="line">  @Prop(Number) xxx: number|undefined;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>用 JS 类 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Component</span><br><span class="line">&lt;script lang&#x3D;&quot;js&quot;&gt;</span><br><span class="line">export default class XXX extends Vue&#123;</span><br><span class="line">  xxx &#x3D; &#39;hi&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="6-开始实现NumberPad组件"><a href="#6-开始实现NumberPad组件" class="headerlink" title="6. 开始实现NumberPad组件"></a>6. 开始实现NumberPad组件</h4></li>
</ol>
<ul>
<li>在按钮上绑定事件,不加参数会默认传入事件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click&#x3D;&quot;inputContent&quot;&gt;1&lt;&#x2F;button&gt;</span><br><span class="line">inputContent(event: MouseEvent)&#123;</span><br><span class="line">  if(event.target)&#123;</span><br><span class="line">    console.log(event.target.textContent);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>强制指定类型,需要这么做的原因是Vue和Typescript不够好<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">inputContent(event: MouseEvent)&#123;</span><br><span class="line">  if(event.target)&#123;</span><br><span class="line">    const button &#x3D; (event.target as HTMLButtonElement)</span><br><span class="line">    console.log(button.textContent);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>如果只是要排除空,也可以这么写<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const input &#x3D; button.textContent!;</span><br></pre></td></tr></table></figure></li>
<li>基本完成NumberPad,NumberPad 组件所有代码<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &quot;vue&quot;</span><br><span class="line">import &#123;Component, Prop&#125; from &quot;vue-property-decorator&quot;</span><br><span class="line"></span><br><span class="line">@Component &#x2F;&#x2F; 如果如果这样写，就表示Class就有一个propMessage的props，类型为String</span><br><span class="line">export default class NumberPad extends Vue &#123;</span><br><span class="line">  output: string &#x3D; &#39;0&#39;;</span><br><span class="line">  inputContent(event: MouseEvent)&#123;</span><br><span class="line">    const button &#x3D; (event.target as HTMLButtonElement);</span><br><span class="line">    const input &#x3D; button.textContent!;</span><br><span class="line">    if(this.output.length &#x3D;&#x3D;&#x3D; 16)&#123;return&#125;</span><br><span class="line">    if(this.output &#x3D;&#x3D;&#x3D; &#39;0&#39;)&#123;</span><br><span class="line">      if (&#39;0123456789&#39;.indexOf(input) &gt;&#x3D; 0) &#123;</span><br><span class="line">        this.output &#x3D; input</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        this.output +&#x3D; input;</span><br><span class="line">      &#125;</span><br><span class="line">      return</span><br><span class="line">    &#125;</span><br><span class="line">    if (this.output.indexOf(&quot;.&quot;) &gt;&#x3D; 0 &amp;&amp; input &#x3D;&#x3D;&#x3D; &quot;.&quot;) &#123;return;&#125;</span><br><span class="line">    this.output +&#x3D; input;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  remove()&#123;</span><br><span class="line">    if (this.output.length &#x3D;&#x3D;&#x3D; 1)&#123;</span><br><span class="line">      this.output &#x3D; &#39;0&#39;;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      this.output &#x3D; this.output.slice(0, -1);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  clear()&#123;</span><br><span class="line">    this.output &#x3D; &#39;0&#39;;</span><br><span class="line">  &#125;</span><br><span class="line">  ok()&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="67-开始实现备注功能"><a href="#67-开始实现备注功能" class="headerlink" title="67. 开始实现备注功能"></a>67. 开始实现备注功能</h4><ul>
<li>原生html input实现绑定数据<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;text&quot; :value&#x3D;&quot;value&quot; @input&#x3D;&quot;onInput&quot; placeholder&#x3D;&quot;在这里输入备注&quot;&gt;</span><br><span class="line">onInput(event: KeyboardEvent)&#123;</span><br><span class="line">      const input &#x3D; event.target as HTMLInputElement;</span><br><span class="line">      this.value &#x3D; input.value</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
<li>对:value 和 @input绑定数据进行简写<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;value&quot; placeholder&#x3D;&quot;在这里输入备注&quot;&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="8-开始实现tags模块"><a href="#8-开始实现tags模块" class="headerlink" title="8. 开始实现tags模块"></a>8. 开始实现tags模块</h4><ul>
<li>只能不能改外部数据的写法<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@Prop() readonly dataSource: string[] | undefined &#x2F;&#x2F; 加readonly</span><br></pre></td></tr></table></figure></li>
<li>内部不能直接改外部数据<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 内部</span><br><span class="line">&#x2F;&#x2F; this.dataSource.push(name!); &#x2F;&#x2F; 不能改外部数据,这种写法不推荐!</span><br><span class="line">this.$emit(&quot;update:dataSource&quot;, [...this.dataSource, name])</span><br><span class="line">&#x2F;&#x2F; 外部,用.sync简写</span><br><span class="line">&lt;Tags :data-source.sync&#x3D;&quot;tags&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="最后-个人微信-欢迎交流！"><a href="#最后-个人微信-欢迎交流！" class="headerlink" title="最后,个人微信,欢迎交流！"></a>最后,个人微信,欢迎交流！</h4><p><img src="https://i.loli.net/2020/01/30/mbV7Q3XqxedsJKP.jpg" alt="wechat0.jpg"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2020/02/05/%E6%97%BA%E8%B4%A2%E8%AE%B0%E8%B4%A6%E9%A1%B9%E7%9B%AE-Money-vue%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0-%E4%B8%8A/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/05/%E6%97%BA%E8%B4%A2%E8%AE%B0%E8%B4%A6%E9%A1%B9%E7%9B%AE-Money-vue%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0-%E4%B8%8A/" class="post-title-link" itemprop="url">旺财记账项目-Money.vue组件实现(上)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-05 11:51:41" itemprop="dateCreated datePublished" datetime="2020-02-05T11:51:41+08:00">2020-02-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-02-06 19:20:28" itemprop="dateModified" datetime="2020-02-06T19:20:28+08:00">2020-02-06</time>
              </span>

          
            <span id="/2020/02/05/%E6%97%BA%E8%B4%A2%E8%AE%B0%E8%B4%A6%E9%A1%B9%E7%9B%AE-Money-vue%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0-%E4%B8%8A/" class="post-meta-item leancloud_visitors" data-flag-title="旺财记账项目-Money.vue组件实现(上)" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/02/05/%E6%97%BA%E8%B4%A2%E8%AE%B0%E8%B4%A6%E9%A1%B9%E7%9B%AE-Money-vue%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0-%E4%B8%8A/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/05/%E6%97%BA%E8%B4%A2%E8%AE%B0%E8%B4%A6%E9%A1%B9%E7%9B%AE-Money-vue%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0-%E4%B8%8A/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="1-小技巧-快速包裹每一行"><a href="#1-小技巧-快速包裹每一行" class="headerlink" title="1. 小技巧:快速包裹每一行"></a>1. 小技巧:快速包裹每一行</h4><ul>
<li>选中，按两下 shift，输入 surround ,选择 surround with emit,输入 li*,意思就是 n 个 li 包住行数</li>
</ul>
<h4 id="2-input-label-的写法"><a href="#2-input-label-的写法" class="headerlink" title="2. input,label 的写法"></a>2. input,label 的写法</h4><ul>
<li>新手</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;label for&#x3D;&quot;xxx&quot;&gt;&lt;&#x2F;label&gt;</span><br><span class="line">&lt;input id &#x3D; &#39;xxx&#39; type&#x3D;&quot;text&quot;&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>老手</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;label&gt;</span><br><span class="line">  &lt;span&gt;备注&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;input type&#x3D;&quot;text&quot;&gt;</span><br><span class="line">&lt;&#x2F;label&gt;</span><br></pre></td></tr></table></figure>

<h4 id="3-文件行数规则"><a href="#3-文件行数规则" class="headerlink" title="3. 文件行数规则"></a>3. 文件行数规则</h4><ul>
<li>一个文件超过 150 行，一般拆成多个文件。</li>
</ul>
<h4 id="4-开始写-CSS"><a href="#4-开始写-CSS" class="headerlink" title="4. 开始写 CSS"></a>4. 开始写 CSS</h4><ul>
<li><h5 id="1-css-重置-抽成另外一个文件-reset-scss，然后在-app-vue-中引入"><a href="#1-css-重置-抽成另外一个文件-reset-scss，然后在-app-vue-中引入" class="headerlink" title="1. css 重置,抽成另外一个文件 reset.scss，然后在 app.vue 中引入"></a>1. css 重置,抽成另外一个文件 reset.scss，然后在 app.vue 中引入</h5></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; reset.scss</span><br><span class="line">* &#123;</span><br><span class="line">  margin: 0; padding: 0;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a&#123;</span><br><span class="line">  text-decoration: none;</span><br><span class="line">  color:inherit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; app.vue</span><br><span class="line">@import &quot;~@&#x2F;assets&#x2F;style&#x2F;reset.scss&quot;;</span><br></pre></td></tr></table></figure>

<ul>
<li><h5 id="2-处理字体-需要用到-fonts-css"><a href="#2-处理字体-需要用到-fonts-css" class="headerlink" title="2. 处理字体,需要用到 fonts.css"></a>2. 处理字体,需要用到 fonts.css</h5><ul>
<li>在 google 搜索 “fonts.css” 中文</li>
<li>找到 font-family 的地方，在 helper.scss 中声明 font,然后在 app.vue 中使用</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; helper.scss</span><br><span class="line">$font-hei:  -apple-system, &quot;Noto Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, &quot;Nimbus Sans L&quot;, Arial, &quot;Liberation Sans&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Noto Sans CJK SC&quot;, &quot;Source Han Sans SC&quot;, &quot;Source Han Sans CN&quot;, &quot;Microsoft YaHei&quot;, &quot;Wenquanyi Micro Hei&quot;, &quot;WenQuanYi Zen Hei&quot;, &quot;ST Heiti&quot;, SimHei, &quot;WenQuanYi Zen Hei Sharp&quot;, sans-serif;</span><br><span class="line">&#x2F;&#x2F; app.vue</span><br><span class="line">body&#123;</span><br><span class="line">  line-height: 1.5;</span><br><span class="line">  font-family: $font-hei;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><h5 id="3-把变量都放到-helper-css-里面。"><a href="#3-把变量都放到-helper-css-里面。" class="headerlink" title="3. 把变量都放到 helper.css 里面。"></a>3. 把变量都放到 helper.css 里面。</h5><ul>
<li>command+shift+f 进行全局搜索</li>
<li>helper.css 这个文件只能放变量，函数和 mixin,最终会消失的东西</li>
</ul>
</li>
</ul>
<h4 id="4-写css推荐顺序"><a href="#4-写css推荐顺序" class="headerlink" title="4. 写css推荐顺序"></a>4. 写css推荐顺序</h4><ul>
<li>一般而言无所谓，如果比较复杂，推荐从里到外，因为里面最简单</li>
</ul>
<h4 id="5-scss的用法"><a href="#5-scss的用法" class="headerlink" title="5. scss的用法"></a>5. scss的用法</h4><ul>
<li>选择器里面<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.tags &#123;</span><br><span class="line">  &gt; .current &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>选择器本身<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.tags &#123;</span><br><span class="line">  &amp;.current &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="6-按钮字体样式不会继承"><a href="#6-按钮字体样式不会继承" class="headerlink" title="6. 按钮字体样式不会继承"></a>6. 按钮字体样式不会继承</h4></li>
<li>在reset.scss中加入<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">button, input&#123;</span><br><span class="line">  font: inherit;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="7-字体居中解决"><a href="#7-字体居中解决" class="headerlink" title="7. 字体居中解决"></a>7. 字体居中解决</h4><ul>
<li>第一种方式，lineheight和高度一样，这种情况用于只有一行字</li>
<li>第二种方式，用flex</li>
</ul>
<h4 id="8-字的下划线比字长"><a href="#8-字的下划线比字长" class="headerlink" title="8. 字的下划线比字长"></a>8. 字的下划线比字长</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">border-bottom: 1px solid;</span><br><span class="line">padding: 0 4px;</span><br></pre></td></tr></table></figure>
<h4 id="9-selected下划线的做法"><a href="#9-selected下划线的做法" class="headerlink" title="9. selected下划线的做法"></a>9. selected下划线的做法</h4><ul>
<li>避免用border-bottom来做，这种做法当class消失会有抖动，要用以下做法<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&amp;.selected::after &#123;</span><br><span class="line">  content: &#39;&#39;;</span><br><span class="line">  position: absolute;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  left: 0;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 4px;</span><br><span class="line">  background: #333;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="10-处理没有的字体，在其后面加上一类字体。"><a href="#10-处理没有的字体，在其后面加上一类字体。" class="headerlink" title="10. 处理没有的字体，在其后面加上一类字体。"></a>10. 处理没有的字体，在其后面加上一类字体。</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; monospace就是等宽的编程字体类</span><br><span class="line">font-family: Consolas, monospace;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="11-如果用了float"><a href="#11-如果用了float" class="headerlink" title="11. 如果用了float"></a>11. 如果用了float</h4><ul>
<li>父元素一定要用clearfix<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.clearfix::after&#123;</span><br><span class="line">  content:&#39;&#39;;</span><br><span class="line">  display: block;</span><br><span class="line">  clear:both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>用scss的%,placeholder功能<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; helper.scss</span><br><span class="line">&#x2F;&#x2F; placeholder</span><br><span class="line">%x&#123;</span><br><span class="line">  &amp;::after&#123;</span><br><span class="line">    content: &#39;&#39;;</span><br><span class="line">    clear: both;</span><br><span class="line">    display: block;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 如何用</span><br><span class="line">&#x2F;&#x2F; money.vue</span><br><span class="line">.buttons &#123;</span><br><span class="line">  @extend %x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="12-两层内阴影的写法"><a href="#12-两层内阴影的写法" class="headerlink" title="12. 两层内阴影的写法"></a>12. 两层内阴影的写法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">box-shadow: inset 0 -5px 5px -5px fade_out(black, 0.5),</span><br><span class="line">inset 0 5px 5px -5px fade_out(black, 0.5);</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="13-多个地方统一替换"><a href="#13-多个地方统一替换" class="headerlink" title="13. 多个地方统一替换"></a>13. 多个地方统一替换</h4><ul>
<li>选中之后按command+r</li>
</ul>
<h4 id="14-用前缀控制组件内css样式"><a href="#14-用前缀控制组件内css样式" class="headerlink" title="14. 用前缀控制组件内css样式"></a>14. 用前缀控制组件内css样式</h4><p>// 这样写会有bug,要写deep</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Money.vue</span><br><span class="line">&lt;Layout class-prefix&#x3D;&quot;layout&quot;&gt;</span><br><span class="line">&lt;&#x2F;Layout&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;scss&quot;&gt;</span><br><span class="line">  .layout-content&#123;</span><br><span class="line">    border: 3px solid red;</span><br><span class="line">  &#125;</span><br><span class="line">  .layout-wrapper&#123;</span><br><span class="line">    border: 3px solid blue;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Layout.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;layout-wrapper&quot; :class&#x3D;&quot;classPrefix &amp;&amp; &#96;$&#123;classPrefix&#125;-wrapper&#96;&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;content&quot; :class&#x3D;&quot;classPrefix &amp;&amp; &#96;$&#123;classPrefix&#125;-content&#96;&quot;&gt;</span><br><span class="line">      &lt;slot &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;Nav&#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang&#x3D;&quot;ts&quot;&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    props: [&#39;classPrefix&#39;],</span><br><span class="line">    name: &quot;Layout&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
<h4 id="15-如何模块化"><a href="#15-如何模块化" class="headerlink" title="15. 如何模块化"></a>15. 如何模块化</h4><ul>
<li>坚持一个文件查过150行就执行模块化</li>
<li>把html scss剪切的单独.vue文件，引入的时候写&lt;name 会总动引入</li>
<li>最后把相关文件放到一个文件夹</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2020/02/05/svg%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%9D%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/05/svg%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%9D%91/" class="post-title-link" itemprop="url">svg的两个坑</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-02-05 09:45:51 / Modified: 11:15:56" itemprop="dateCreated datePublished" datetime="2020-02-05T09:45:51+08:00">2020-02-05</time>
            </span>

          
            <span id="/2020/02/05/svg%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%9D%91/" class="post-meta-item leancloud_visitors" data-flag-title="svg的两个坑" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/02/05/svg%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%9D%91/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/05/svg%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%9D%91/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="1-WebStorm-按两下空格输入-soft-wrap-进行换行"><a href="#1-WebStorm-按两下空格输入-soft-wrap-进行换行" class="headerlink" title="1. WebStorm 按两下空格输入 soft wrap 进行换行"></a>1. WebStorm 按两下空格输入 soft wrap 进行换行</h4><h4 id="2-第一个坑-svg-中的-fill-属性处理"><a href="#2-第一个坑-svg-中的-fill-属性处理" class="headerlink" title="2. 第一个坑: svg 中的 fill 属性处理"></a>2. 第一个坑: svg 中的 fill 属性处理</h4><ul>
<li>svg 里面如果有 fill=””,就会有颜色，可以手动去除,但是如果有很多个 svg 那么一个个去很麻烦</li>
<li>用 svgo-loader 解决这个问题，在 vue.config.js 中配置</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">config.module</span><br><span class="line">.use(&#39;svgo-loader&#39;).loader(&#39;svgo-loader&#39;)</span><br><span class="line">.tap(options&#x3D;&gt;(&#123;</span><br><span class="line">  ...options, plugins:[&#123;</span><br><span class="line">      removeAttrs:&#123;attrs:&#39;fill&#39;&#125;</span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;)</span><br><span class="line">)</span><br><span class="line">.end()</span><br></pre></td></tr></table></figure>

<ul>
<li>安装方法</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add svgo-loader -D</span><br></pre></td></tr></table></figure>

<h4 id="3-碰到问题安装包和-node-版本不匹配"><a href="#3-碰到问题安装包和-node-版本不匹配" class="headerlink" title="3. 碰到问题安装包和 node 版本不匹配"></a>3. 碰到问题安装包和 node 版本不匹配</h4><ul>
<li>The engine “node” is incompatible with this module. Expected version “^8.16.0 || ^10.6.0 || &gt;=11.0.0”. Got “8.12.0”</li>
<li>解决办法用 nvm 安装 10 版本的,升级办法参考:<a href="https://dev.to/peterwitham/install-and-update-nodejs-on-the-mac-with-nvm-1m9j" target="_blank" rel="noopener">https://dev.to/peterwitham/install-and-update-nodejs-on-the-mac-with-nvm-1m9j</a></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install 10</span><br></pre></td></tr></table></figure>

<h4 id="4-提交修改"><a href="#4-提交修改" class="headerlink" title="4. 提交修改"></a>4. 提交修改</h4><ul>
<li>点 Version Control-&gt;左侧飞机 icon</li>
</ul>
<h4 id="5-统一管理-SCSS-变量"><a href="#5-统一管理-SCSS-变量" class="headerlink" title="5. 统一管理 SCSS 变量"></a>5. 统一管理 SCSS 变量</h4><ul>
<li>在 assets 下新建 style/helper.scss,在用的地方进行引用</li>
<li>@import “~@/assets/style/helper.scss”</li>
</ul>
<h4 id="6-第二个坑-引用-scss-出现下划线"><a href="#6-第二个坑-引用-scss-出现下划线" class="headerlink" title="6. 第二个坑:引用 scss 出现下划线"></a>6. 第二个坑:引用 scss 出现下划线</h4><ul>
<li>在 settings 里面搜索 webpack,添加 webpack configuration file 路径</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node_modules&#x2F;@vue&#x2F;cli-service&#x2F;webpack.config.js</span><br></pre></td></tr></table></figure>

<ul>
<li>但是还没有解决，问题处在 svg-sprite-loader 有 bug,而 WebStorm 会进行提示，其实已经有人改了但是管理这个仓库的 jetBrains 没有合并,自己 folk 以下合并下 commit,再重新发布成 svg-sprite-loader-mod</li>
<li>安装 svg-sprite-loader-mod 并且把原来的 svg-sprite-loader 删除</li>
<li>vue.config.js 中 svg-sprite-loader 的地方改成 svg-sprite-loader-mod</li>
</ul>
<h4 id="7-如果有人问你遇到的最难的技术问题是什么？"><a href="#7-如果有人问你遇到的最难的技术问题是什么？" class="headerlink" title="7. 如果有人问你遇到的最难的技术问题是什么？"></a>7. 如果有人问你遇到的最难的技术问题是什么？</h4><ul>
<li>可以讲如何解决以上这两个问题,第二个问题过程更复杂。整个过程图如下图:
<img src="https://i.loli.net/2020/02/05/d4ELcaUCGbhtSZz.png" alt="svg下划线问题.png"></li>
</ul>
<h4 id="最后-个人微信-欢迎交流！"><a href="#最后-个人微信-欢迎交流！" class="headerlink" title="最后,个人微信,欢迎交流！"></a>最后,个人微信,欢迎交流！</h4><p><img src="https://i.loli.net/2020/01/30/mbV7Q3XqxedsJKP.jpg" alt="wechat0.jpg"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="codingories.github.io/2020/02/04/FLstudio%E7%9A%8413%E4%B8%AA%E5%AE%9E%E7%94%A8%E5%8A%9F%E8%83%BD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
      <meta itemprop="name" content="Ories">
      <meta itemprop="description" content="这个博客用来记录自己的生活">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="OriesノBlog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/04/FLstudio%E7%9A%8413%E4%B8%AA%E5%AE%9E%E7%94%A8%E5%8A%9F%E8%83%BD/" class="post-title-link" itemprop="url">FL studio的13个实用功能</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-02-04 10:12:13 / Modified: 13:12:27" itemprop="dateCreated datePublished" datetime="2020-02-04T10:12:13+08:00">2020-02-04</time>
            </span>

          
            <span id="/2020/02/04/FLstudio%E7%9A%8413%E4%B8%AA%E5%AE%9E%E7%94%A8%E5%8A%9F%E8%83%BD/" class="post-meta-item leancloud_visitors" data-flag-title="FL studio的13个实用功能" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/02/04/FLstudio%E7%9A%8413%E4%B8%AA%E5%AE%9E%E7%94%A8%E5%8A%9F%E8%83%BD/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/04/FLstudio%E7%9A%8413%E4%B8%AA%E5%AE%9E%E7%94%A8%E5%8A%9F%E8%83%BD/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="1-Edison-扒音频旋律"><a href="#1-Edison-扒音频旋律" class="headerlink" title="1. Edison 扒音频旋律"></a>1. Edison 扒音频旋律</h4><ul>
<li>在 FL studio 的的左侧 browser 放入素材。<ol>
<li>options-&gt;File Settings-&gt;点文件夹 icon 选择路径,Browser name 进行重命名。</li>
<li>点击 Browser 放大镜左边的 icon 可以刷新</li>
</ol>
</li>
<li>开始查找音高<ol>
<li>在素材上右键,选择 edit in audio editor</li>
<li>点扳手的 icon,选择 analysis 下的 convert to score and dump to piano roll 即可实现分析音高功能</li>
</ol>
</li>
</ul>
<h4 id="2-音频立体声扩展"><a href="#2-音频立体声扩展" class="headerlink" title="2. 音频立体声扩展"></a>2. 音频立体声扩展</h4><ul>
<li>点击音色按钮，点 Precomputed effects 左边的 icon,扳手的右边，增加 Stereo Delay 的量，这个时候底鼓就变得比较宽了，像 是在左右耳打击。</li>
</ul>
<h4 id="3-钢琴延音踏板"><a href="#3-钢琴延音踏板" class="headerlink" title="3. 钢琴延音踏板"></a>3. 钢琴延音踏板</h4><ul>
<li>钢琴一定要第三方的钢琴，点一下齿轮下第二个 icon,扳手左边,input port 和 out port 都调成 0,在另外一个选项条里面加载一个 midi out,midi out 的 port 也要确保一样的</li>
<li>输入任意的一个和弦，在 midi out 面板上点击齿轮，进入 control settings,输入 Full name,controller 输入 64 默认是延音踏板,这个按钮就可以控制延音踏板了</li>
<li>在这个按钮上点击右键，create automation clip,这个时候就可以画包络线了</li>
</ul>
<h4 id="4-删除无用的插件显示"><a href="#4-删除无用的插件显示" class="headerlink" title="4. 删除无用的插件显示"></a>4. 删除无用的插件显示</h4><ul>
<li>确保文件已经删除干净，点击 browser 上的右边喇叭的 icon，点击 Installed,Effects 的意思是效果器，Generators 的意思是音源</li>
<li>在 vst 里可以看到所有安装了和安装失败的 vst,在上面点击 windows shell menu,选择属性，看到具体路径，去具体路径找到 fst 的文件删除，然后立马关闭水果，在打开就可以了。（此操作只在 windows 下进行）</li>
</ul>
<h4 id="5-自动化包络控制"><a href="#5-自动化包络控制" class="headerlink" title="5. 自动化包络控制"></a>5. 自动化包络控制</h4><ul>
<li>此操作针对第三方，比如 serum,在需要控制的旋钮上先随意动一下，然后选在 TOOLS-&gt;Last tweaked-&gt;Create automation clip</li>
<li>这个时候创造出来的包络线就是可以控制旋钮的包络线</li>
</ul>
<h4 id="6-把电脑键盘当-midi-键盘"><a href="#6-把电脑键盘当-midi-键盘" class="headerlink" title="6. 把电脑键盘当 midi 键盘"></a>6. 把电脑键盘当 midi 键盘</h4><ul>
<li>最大的好处是没有 midi 键盘，又想试听某个合成器的音色，这个方法是非常方便的。</li>
<li>点亮键盘按钮
<img src="https://i.loli.net/2020/02/04/EYd6peZjrkCMy8z.jpg" alt="keyboad.jpeg"></li>
<li>确保输入法为默认英文输入法，就可以了</li>
</ul>
<h4 id="7-中途改变拍数"><a href="#7-中途改变拍数" class="headerlink" title="7. 中途改变拍数"></a>7. 中途改变拍数</h4><ul>
<li>在钢琴卷帘窗口按 command+T,然后在上面右击选择 Add time signature，设置拍数，完成。</li>
</ul>
<h4 id="8-midi-导入和导出"><a href="#8-midi-导入和导出" class="headerlink" title="8. midi 导入和导出"></a>8. midi 导入和导出</h4><ul>
<li>导入，直接拖动 midi 文件到音色块</li>
<li>导出，TOOLS-&gt;Macros-&gt;Prepare for MIDI export,点击之前一定要先保存下工程文件，因为这个操作是不可逆的,然后点击 ok,接下来选择 FILE-&gt;Export-&gt;Midi File。导出操作完成那么再把文件导入的话，会有 which tracks to import，你可以根据需求来选择。</li>
<li>只想导出几轨，把想要导出的轨道的灯点亮</li>
</ul>
<h4 id="9-复制包络线"><a href="#9-复制包络线" class="headerlink" title="9. 复制包络线"></a>9. 复制包络线</h4><ul>
<li>双击包络线，选择扳手 icon-&gt;copy state,进入到另一个包络线，选择 paste state,</li>
</ul>
<h4 id="10-锁定包络线轨道"><a href="#10-锁定包络线轨道" class="headerlink" title="10. 锁定包络线轨道"></a>10. 锁定包络线轨道</h4><ul>
<li>此功能在编辑一些电子和 hiphop 的时候经常用到,在包络线的灯的地方按住 shift 点击左键，会出现一个锁，这个时候 mute 调 track,包络线不会被 mute 掉，锁的地方会永远有效果。</li>
</ul>
<h4 id="11-多次撤销"><a href="#11-多次撤销" class="headerlink" title="11. 多次撤销"></a>11. 多次撤销</h4><ul>
<li>ctrl+z 只能撤销一步，一直撤销 brower 中间的 icon 选择 history,也可以 ctrl+alt+z</li>
</ul>
<h4 id="12-让音频自己切自己"><a href="#12-让音频自己切自己" class="headerlink" title="12. 让音频自己切自己"></a>12. 让音频自己切自己</h4><ul>
<li>这个功能适合做 hiphop,点击音色，点击扳手，Group 下的 Cut 和 By,都设置成同样的数字，意思是自己切断自己的音符</li>
<li>还有一个功能 midi 音符多长就停在哪里，点击扳手左边的 icon,envelop 点亮，如果第二栏没有那么就把波形重新拖出来，把 envelope 设置成一个最宽的长方形，hold 和 sustain 调到最高。</li>
</ul>
<h4 id="13-包络线整体批量调节"><a href="#13-包络线整体批量调节" class="headerlink" title="13. 包络线整体批量调节"></a>13. 包络线整体批量调节</h4><ul>
<li>双击包络线，选择扳手 icon,选择 scale levels,multiply 是以比例，offset 就是以固定比例上调，轨道里面下方的 control-&gt;note velocity-&gt;channel volume 调的包络线可以按 alt+x 调出界面</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/8/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/24/">24</a><a class="extend next" rel="next" href="/page/10/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Ories"
      src="https://i.loli.net/2020/07/12/RPjkZxei6agC49U.jpg">
  <p class="site-author-name" itemprop="name">Ories</p>
  <div class="site-description" itemprop="description">这个博客用来记录自己的生活</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">234</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">70</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/codingories" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;codingories" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ories</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('https://cdn.jsdelivr.net/npm/valine@1.3.9/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : true,
      notify     : true,
      appId      : 'HHvArpMYcwuYjNb3703JgvvS-gzGzoHsz',
      appKey     : '5lSamU58UyScrMIQcUygcD2I',
      placeholder: "欢迎畅所欲言",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : 'true'
    });
  }, window.Valine);
});
</script>

</body>
</html>
